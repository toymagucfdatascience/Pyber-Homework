var AutoInternal,AutoRestModels,AutoClientModels,Panopto,PanoptoTS,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),__assign=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Browser=function(e){return e.isChrome=-1!==navigator.userAgent.indexOf("Chrome"),e.isSafari=-1!==navigator.userAgent.indexOf("Safari")&&!e.isChrome,e.isMobileSafari=e.isSafari&&-1!==navigator.userAgent.indexOf(" Mobile/"),e.isMac=-1!==navigator.platform.indexOf("Mac"),e.isIE="Microsoft Internet Explorer"===navigator.appName,e.isIE8=e.isIE&&-1!==navigator.userAgent.indexOf("MSIE 8"),e.isIE9=e.isIE&&-1!==navigator.userAgent.indexOf("MSIE 9"),e.isAndroid=/Silk|Android/i.test(navigator.userAgent),e.isWebkit=/webkit/i.test(navigator.userAgent),e.isFirefox=/firefox/i.test(navigator.userAgent),e.isIE11=-1!==navigator.userAgent.indexOf("Trident/"),e.isEdge=-1!==navigator.userAgent.indexOf("Edge/"),e.isMobileOrTablet=e.isAndroid||e.isMobileSafari,e.isTouchSupported="ontouchstart"in window||window.navigator.msMaxTouchPoints,e.isWin7=/Windows NT 6\.1/.test(navigator.userAgent),e.isWin7IE11=e.isIE11&&e.isWin7,e.isCssSupported=function(t){var o=(document.body||document.documentElement).style,n=!1;return"string"==typeof o[t]||(t=t.charAt(0).toUpperCase()+t.substr(1),_.each(["Moz","webkit","Webkit","Khtml","O","ms"],function(e){"string"!=typeof o[e+t]&&"string"!=typeof o[String.format("-{0}-",e)+t.toLowerCase()]||(n=!0)}),n)},e.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},e.supportsVideo=function(e){var t=!1,o=document.createElement("video");try{o.canPlayType&&o.canPlayType(e).replace(/no/,"")&&(t=!0)}catch(e){}return t},e.flashEnabled=function(){var t,e=Panopto.Core.StringHelpers.parseQueryString(window.location.search.slice(1));try{t=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){t=navigator.mimeTypes&&null!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin}return t&&"true"!==e[Panopto.Core.Constants.IgnoreFlashParamKey]},e.fullscreenApiSupported=_.any(["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],function(e){return"function"==typeof document[e]}),e.fullscreenEnabled=Boolean(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),e.fullscreenEvent=function(t){$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t(!!e)})},e.isSilverlightSupported=function(){return!e.isChrome&&!e.isEdge&&!e.isFirefox},e.triggerResizeEvent=function(){try{window.dispatchEvent(new Event("resize"))}catch(e){var t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}},e}(Panopto.Core.Browser||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Configuration=function(e){return _.templateSettings={interpolate:/\<\@\=(.+?)\@\>/g,escape:/\<\@\-(.+?)\@\>/g,evaluate:/\<\@(.+?)\@\>/g},$.datepicker.setDefaults($.datepicker.regional[""]),e}(Panopto.Core.Configuration||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=function(e){return e.Types={Undefined:"undefined"},e.ClickedClass="clicked",e.DisabledClass="disabled",e.InactiveClass="inactive",e.EllipsisClass="ellipsis",e.NoTooltipClass="no-tooltip",e.HighlightedClass="highlighted",e.PlaceholderClass="placeholder",e.HoveringClass="hovering",e.EditingClass="editing",e.ModalSpinningClass="spinning",e.SelectedClass="selected",e.ExpandedClass="expanded",e.ErrorClass="error",e.MaterialIconsClass="material-icons",e.CanvasFont="10px Segoe UI, Helvetica, sans-serif",e.CanvasFontColor="#464646",e.CanvasRulerTickColor="#767676",e.AriaExpandedAttribute="aria-expanded",e.InitAttribute="data-init",e.EmptyGuid="00000000-0000-0000-0000-000000000000",e.MaxSQLDate=new Date("12/31/9999 23:59:59 UTC"),e.Win32EpochDate=new Date("1/1/1601 00:00:00 UTC").getTime(),e.Win32EpochDateISO="1601-01-01T00:00:00Z",e.UploadFilenameLengthLimit=100,e.HitMatcher=/<span class="match">(.*?)<\/span>/,e.SafeBreakMatcher=/CF63758C-0661-4168-B6C1-0424769D7915/,e.UrlMatcher=/^https?:\/\//,e.ByteResourceKey="Bytes_{0}",e.DefaultMaxRating=5,e.PollStatusTime=5e3,e.CompletedExpiration=6,e.SessionListContextResultsCharacterLimit=70,e.AppDeliveryIdParameter="d",e.AppStartSecondsParameter="st",e.AppFolderIdParameter="f",e.AppSessionIdParameter="s",e.AppInviteTokenParameter="tid",e.AppActionTypeParameter="a",e.AppRecordAction="record",e.AppBrowseAction="browse",e.AppPlayAction="play",e.FolderIdParameter="folderID",e.ExternalContextParamKey="externalID",e.ItemNameParameter="title",e.ProviderParamKey="instance",e.IgnoreFlashParamKey="ignoreflash",e.MobileLaunchChoice="launchChoice",e.MobileLaunchApp="chooseMobileApp",e.MobileLaunchWeb="chooseMobileWeb",e.MobileLaunchIgnoreCookie="ignoreMobileChoiceCookie",e.CsrfTokenCookieName="csrfToken",e.CsrfTokenHeaderName="X-Csrf-Token",e.UserSettingsStorageKeyFormat="Panopto.UserSettings[{0}]",e.UserSettingsCookieAnonymousUser=":anonymous:",e.MaxQueryStringLength=2048,e.EmbedDefaultHeight=480,e.EmbedDefaultWidth=720,e.EmbedAudioDefaultHeight=100,e.EmbedAudioDefaultWidth=720,e.BlankPageUrl="about:blank",e.SessionsListAppRelativeUrl="/Pages/Sessions/List.aspx",e.LoginUrl="{0}/Pages/Auth/Login.aspx",e.SignUpUrlParams="?token={0}&email={1}",e.ShareUrl="http://support.panopto.com/{0}/{1}",e.EmbeddedFolderSupportUrl="http://support.panopto.com/documentation/video-management/embedded-playlist-widget",e.EmbeddedSessionSupportUrl="http://support.panopto.com/documentation/video-management/embedding-session-mp4",e.ThirdPartyCookieSupportUrl="https://support.panopto.com/s/article/How-to-Enable-Third-Party-Cookies-in-Supported-Browsers",e.InternalMembershipProviderType=0,e.InternalMembershipProviderName="panoptointernal",e.UnifiedMembershipProviderName="unified",e.FadeOutSpeed=300,e.ActiveUserTimeout=5e3,e.MessageTimeout=1e4,e.MaxSuggestionResults=50,e.MinSearchCharacters=3,e.TimelineChunkMultiplier=1e7,e.TimelineChunkToMillisMultiplier=1e4,e.MaxTimelineZoom=60*e.TimelineChunkMultiplier,e.TimelineZoomFactor=1.2,e.SnapTolerance=10,e.AudioIconCode="&#xE029;",e.DocumentIconCode="&#xE415;",e.LinkIconCode="&#xE157",e.ObjectVideoIconCode="&#xE04B;",e.ScreenIconCode="&#xE30A;",e.SessionIconCode="&#xE04B;",e.SlideIconCode="&#xE3B6;",e.QuestionListIconCode="&#xE862",e.YouTubeIconCode="&#xE639",e.ShowTabsChooseOnlyValue="chooseOnly",e.ApiVersion="1.0-beta",e}(Panopto.Core.Constants||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Key=function(e){return e.Tab=9,e.Enter=13,e.Shift=16,e.Ctrl=17,e.Esc=27,e.Space=32,e.UpArrow=38,e.DownArrow=40,e.LeftArrow=37,e.RightArrow=39,e.PageUp=33,e.PageDown=34,e.Home=36,e.End=35,e.Asterisk=56,e.Zero=48,e.One=49,e.Two=50,e.Three=51,e.Four=52,e.Five=53,e.Six=54,e.Seven=55,e.Eight=56,e.Nine=57,e.C=67,e.F=70,e.M=77,e.S=83,e.Y=89,e.Z=90,e.KeypadAsterisk=106,e.KeypadPlus=107,e.KeypadMinus=109,e.Period=190,e.ForwardSlash=191,e.Plus=Panopto.Core.Browser.isFirefox?61:187,e.Minus=Panopto.Core.Browser.isFirefox?173:189,e}(Panopto.Core.Key||{}),Panopto.Core.MouseButton=function(e){return e.Left=1,e.Middle=2,e.Right=3,e}(Panopto.Core.MouseButton||{}),Panopto.Core.DeviceMediaType=function(e){return e.Unknown=0,e.DV=1,e.HDV=2,e.Video=3,e.Audio=4,e.Screen=5,e.File=6,e}(Panopto.Core.DeviceMediaType||{}),Panopto.Core.StatsReportType=function(e){return e.FolderUsage=0,e.SessionUsage=1,e.UserViewingUsage=2,e.UserCreationUsage=3,e.LastLoginTime=4,e.SessionsViewsByUsers=5,e.SessionsViewsByViewingType=6,e.SessionsCreatedOrEdited=7,e.RemoteRecorderUsage=8,e.SystemViews=9,e}(Panopto.Core.StatsReportType||{}),Panopto.Core.RemoteRecorderState=function(e){return e.Stopped=0,e.Previewing=1,e.Recording=2,e.Paused=3,e.Faulted=4,e.Disconnected=5,e.RecorderRunning=6,e}(Panopto.Core.RemoteRecorderState||{}),Panopto.Core.PasswordValidationStatus=function(e){return e.Valid=0,e.RegexFailure=1,e.PasswordTooShort=2,e.PasswordMissingNonAlphanumericChars=3,e.PasswordInHistory=4,e.UsedUsername=5,e}(Panopto.Core.PasswordValidationStatus||{}),Panopto.Core.MajorSupportArea=function(e){return e.None="None",e.Admin="Admin",e.Editor="Editor",e.Folders="Folders",e.Groups="Groups",e.Login="Login",e.Recorder="Recorder",e.Settings="Settings",e.Upload="Upload",e.Viewer="Viewer",e.Silverlight="Silverlight",e}(Panopto.Core.MajorSupportArea||{}),Panopto.Core.MinorSupportArea=function(e){return e.None="None",e.Branding="Branding",e.ContractUsage="ContractUsage",e.CreateSite="CreateSite",e.Licenses="Licenses",e.IdentityProviders="IdentityProviders",e.RemoteRecorders="RemoteRecorders",e.Settings="Settings",e.Status="Status",e.Transcription="Transcription",e.Usage="Usage",e.Users="Users",e.Cookies="Cookies",e.BasicRecording="BasicRecording",e.RecorderConfig="RecorderConfig",e.RecordingStatus="RecordingStatus",e.Sharing="Sharing",e.Safari="Safari",e.Bookmarks="Bookmarks",e.Comments="Comments",e.Notes="Notes",e.Questions="Questions",e.SecureBrowsers="SecureBrowsers",e.Chrome="Chrome",e}(Panopto.Core.MinorSupportArea||{}),Panopto.Core.SettingInputType=function(e){return e.SingleLine="SingleLine",e.MultiLine="MultiLine",e.Password="Password",e.DropDown="DropDown",e.Reset="Reset",e.Numeric="Numeric",e}(Panopto.Core.SettingInputType||{}),Panopto.Core.AccessRoleType=function(e){return e.Enumerate="Enumerate",e.ViewInfo="ViewInfo",e.Preview="Preview",e.Record="Record",e.EditConfiguration="EditConfiguration",e.EditAccessEntries="EditAccessEntries",e.ViewSchedule="ViewSchedule",e.ViewScheduleDetails="ViewScheduleDetails",e.EditSchedule="EditSchedule",e}(Panopto.Core.AccessRoleType||{}),Panopto.Core.EventTargetType=function(e){return e.Null=0,e.PowerPoint=1,e.ObjectVideo=2,e.VirtualVideo=3,e.Notes=4,e.TagSet=5,e.Transcript=6,e.PDF=7,e.MachineTranscript=8,e.VideoThumbnail=9,e.Primary=10,e.UserCreatedTranscript=11,e.Comments=12,e.Bookmarks=13,e.Questions=14,e.OcrOutput=15,e}(Panopto.Core.EventTargetType||{}),Panopto.Core.EventType=function(e){return e.Label=0,e.SlideChange=1,e.Note=2,e.Bookmark=3,e.Caption=4,e.Comment=5,e.SpeechRecognition=6,e.OcrRecognition=7,e}(Panopto.Core.EventType||{}),Panopto.Core.FolderType=function(e){return e.Normal=0,e.Sandbox=1,e.SandboxRoot=2,e.SandboxArchiveRoot=3,e}(Panopto.Core.FolderType||{}),Panopto.Core.ErrorCode=function(e){return e.Success=0,e.SiteDisabled=1,e.LoginRequired=2,e.AccessRequired=3,e.PodcastRequired=4,e.InvalidUrl=5,e.InvalidDelivery=6,e.UnknownError=7,e.NotInAvailabilityWindow=8,e.InvalidFormatForSSL=9,e.InvalidPlaylist=10,e.InvalidPlaylistUrl=11,e.InvalidPlaylistNoSessions=12,e}(Panopto.Core.ErrorCode||{}),Panopto.Core.FolderSet=function(e){return e.AllSessionCreationFolders=0,e.AllFolders=1,e.AllFolderCreationFolders=2,e.ExplicitCreatorFolders=3,e}(Panopto.Core.FolderSet||{}),Panopto.Core.StreamType=function(e){return e.Unknown=0,e.PrimaryVideo=1,e.SecondaryVideo=2,e.SecondaryPresentation=3,e}(Panopto.Core.StreamType||{}),Panopto.Core.UploadStatus=function(e){return e.Uploading=0,e.UploadComplete=1,e.UploadCancelled=2,e.Processing=3,e.Complete=4,e.ProcessingError=5,e.DeletingFiles=6,e.Deleted=7,e.DeletingError=8,e}(Panopto.Core.UploadStatus||{}),Panopto.Core.UploadErrorType=function(e){return e.Import=0,e.FileDialog=1,e.MultiUploadDisabled=2,e}(Panopto.Core.UploadErrorType||{}),Panopto.Core.QuestionType=function(e){return e.TrueFalse=0,e.MultipleChoice=1,e.MultipleSelect=2,e}(Panopto.Core.QuestionType||{}),Panopto.Core.MediaFileType=function(e){return e.unknown=0,e.ism=1,e.mp3=2,e.mp4=3,e.mov=4,e.wmv=5,e.avi=6,e.manifest=7,e.hist=8,e.wav=9,e.packedraw=10,e.hls=11,e.rawsample=12,e.m4a=13,e.m4v=14,e}(Panopto.Core.MediaFileType||{}),Panopto.Core.InvocationType=function(e){return e.None=0,e.VideoPodcastDownload=1,e.AudioPodcastDownload=2,e.VideoPodcastStreaming=4,e.AudioPodcastStreaming=8,e.VideoPodcastSyndicated=16,e.AudioPodcastSyndicated=32,e.WebViewer=64,e.EmbedViewer=128,e.MobileApplication=256,e.WebViewerBroadcast=512,e.TabletDownload=1024,e.MobileWebBroadcast=2048,e.EmbedBroadcast=4096,e.MobileApplicationBroadcast=8192,e.AndroidApplication=16384,e.AndroidApplicationBroadcast=32768,e.SocialEmbed=65536,e.All=2147483647,e}(Panopto.Core.InvocationType||{}),Panopto.Core.StreamRequestStartReason=function(e){return e.Unknown=0,e.Unexpected=1,e.Start=2,e.Resume=3,e.Seek=4,e.NewSpeed=5,e}(Panopto.Core.StreamRequestStartReason||{}),Panopto.Core.StreamRequestStopReason=function(e){return e.Unknown=0,e.Unexpected=1,e.End=2,e.Pause=3,e.Seek=4,e.SpeedChange=5,e.PlayerClose=6,e}(Panopto.Core.StreamRequestStopReason||{}),Panopto.Core.ViewerLogEntryType=function(e){return e.UserInitiatedSync=1,e.StreamDesync=2,e.StreamSync=3,e.StreamChange=4,e.PlayStateChange=5,e.PositionSet=6,e.PlaybackSpeedChange=7,e.QualityChange=8,e.FullscreenChange=9,e}(Panopto.Core.ViewerLogEntryType||{}),Panopto.Core.ViewerPlayState=function(e){return e.Playing=1,e.Paused=2,e.Stopped=3,e.Buffering=4,e}(Panopto.Core.ViewerPlayState||{}),Panopto.Core.NavBarSection=function(e){return e.None=0,e.Folders=1,e.Admin=2,e.MultiSiteAdmin=3,e}(Panopto.Core.NavBarSection||{}),Panopto.Core.PlayableObjectType=function(e){return e.Video=0,e.Playlist=1,e.Shortcut=2,e}(Panopto.Core.PlayableObjectType||{}),Panopto.Core.MediaVRType=function(e){return e.None=0,e.Full=1,e.Half=2,e}(Panopto.Core.MediaVRType||{}),Panopto.Core.PodcastDetails=function(e){return e.Uninitialized=0,e.AudioOnly=1,e.VideoOnly=2,e.AudioAndVideo=e.AudioOnly|e.VideoOnly,e}(Panopto.Core.PodcastDetails||{}),function(e){var t,o;t=e.Core||(e.Core={}),(o=t.Position||(t.Position={}))[o.Top=0]="Top",o[o.Bottom=1]="Bottom",o[o.Left=2]="Left",o[o.Right=3]="Right"}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Extensions=function(n){return n.superior=function(e,t){var o=e[t];return function(){return o.apply(e,arguments)}},n.base=function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&"function"==typeof e[o]&&(t[o]=n.superior(e,o));return t},String.prototype.format||(String.prototype.format=function(){var o=arguments;return 1===arguments.length&&$.isArray(arguments[0])&&(o=arguments[0]),this.replace(/{(\d+)}/g,function(e,t){return void 0!==o[t]?o[t]:e})}),String.prototype.replaceAll=function(e,t){var o=new RegExp(e,"g");return this.replace(o,t)},String.prototype.repeat||(String.prototype.repeat=function(e){for(var t="",o=this.valueOf();0<e;)1&e&&(t+=o),e>>=1,o+=o;return t}),String.prototype.includes||(String.prototype.includes=function(e,t){return-1!==this.indexOf(e,t)}),Array.prototype.includes||(Array.prototype.includes=function(e,t){return-1!==this.indexOf(e,t)}),Math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},Panopto.Core.Math=Panopto.Core.Math||{},Panopto.Core.Math.clamp=Math.clamp,Date.prototype.toWCFString=function(){return"/Date({0})/".format(this.getTime())},Date.prototype.toISOString||(Date.prototype.toISOString=function(){var e=function(e){return e<10?"0"+e:e};return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}),_.findIndex||(_.findIndex=function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o}),_.findLastIndex||(_.findLastIndex=function(e,t){for(var o=e.length-1;0<=o;o--)if(t(e[o],o,e))return o}),n}(Panopto.Core.Extensions||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.JobQueue=function(e){var r=(e=e||{}).maxDegreeOfParallelism||4,i=e.maxAttempts||3,a=!!e.autoStart,s=!1,c={},l=[],d=[],u=[],p=0,f=$.Callbacks(),m=$.Callbacks(),h=function(){return!_.isEmpty(c)},v=function(e){return c[e]=c[e]||[]},C=function(){var e,t,o,n;if(h()||l.length)for(s||(s=!0,f.fire());h()&&l.length<r;)void 0,t=_.keys(c),o=t.length?_.min(t):null,n=c[o].shift(),c[o].length||delete c[o],P(e=n)||(!i||e.attempts<i?(l.push(e),e.complete=_.partial(function(t,e){P(t)||(e||(t.attempts++,v(t.priority).push(t)),l=_.reject(l,function(e){return e.id==t.id}),_.defer(C))},e),e.cancel=_.partial(function(t){l=_.reject(l,function(e){return e.id==t.id}),t.onCancel&&t.onCancel(),_.defer(C)},e),e.attempt(e.complete)):(e.onFailure&&e.onFailure(),_.defer(C)));else s&&(s=!1,d=u=[],m.fire())},P=function(e){return-1<d.indexOf(e.id)||-1<u.indexOf(e.correlationId)},o=function(e,t,o){if(o=_.defaults({},o,{once:!1}),_.contains(["start","complete"],e)&&_.isFunction(t)){var n="start"===e?f:m;o.once&&(t=_.wrap(t,function(e){e(),n.remove(t)})),n.add(t)}};this.isRunning=function(){return s},this.getMaxDegreeOfParallelism=function(){return r},this.getMaxAttempts=function(){return i},this.hasQueuedJobs=h,this.emptyQueue=function(){c={}},this.queueJob=function(e){var t=p++,o=Number(e.priority)||0,n={id:t,attempt:e.attempt,onCancel:e.onCancel,onFailure:e.onFailure,correlationId:String(e.correlationId),priority:o,attempts:0};return v(n.priority).push(n),a&&C(),t},this.doJobs=C,this.cancelJob=function(e){e=Number(e),-1===d.indexOf(e)&&d.push(e);var t=_.findWhere(l,{id:e});t&&t.cancel()},this.cancelCorrelatedJobs=function(e){e=String(e),-1===u.indexOf(e)&&u.push(e);var t=_.where(l,{correlationId:e});_.each(t,function(e){e.cancel()})},this.completeCorrelatedJobs=function(e,t){e=String(e);var o=_.where(l,{correlationId:e});_.each(o,function(e){e.complete(t)})},this.on=function(e,t){o(e,t)},this.one=function(e,t){o(e,t,{once:!0})}},function(o){var e=function(){function e(){this.sessionListUrlPath="/Pages/Sessions/List.aspx",this.departmentBrandingUrlPath="/Pages/Admin/DepartmentBranding.aspx?",this.analyticsDashboardUrlPath="/Pages/Analytics.aspx",this.departmentIdParameter="departmentId"}return e.prototype.getBaseUrl=function(){return Panopto.uriScheme+"://"+Panopto.webServerFQDN+Panopto.appRoot},e.prototype.getSessionListUrl=function(){return this.getBaseUrl()+this.sessionListUrlPath},e.prototype.getDepartmentBrandingUrl=function(e){var t={};return t[this.departmentIdParameter]=e,o.StringHelpers.addQueryParameter(this.getBaseUrl()+this.departmentBrandingUrlPath,t)},e.prototype.getFolderListUrl=function(e){var t={};return t[Panopto.Core.Constants.FolderIdParameter]=e,o.StringHelpers.addQueryParameter(this.getSessionListUrl(),t)},e.prototype.getAnalyticsDashboardUrl=function(e){var t=o.StringHelpers.serializeObjectToQueryString(e);return this.getBaseUrl()+this.analyticsDashboardUrlPath+window.location.search+(t?"#"+t:"")},e}();o.Locations=e}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.LogMode=function(e){return e.Playback="playback",e.All="all",e}(Panopto.Core.LogMode||{}),Panopto.Core.Logger=function(e,a){var s;return $(document).ready(function(){s=Panopto.Core.StringHelpers.parseQueryString(window.location.search.slice(1)).logmode}),{log:function(t,e){var o,n,r,i;if(window.console&&(s===a.All||s===e)){s===a.All&&(t="{0} ({1})".format(t,e));try{throw Error()}catch(e){o=e}try{r=(n=o.stack.split("\n")[Panopto.Core.Browser.isFirefox?1:3]).substring(n.lastIndexOf("/")+1,n.indexOf(".js")+3),i=(n=n.substr(0,n.lastIndexOf(":"))).substr(n.lastIndexOf(":")+1,n.length),console.log("{0} {1}: {2}".format(r,i,t))}catch(e){console.log(t)}}}}}(Panopto.Core.Logger,Panopto.Core.LogMode),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.CancellableRequest=function(e){this.cancel=e||$.noop},function(e){var t=function(){};(PanoptoTS||(PanoptoTS={})).UserSettings=t}(),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},function(e){var t=function(){function e(){}return e.format=function(e){for(var t,o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return(t=Panopto.Core.StringHelpers).format.apply(t,[e].concat(o))},e.parseQueryString=function(e,t,o){return Panopto.Core.StringHelpers.parseQueryString(e,t,o)},e.addQueryParameter=function(e,t){return Panopto.Core.StringHelpers.addQueryParameter(e,t)},e.serializeObjectToQueryString=function(e){return Panopto.Core.StringHelpers.serializeObjectToQueryString(e)},e.roundNumber=function(e,t){return Panopto.Core.StringHelpers.roundNumber(e,t)},e}();e.StringHelpers=t}(PanoptoTS||(PanoptoTS={})),Panopto.Core.StringHelpers=function(a){var s=Panopto.Core.Constants;a.parseBoolean=function(e){return"true"===String(e).toLowerCase()};var o=/(.*)\.(.*)/;return a.serializeObjectToString=function(e,n,t,r){var o="",i=function(e,t,o){t=r?encodeURIComponent(t):t,e=r?encodeURIComponent(e):e,o.push(n.format(t,e))};if(e&&"object"==typeof e){var a=[];_.each(e,function(e,t){_.isArray(e)?_.each(e,function(e){i(e,t,a)}):i(e,t,a)}),o=a.join(t)}return o},a.serializeObjectToQueryString=function(e){return a.serializeObjectToString(e,"{0}={1}","&",!0)},a.serializeObjectToInitParams=function(e){return a.serializeObjectToString(e,"{0}={1}",",",!1)},a.addQueryParameter=function(e,t){var o=a.serializeObjectToQueryString(t),n=-1===e.indexOf("?")?"?":"&";return e+n+o},a.setQueryParameters=function(e,t){var o=document.createElement("a");o.href=e;var n=a.parseQueryString(o.search,!0);return _.extend(n,t),o.search=a.serializeObjectToQueryString(n),o.href},a.convertFragmentToQuery=function(e){var t=-1===e.indexOf("?")?"?":"&";return e.replace("#",t)},a.replaceQueryString=function(e,t){var o=e.indexOf("?");return(0<=o?e.substr(0,o):e)+"?"+a.serializeObjectToQueryString(t)},a.parseQueryString=function(e,t,o){var n,r={};if("string"==typeof e){0!==e.indexOf("?")&&0!==e.indexOf("#")||(e=e.substring(1));for(var i=0,a=e.split("&");i<a.length;i++){n=a[i].split("="),t&&(n=_.map(n,decodeURIComponent)),n[0]&&(o?r[n[0].toLowerCase()]=n[1]:r[n[0]]=n[1])}}return r},a.getMajorVersion=function(e){var t=e.lastIndexOf(".");return e.substring(0,t)},a.getHelpUrl=function(e,t,o){var n=a.getMajorVersion(e);return o?Panopto.Core.Constants.ShareUrl.format(n,t+"/"+o):Panopto.Core.Constants.ShareUrl.format(n,t)},a.convertValueToLocalizedString=function(e,t){var o=parseFloat(e);if(o.toString()===e)return o.toLocaleString();var n=Date.parse(e);if(isNaN(n))return e;var r=new Date(n);try{o=r.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short",localeMatcher:"lookup"})}catch(e){o=r.toLocaleDateString()}return o},a.displayStringFromResourceString=function(e,t,o,n){if(null!==e&&0===e.indexOf(t)){var r=e.split(",");if(e=n[r[0].trim().slice(t.length+1)]||"",1<r.length){var arguments=$.map(r.slice(1),function(e){return a.convertValueToLocalizedString($.trim(e),o)});e=e.format(arguments)}}return e},a.readableByteCount=function(e,t,o){if(!e)return"0";var n=[t[s.ByteResourceKey.format("B")],t[s.ByteResourceKey.format("KB")],t[s.ByteResourceKey.format("MB")],t[s.ByteResourceKey.format("GB")],t[s.ByteResourceKey.format("TB")],t[s.ByteResourceKey.format("PB")],t[s.ByteResourceKey.format("EB")]],r=Math.floor(Math.log(e)/Math.log(1024)),i=Math.round(e/Math.pow(1024,r)*10)/10;return(o?i.toFixed(1):i)+" "+n[r]},a.readableUploadProgress=function(e,t,o,n){var r=a.readableByteCount(e,o,!0),i=a.readableByteCount(t,o);return r.substr(r.indexOf(" ")+1)===i.substr(i.indexOf(" ")+1)&&(r=r.substring(0,r.indexOf(" "))),o[n].format(r,i)},a.getProviderForUser=function(e){var t=null;return e&&e.userKey&&0<e.userKey.indexOf("\\")&&(t=Panopto.user.userKey.split("\\")[0]),t},a.cleanIllegaljQueryChars=function(t){return _.each(["@","\\?","\\\\","{","}",":","&","#"," ","\\(","\\)"],function(e){t=t.replaceAll(e,"")}),t},a.escapeRegex=function(e){return e.replace(/[ \- \[ \] { } ( ) * + ? . , \\ \^ $ | # \s ]/g,"\\$&")},a.lowerCaseFirstCharacter=function(e){var t=e;return _.isString(e)&&e.length&&(t=e[0].toLowerCase()+e.slice(1)),t},a.cleanFilename=function(e,t){t=_.defaults(t||{},{maxLength:null,maxExtensionLength:_.isNumber(t.maxLength)?Math.round(t.maxLength/2):null}),e=_.isString(e)?e:"";var o=a.parseFilename(e).replace(/[^\w .]/g,"_"),n=a.parseExtension(e).replace(/[^\w .]/g,"_");return _.isNumber(t.maxExtensionLength)&&(n=n.substring(0,t.maxExtensionLength)),n=n.length?"."+n:"",_.isNumber(t.maxLength)&&(o=o.substring(0,t.maxLength-n.length)),o+n},a.parseFilename=function(e){var t=e.match(o);return t?t[1]:e},a.parseExtension=function(e){var t=e.match(o);return t?t[2].toLowerCase():""},a.format=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return e.format(t)},a.roundNumber=function(e,t){var o;e=+e;do{var n=Math.pow(10,t);o=Math.round(e*n)/n,t++}while(0===o&&0!==e);return o},a.getLocaleSortedStringIndex=function(e,t,o){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;0<t.localeCompare(e[i],o)?n=i+1:r=i}return n},a}(Panopto.Core.StringHelpers||{}),function(o){var n=Panopto.Core.Constants,r=o.StringHelpers,e=function(){function t(e){this._onSettingChanged=new o.Models.TypedCallback;var t=e.user.userKey||n.UserSettingsCookieAnonymousUser;this.userSettingsKey=r.format(n.UserSettingsStorageKeyFormat,t),this.load()}return t.getInstance=function(e){return void 0===e&&(e=Panopto),t.instance||(t.instance=new t(e)),t.instance},t.dispose=function(){t.instance=null},Object.defineProperty(t.prototype,"onSettingChanged",{get:function(){return this._onSettingChanged},enumerable:!0,configurable:!0}),t.prototype.getSetting=function(e){return this.userSettings[e]},t.prototype.setSetting=function(e,t){this.userSettings[e]=t,this.store(),this._onSettingChanged.fire(e)},t.prototype.clearSettings=function(){delete localStorage[this.userSettingsKey]},t.prototype.load=function(){this.userSettings={};var e=localStorage[this.userSettingsKey];if(e)try{this.userSettings=JSON.parse(e)}catch(e){}},t.prototype.store=function(){var e=JSON.stringify(this.userSettings);localStorage[this.userSettingsKey]=e},t}();o.UserSettingsService=e}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Analytics=Panopto.Core.Analytics||{},Panopto.Core.StreamRequestStartReason=Panopto.Core.StreamRequestStartReason||{},Panopto.Core.ViewerPlayState=Panopto.Core.ViewerPlayState||{},Panopto.Core.Analytics.PlaybackLogger=function(i,t,n,a){n=n||Panopto.Core.ServiceInterface.AnalyticsIngest.addStreamRequests,(a=a||{}).onSpanUpdated=a.onSpanUpdated||$.noop;var s,e,o,r,c,l,d=1,u=1,p=100,f=3e4,m="logger",h=[],v=!1,C=function(e){return e.secondsListened>=d},P=function(e){s||(s={invocationId:t,playbackSpeed:i.playSpeed(),streamId:i.streamId(),startPosition:Math.max(0,i.position()),timestamp:new Date,secondsListened:0,secondsRejected:0,startReason:e||Panopto.Core.StreamRequestStartReason.Unknown,stopReason:null,lastUpdateTime:new Date,updatesRejected:0,lastRecordedPosition:null})},S=function(e){s&&C(s)&&(s.stopReason=e||Panopto.Core.StreamRequestStopReason.Unknown,h.push(s)),s=void 0},g=function(){var e,t,o,n=new Date;if(s&&(e=s.lastRecordedPosition?s.secondsListened+i.position()-s.lastRecordedPosition:i.position()-s.startPosition)){if(t=(n.getTime()-s.lastUpdateTime.getTime())/1e3*i.playSpeed()+u,e>=s.secondsListened&&e<s.secondsListened+t)o=e-s.secondsListened,s.secondsListened=e;else{var r=0;r=e<s.secondsListened?s.secondsListened-e:e-(s.secondsListened+(t-u)),s.secondsRejected+=r,s.updatesRejected+=1}s.updatesRejected&&(s.lastRecordedPosition=Math.max(0,i.position())),s.lastUpdateTime=n,o&&a.onSpanUpdated(o)}},y=function(e){var t;e=_.defaults(e||{},{isUnloading:!1});var o=s&&C(s)&&s.secondsListened!==s.recordedSecondsListened;v||(t=h.concat(o?[s]:[])).length&&(v=!0,o&&(s.recordedSecondsListened=s.secondsListened),n(t,function(e){t[t.length-1].id=e},function(){o&&(s=void 0,P(Panopto.Core.StreamRequestStartReason.Unexpected))},function(){_.each(t,function(e){var t=h.indexOf(e);0<=t&&h.splice(t,1)}),v=!1},e.isUnloading))};return{start:function(){r=i.onSeek(function(){0===h.length&&s&&0===s.secondsListened&&s.startReason===Panopto.Core.StreamRequestStartReason.Start?s.startPosition=i.position():(S(Panopto.Core.StreamRequestStopReason.Seek),P(Panopto.Core.StreamRequestStartReason.Seek))}),c=i.onSpeedChange(function(){S(Panopto.Core.StreamRequestStopReason.SpeedChange),P(Panopto.Core.StreamRequestStartReason.NewSpeed)}),l=i.onPlayStateChangeLog(function(e,t){e===Panopto.Core.ViewerPlayState.Playing&&t===Panopto.Core.ViewerPlayState.Paused?S(Panopto.Core.StreamRequestStopReason.Pause):e===Panopto.Core.ViewerPlayState.Paused&&t===Panopto.Core.ViewerPlayState.Playing?P(Panopto.Core.StreamRequestStartReason.Resume):e===Panopto.Core.ViewerPlayState.Stopped&&t===Panopto.Core.ViewerPlayState.Playing?P(Panopto.Core.StreamRequestStartReason.Start):t===Panopto.Core.ViewerPlayState.Stopped&&S(Panopto.Core.StreamRequestStopReason.End)}),e=setInterval(g,p),o=setInterval(y,f),s=void 0,h.length=0,P(Panopto.Core.StreamRequestStartReason.Start),$(window).on("beforeunload."+m,function(){S(Panopto.Core.StreamRequestStopReason.PlayerClose),y({isUnloading:!0})})},stop:function(){e&&clearInterval(e),o&&clearInterval(o),r&&i.offSeek(r),c&&i.offSpeedChange(c),l&&i.offPlayStateChangeLog(l),$(window).off("beforeunload."+m),S(Panopto.Core.StreamRequestStopReason.End),y()}}},function(e){var t,o,n,r;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),n=o.Objects||(o.Objects={}),r=function(){function e(){}return e.prototype.fromResponse=function(e,t,o){this.results=_.map(e,o),this.hasMorePages="true"===(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.HasMorePagesKey)||"").toLowerCase(),this.totalCount=parseInt(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.ResponseCountKey)||"0",10)},e}(),n.DataPage=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},function(e){var t,o,n;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),n=function(){function e(){}return e.get="GET",e.delete="DELETE",e.post="POST",e.put="PUT",e}(),o.HttpMethods=n}(PanoptoTS||(PanoptoTS={})),Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods=function(e){return e.Put="PUT",e.Post="POST",e.Get="GET",e.Delete="DELETE",e}(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods||{}),function(e){var t,o,n,r;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),n=o.Filters||(o.Filters={}),(r=n.DateTimeBucketSize||(n.DateTimeBucketSize={}))[r.Day=0]="Day",r[r.Week=1]="Week",r[r.Month=2]="Month",r[r.Year=3]="Year"}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a,s;(t=e.AclRoleType||(e.AclRoleType={}))[t.Viewer=1]="Viewer",t[t.Creator=2]="Creator",t[t.Admin=3]="Admin",t[t.Videographer=4]="Videographer",t[t.Service=5]="Service",t[t.Publisher=6]="Publisher",t[t.DirectViewerOnly=7]="DirectViewerOnly",(o=e.TranscriptionProviderType||(e.TranscriptionProviderType={}))[o.DummyProvider=0]="DummyProvider",o[o.Import=1]="Import",o[o.Cielo24Test_Reg=5]="Cielo24Test_Reg",o[o.LegacyAutomaticSyncDeployed=6]="LegacyAutomaticSyncDeployed",o[o.LegacyAutomaticSyncHosted=7]="LegacyAutomaticSyncHosted",o[o.Cielo24Test_Rush=9]="Cielo24Test_Rush",o[o.AutomaticSync_Rush=10]="AutomaticSync_Rush",o[o.ThreePlayMedia_SameDay=12]="ThreePlayMedia_SameDay",o[o.ThreePlayMedia_Rush=13]="ThreePlayMedia_Rush",o[o.ThreePlayMedia_Expedited=14]="ThreePlayMedia_Expedited",o[o.ThreePlayMedia_Standard=15]="ThreePlayMedia_Standard",o[o.ThreePlayMedia_Test=16]="ThreePlayMedia_Test",o[o.ThreePlayMedia_Extended=17]="ThreePlayMedia_Extended",o[o.Cielo24_Reg_UserAccount=18]="Cielo24_Reg_UserAccount",o[o.Cielo24_Rush_UserAccount=19]="Cielo24_Rush_UserAccount",o[o.Cielo24Test_UserAccount=20]="Cielo24Test_UserAccount",o[o.Cielo24_Critical_UserAccount=21]="Cielo24_Critical_UserAccount",o[o.Cielo24_Backlog_UserAccount=22]="Cielo24_Backlog_UserAccount",o[o.Automatic_Machine_Captioning=23]="Automatic_Machine_Captioning",o[o.Rev_Reg_UserAccount=24]="Rev_Reg_UserAccount",o[o.RevTest_UserAccount=25]="RevTest_UserAccount",o[o.VerbitAi_Reg_UserAccount=26]="VerbitAi_Reg_UserAccount",o[o.VerbitAiTest_Reg_UserAccount=27]="VerbitAiTest_Reg_UserAccount",o[o.Panopto_1day_Critical=28]="Panopto_1day_Critical",o[o.Panopto_4day_Extended=29]="Panopto_4day_Extended",o[o.Panopto_2day_Standard=30]="Panopto_2day_Standard",o[o.Panopto_1day_Test_Critical=31]="Panopto_1day_Test_Critical",o[o.Panopto_4day_Test_Extended=32]="Panopto_4day_Test_Extended",(n=e.TranscriptionCredentialType||(e.TranscriptionCredentialType={}))[n.UsernamePassword=1]="UsernamePassword",n[n.PrivateKey=2]="PrivateKey",n[n.UserKey=3]="UserKey",n[n.None=4]="None",(r=e.NetworkAccessRuleType||(e.NetworkAccessRuleType={}))[r.IPWhiteList=0]="IPWhiteList",(i=e.OauthClientUriType||(e.OauthClientUriType={}))[i.CorsOrigin=1]="CorsOrigin",i[i.PostLogoutRedirect=2]="PostLogoutRedirect",i[i.Redirect=3]="Redirect",(a=e.MediaFileType||(e.MediaFileType={}))[a.unknown=0]="unknown",a[a.ism=1]="ism",a[a.mp3=2]="mp3",a[a.mp4=3]="mp4",a[a.mov=4]="mov",a[a.wmv=5]="wmv",a[a.avi=6]="avi",a[a.manifest=7]="manifest",a[a.hist=8]="hist",a[a.wav=9]="wav",a[a.packedraw=10]="packedraw",a[a.hls=11]="hls",a[a.rawsample=12]="rawsample",a[a.m4a=13]="m4a",a[a.m4v=14]="m4v",(s=e.DeviceMediaType||(e.DeviceMediaType={}))[s.Unknown=0]="Unknown",s[s.DV=1]="DV",s[s.HDV=2]="HDV",s[s.Video=3]="Video",s[s.Audio=4]="Audio",s[s.Screen=5]="Screen",s[s.File=6]="File"}(AutoInternal||(AutoInternal={})),function(n){var e,t,o,r,i,a,s,c,l,d,u,p;(e=n.AccessRoleType||(n.AccessRoleType={}))[e.Enumerate=1]="Enumerate",e[e.ViewInfo=2]="ViewInfo",e[e.Preview=3]="Preview",e[e.Record=4]="Record",e[e.EditConfiguration=5]="EditConfiguration",e[e.EditAccessEntries=6]="EditAccessEntries",e[e.ViewSchedule=7]="ViewSchedule",e[e.ViewScheduleDetails=8]="ViewScheduleDetails",e[e.EditSchedule=9]="EditSchedule",e[e.ReceiveRemoteRecorderNotifications=10]="ReceiveRemoteRecorderNotifications",(t=n.BuiltInGroupType||(n.BuiltInGroupType={}))[t.None=0]="None",t[t.AllUsers=1]="AllUsers",t[t.Public=2]="Public",(o=n.EventType||(n.EventType={}))[o.Label=0]="Label",o[o.SlideChange=1]="SlideChange",o[o.Note=2]="Note",o[o.Bookmark=3]="Bookmark",o[o.Caption=4]="Caption",o[o.Comment=5]="Comment",o[o.SpeechRecognition=6]="SpeechRecognition",o[o.OcrRecognition=7]="OcrRecognition",(r=n.FolderType||(n.FolderType={}))[r.Normal=0]="Normal",r[r.Sandbox=1]="Sandbox",r[r.SandboxRoot=2]="SandboxRoot",r[r.SandboxArchiveRoot=3]="SandboxArchiveRoot",(i=n.MediaVRType||(n.MediaVRType={}))[i.None=0]="None",i[i.Full=1]="Full",i[i.Half=2]="Half",(a=n.ModelAction||(n.ModelAction={}))[a.ReadByIdentifier=0]="ReadByIdentifier",a[a.Read=1]="Read",a[a.Create=2]="Create",a[a.Update=3]="Update",a[a.Delete=4]="Delete",(s=n.QuestionType||(n.QuestionType={}))[s.TrueFalse=0]="TrueFalse",s[s.MultipleChoice=1]="MultipleChoice",s[s.MultipleSelect=2]="MultipleSelect",(c=n.RemoteRecorderState||(n.RemoteRecorderState={}))[c.Stopped=0]="Stopped",c[c.Previewing=1]="Previewing",c[c.Recording=2]="Recording",c[c.Paused=3]="Paused",c[c.Faulted=4]="Faulted",c[c.Disconnected=5]="Disconnected",c[c.RecorderRunning=6]="RecorderRunning",(l=n.SessionListSpecialType||(n.SessionListSpecialType={}))[l.None=0]="None",l[l.HomePage=1]="HomePage",l[l.HomePageUnpublished=2]="HomePageUnpublished",(d=n.SessionStatus||(n.SessionStatus={}))[d.Created=0]="Created",d[d.Scheduled=1]="Scheduled",d[d.Recording=2]="Recording",d[d.Processing=3]="Processing",d[d.Complete=4]="Complete",d[d.Live=5]="Live",(u=n.SharingConnectionType||(n.SharingConnectionType={}))[u.Pending=0]="Pending",u[u.Active=1]="Active",(p=n.StreamContentType||(n.StreamContentType={}))[p.Audio=0]="Audio",p[p.Screen=1]="Screen",p[p.Slide=2]="Slide",p[p.Camera=3]="Camera";var f=function(){function e(){}return e.prototype.fromClientModelBase=function(e){return this.Id=e.id,this.Name=e.name,this.TypeName=e.typeName,this},e}();n.ModelBase=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientModelBase=function(e){return t.prototype.fromClientModelBase.call(this,e),this.RepositoryKey=e.repositoryKey,this},e}(n.ModelBase),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientAccess=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Item=e.item?(new n.ModelBase).fromClientModelBase(e.item):void 0,this.Role=e.role,this.IsEditable=e.isEditable,this.Receiver=e.receiver?(new n.ModelBase).fromClientModelBase(e.receiver):void 0,this.IsInherited=e.isInherited,this},e}(n.ModelBaseT=m);n.Access=h;var v=function(){function e(){}return e.prototype.fromClientAPIErrorInternal=function(e){return this.ErrorCode=e.errorCode,this.Message=e.message,this.Success=e.success,this.ErrorSource=e.errorSource,this},e}();n.APIErrorInternal=v;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientEvent=function(e){return t.prototype.fromClientModelBase.call(this,e),this.SessionId=e.sessionId,this.StreamId=e.streamId,this.Type=e.type,this.Metadata=e.metadata,this.TimelineTime=e.timelineTime,this.CreationTime=e.creationTime,this.RelativeTime=e.relativeTime,this.ContainerRelativeTime=e.containerRelativeTime,this.Channel=e.channel,this.Creator=e.creator?(new n.ModelBase).fromClientModelBase(e.creator):void 0,this.ThumbnailUrl=e.thumbnailUrl,this.SlideUrl=e.slideUrl,this.Link=e.link,this.IsDefaultThumbnail=e.isDefaultThumbnail,this.SlideId=e.slideId,this.SlideDeckId=e.slideDeckId,this.RepositoryKey=e.repositoryKey,this},e}(m);n.Event=C;var P=function(){function e(){}return e.prototype.fromClientSessionReferenceCreate=function(e){this.ReferencedSessionId=e.referencedSessionId,this.Start=e.start,this.Order=e.order,this.Cuts=new Array(e.cuts?e.cuts.length:0);for(var t=0;t<this.Cuts.length;t++)this.Cuts[t]=e.cuts[t]?(new n.SessionReferenceCreateCut).fromClientSessionReferenceCreateCut(e.cuts[t]):void 0;return this},e}();n.SessionReferenceCreate=P;var S=function(){function e(){}return e.prototype.fromClientSessionReferenceUpdate=function(e){return this.Id=e.id,this.Start=e.start,this.Order=e.order,this},e}();n.SessionReferenceUpdate=S;var g=function(){function e(){}return e.prototype.fromClientSessionReferenceCreateCut=function(e){return this.Start=e.start,this.Duration=e.duration,this},e}();n.SessionReferenceCreateCut=g;var y=function(){function e(){}return e.prototype.fromClientStreamCreate=function(e){return this.UploadId=e.uploadId,this},e}();n.StreamCreate=y;var I=function(){};n.EventKey=I;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientFolder=function(e){return t.prototype.fromClientModelBase.call(this,e),this.IsEditable=e.isEditable,this.IsDropbox=e.isDropbox,this.FolderType=e.folderType,this.DeliveriesHaveSpecifiedOrder=e.deliveriesHaveSpecifiedOrder,this.PodcastEnabled=e.podcastEnabled,this.Parent=e.parent?(new n.Folder).fromClientFolder(e.parent):void 0,this.UserCanCreateFolders=e.userCanCreateFolders,this.UserCanCreateSessions=e.userCanCreateSessions,this.IsEnumerable=e.isEnumerable,this.HasAccessibleChildren=e.hasAccessibleChildren,this.SessionCount=e.sessionCount,this},e}(m);n.Folder=b;var T=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientAccessItem=function(e){o.prototype.fromClientModelBase.call(this,e),this.BuiltInGroupAccess=e.builtInGroupAccess?(new n.Access).fromClientAccess(e.builtInGroupAccess):void 0,this.BuiltInGroupShareOptions=new Array(e.builtInGroupShareOptions?e.builtInGroupShareOptions.length:0);for(var t=0;t<this.BuiltInGroupShareOptions.length;t++)this.BuiltInGroupShareOptions[t]=e.builtInGroupShareOptions[t]?(new n.Access).fromClientAccess(e.builtInGroupShareOptions[t]):void 0;return this.Parent=e.parent?(new n.ModelBase).fromClientModelBase(e.parent):void 0,this.IsInheritingAccess=e.isInheritingAccess,this.InheritableAncestor=e.inheritableAncestor?(new n.ModelBase).fromClientModelBase(e.inheritableAncestor):void 0,this},e}(m);n.AccessItem=T;var R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientMembershipProvider=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Description=e.description,this.IsInternal=e.isInternal,this.UnifyAccounts=e.unifyAccounts,this},e}(m);n.MembershipProvider=R;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientNetworkAccessRule=function(e){return t.prototype.fromClientModelBase.call(this,e),this.FriendlyName=e.friendlyName,this.RuleType=e.ruleType,this.RuleValue=e.ruleValue,this},e}(n.ModelBase);n.NetworkAccessRule=w;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientPlaylist=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Parent=e.parent?(new n.ModelBase).fromClientModelBase(e.parent):void 0,this.ViewerUri=e.viewerUri,this.EmbedViewerTag=e.embedViewerTag,this.Description=e.description,this.ThumbUrl=e.thumbUrl,this.BuiltInGroupAccess=e.builtInGroupAccess?(new n.Access).fromClientAccess(e.builtInGroupAccess):void 0,this.SessionListId=e.sessionListId,this},e}(m);n.Playlist=A;var E=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientSession=function(e){o.prototype.fromClientModelBase.call(this,e),this.Parent=e.parent?(new n.ModelBase).fromClientModelBase(e.parent):void 0,this.ViewerUri=e.viewerUri,this.EmbedViewerTag=e.embedViewerTag,this.IsWebcast=e.isWebcast,this.Description=e.description,this.Status=e.status,this.StartTime=e.startTime,this.Duration=e.duration,this.ThumbUrl=e.thumbUrl,this.PresenterFirstNames=new Array(e.presenterFirstNames?e.presenterFirstNames.length:0);for(var t=0;t<this.PresenterFirstNames.length;t++)this.PresenterFirstNames[t]=e.presenterFirstNames[t];this.PresenterLastNames=new Array(e.presenterLastNames?e.presenterLastNames.length:0);for(t=0;t<this.PresenterLastNames.length;t++)this.PresenterLastNames[t]=e.presenterLastNames[t];this.MostRecentViewTime=e.mostRecentViewTime,this.BuiltInGroupAccess=e.builtInGroupAccess?(new n.Access).fromClientAccess(e.builtInGroupAccess):void 0,this.DefaultThumbnailTime=e.defaultThumbnailTime,this.IsDeleted=e.isDeleted,this.IsPlaylist=e.isPlaylist,this.ReferencedSessions=new Array(e.referencedSessions?e.referencedSessions.length:0);for(t=0;t<this.ReferencedSessions.length;t++)this.ReferencedSessions[t]=e.referencedSessions[t]?(new n.SessionReference).fromClientSessionReference(e.referencedSessions[t]):void 0;return this},e}(m);n.Session=E;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientQuestionOption=function(e){return t.prototype.fromClientModelBase.call(this,e),this.IsCorrect=e.isCorrect,this},e}(n.ModelBase);n.QuestionOption=M;var k=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientQuestion=function(e){o.prototype.fromClientModelBase.call(this,e),this.Explanation=e.explanation,this.QuestionType=e.questionType,this.Options=new Array(e.options?e.options.length:0);for(var t=0;t<this.Options.length;t++)this.Options[t]=e.options[t]?(new n.QuestionOption).fromClientQuestionOption(e.options[t]):void 0;return this},e}(n.ModelBase);n.Question=k;var D=function(){function e(){}return e.prototype.fromClientQuotaSummary=function(e){return this.ModifierSummary=e.modifierSummary?(new n.QuotaModifierSummary).fromClientQuotaModifierSummary(e.modifierSummary):void 0,this.ValueSummary=e.valueSummary?(new n.QuotaValueSummary).fromClientQuotaValueSummary(e.valueSummary):void 0,this},e}();n.QuotaSummary=D;var _=function(){function e(){}return e.prototype.fromClientQuotaDataByPeriod=function(e){return this.PeriodStartDate=e.periodStartDate,this.PeriodEndDate=e.periodEndDate,this.DeliveredSummary=e.deliveredSummary?(new n.QuotaSummary).fromClientQuotaSummary(e.deliveredSummary):void 0,this.StoredSummary=e.storedSummary?(new n.QuotaSummary).fromClientQuotaSummary(e.storedSummary):void 0,this},e}();n.QuotaDataByPeriod=_;var U=function(){function e(){}return e.prototype.fromClientQuotaModifierSummary=function(e){return this.SumRollover=e.sumRollover,this.SumBase=e.sumBase,this.SumReferral=e.sumReferral,this.SumTotal=e.sumTotal,this},e}();n.QuotaModifierSummary=U;var x=function(){function e(){}return e.prototype.fromClientQuotaValueSummary=function(e){this.SecondsByDay=new Array(e.secondsByDay?e.secondsByDay.length:0);for(var t=0;t<this.SecondsByDay.length;t++)this.SecondsByDay[t]=e.secondsByDay[t];this.SumTotal=e.sumTotal,this.TopSessions=new Array(e.topSessions?e.topSessions.length:0);for(t=0;t<this.TopSessions.length;t++)this.TopSessions[t]=e.topSessions[t]?(new n.QuotaSession).fromClientQuotaSession(e.topSessions[t]):void 0;return this},e}();n.QuotaValueSummary=x;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientQuotaSession=function(e){return t.prototype.fromClientModelBase.call(this,e),this.TotalSeconds=e.totalSeconds,this.SessionWasDeleted=e.sessionWasDeleted,this},e}(n.ModelBase);n.QuotaSession=O;var F=function(){function e(){}return e.prototype.fromClientDevice=function(e){return this.Record=e.record,this.DeviceId=e.deviceId,this.Height=e.height,this.Name=e.name,this.AudioPreviewUrl=e.audioPreviewUrl,this.VideoPreviewUrl=e.videoPreviewUrl,this.LastPreviewUpdateDateTime=e.lastPreviewUpdateDateTime,this.Type=e.type,this.Width=e.width,this.MissingData=e.missingData,this},e}();n.Device=F;var N=function(){function e(){}return e.prototype.fromClientQualitySettings=function(e){return this.AudioBitrate=e.audioBitrate,this.Framerate=e.framerate,this.MultipleBitrateCount=e.multipleBitrateCount,this.PixelCount=e.pixelCount,this.VideoBitrate=e.videoBitrate,this},e}();n.QualitySettings=N;var j=function(){function e(){}return e.prototype.fromClientRecorderTimeZoneInfo=function(e){return this},e}();n.RecorderTimeZoneInfo=j;var B=function(){};n.ScopedAnalyticsKey=B;var V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientSessionReference=function(e){return t.prototype.fromClientModelBase.call(this,e),this.ReferencedSessionId=e.referencedSessionId,this.ReferencedSessionDuration=e.referencedSessionDuration,this.Start=e.start,this.Order=e.order,this.HostSession=e.hostSession?(new n.Session).fromClientSession(e.hostSession):void 0,this},e}(m);n.SessionReference=V;var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientUpdateModel=function(e){return t.prototype.fromClientModelBase.call(this,e),this.UpdateDate=e.updateDate,this},e}(m);n.UpdateModel=H;var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientCut=function(e){return t.prototype.fromClientModelBase.call(this,e),this.SessionId=e.sessionId,this.TargetId=e.targetId,this.TargetType=e.targetType,this.Start=e.start,this.Duration=e.duration,this},e}(m);n.Cut=L;var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientStream=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Url=e.url,this.HttpUrl=e.httpUrl,this.AbsoluteStart=e.absoluteStart,this.Duration=e.duration,this.IsPrimary=e.isPrimary,this.ThumbnailUrlBase=e.thumbnailUrlBase,this.ThumbnailInterval=e.thumbnailInterval,this.Type=e.type,this.VRType=e.vrType,this},e}(m);n.Stream=$;var G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientSlideDeck=function(e){return t.prototype.fromClientModelBase.call(this,e),this.SessionId=e.sessionId,this},e}(m);n.SlideDeck=G;var Q=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientQuestionList=function(e){o.prototype.fromClientModelBase.call(this,e),this.RevisionId=e.revisionId,this.Questions=new Array(e.questions?e.questions.length:0);for(var t=0;t<this.Questions.length;t++)this.Questions[t]=e.questions[t]?(new n.Question).fromClientQuestion(e.questions[t]):void 0;return this.SessionRelativeTime=e.sessionRelativeTime,this.IsSessionPlaybackBlocking=e.isSessionPlaybackBlocking,this.AllowRetake=e.allowRetake,this.ShowFinalGrade=e.showFinalGrade,this.AllowReview=e.allowReview,this.SessionId=e.sessionId,this},e}(m);n.QuestionList=Q;var W=function(){function e(){}return e.prototype.fromClientStreamChanges=function(e){this.ToAdd=new Array(e.toAdd?e.toAdd.length:0);for(var t=0;t<this.ToAdd.length;t++)this.ToAdd[t]=e.toAdd[t]?(new n.StreamCreate).fromClientStreamCreate(e.toAdd[t]):void 0;return this},e}();n.StreamChanges=W;var z=function(){function e(){}return e.prototype.fromClientSessionReferenceChanges=function(e){this.ToAdd=new Array(e.toAdd?e.toAdd.length:0);for(var t=0;t<this.ToAdd.length;t++)this.ToAdd[t]=e.toAdd[t]?(new n.SessionReferenceCreate).fromClientSessionReferenceCreate(e.toAdd[t]):void 0;this.ToUpdate=new Array(e.toUpdate?e.toUpdate.length:0);for(t=0;t<this.ToUpdate.length;t++)this.ToUpdate[t]=e.toUpdate[t]?(new n.SessionReferenceUpdate).fromClientSessionReferenceUpdate(e.toUpdate[t]):void 0;this.ToDelete=new Array(e.toDelete?e.toDelete.length:0);for(t=0;t<this.ToDelete.length;t++)this.ToDelete[t]=e.toDelete[t];return this},e}();n.SessionReferenceChanges=z;var K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientTranscriptionProvider=function(e){return t.prototype.fromClientModelBase.call(this,e),this.ProviderType=e.providerType,this.CredentialType=e.credentialType,this.CompanyName=e.companyName,this.SupportUrl=e.supportUrl,this.IsWhiteLabel=e.isWhiteLabel,this.AllowSendingFolderName=e.allowSendingFolderName,this.NeedsCustomerAccountInfo=e.needsCustomerAccountInfo,this.NeedsCustomerPrivateKey=e.needsCustomerPrivateKey,this.NeedsCustomerUserKey=e.needsCustomerUserKey,this.ShowInUI=e.showInUI,this.DisplayName=e.displayName,this.Description=e.description,this.Price=e.price,this},e}(m);n.TranscriptionProvider=K;var q=function(){function e(){}return e.prototype.fromClientAccessMessage=function(e){return this.Content=e.content,this.ShouldSendEmails=e.shouldSendEmails,this},e}();n.AccessMessage=q;var Z=function(){function e(){}return e.prototype.fromClientAPIError=function(e){return this.Error=e.error?(new n.APIErrorInternal).fromClientAPIErrorInternal(e.error):void 0,this},e}();n.APIError=Z;var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientBrand=function(e){return t.prototype.fromClientModelBase.call(this,e),this.AffiliationId=e.affiliationId,this.DepartmentId=e.departmentId,this.AccentColor=e.accentColor,this.WebLogoUrl=e.webLogoUrl,this.ViewerLogoUrl=e.viewerLogoUrl,this.EmbedLogoUrl=e.embedLogoUrl,this.SquareLogoUrl=e.squareLogoUrl,this.FaviconUrl=e.faviconUrl,this},e}(m);n.Brand=Y;var J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientCaption=function(e){return t.prototype.fromClientEvent.call(this,e),this},e}(n.Event);n.Caption=J;var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientDepartment=function(e){return t.prototype.fromClientModelBase.call(this,e),this.FolderId=e.folderId,this.WebLogoUrl=e.webLogoUrl,this},e}(m);n.Department=X;var ee=function(){function e(){}return e.prototype.fromClientEventTypeExtensions=function(e){return this},e}();n.EventTypeExtensions=ee;var te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientFFTUserCreateResponse=function(e){return t.prototype.fromClientModelBase.call(this,e),this.PreauthenticatedLink=e.preauthenticatedLink,this.UserId=e.userId,this},e}(n.ModelBase);n.FFTUserCreateResponse=te;var oe=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientFolderAccessItem=function(e){o.prototype.fromClientAccessItem.call(this,e),this.ViewUri=e.viewUri,this.EmbedViewTag=e.embedViewTag,this.IsApprovalRequired=e.isApprovalRequired,this.ArePublishersEditable=e.arePublishersEditable,this.IsDropbox=e.isDropbox,this.FolderType=e.folderType,this.InheritingDescendants=new Array(e.inheritingDescendants?e.inheritingDescendants.length:0);for(var t=0;t<this.InheritingDescendants.length;t++)this.InheritingDescendants[t]=e.inheritingDescendants[t]?(new n.ModelBase).fromClientModelBase(e.inheritingDescendants[t]):void 0;return this.IsEditable=e.isEditable,this},e}(n.AccessItem);n.FolderAccessItem=oe;var ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientGroup=function(e){return t.prototype.fromClientModelBase.call(this,e),this.OwnerId=e.ownerId,this.OwnerName=e.ownerName,this.MemberCount=e.memberCount,this.ExternalId=e.externalId,this.IsPrivate=e.isPrivate,this.IsFromEditableMembershipProvider=e.isFromEditableMembershipProvider,this.IsEditable=e.isEditable,this.IsAccessEditable=e.isAccessEditable,this.BuiltInType=e.builtInType,this.Provider=e.provider?(new n.MembershipProvider).fromClientMembershipProvider(e.provider):void 0,this.IsMembershipViewable=e.isMembershipViewable,this},e}(m);n.Group=ne;var re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientHeatMapAnalytics=function(e){return t.prototype.fromClientModelBase.call(this,e),this.BucketStart=e.bucketStart,this.Views=e.views,this.Notes=e.notes,this.Comments=e.comments,this},e}(m);n.HeatMapAnalytics=re;var ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientJob=function(e){return t.prototype.fromClientAccessItem.call(this,e),this},e}(n.AccessItem);n.Job=ie;var ae=function(){function e(){}return e.prototype.fromClientModelActionExtensions=function(e){return this},e}();n.ModelActionExtensions=ae;var se=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientNetworkAccessRuleGroup=function(e){o.prototype.fromClientModelBase.call(this,e),this.FriendlyName=e.friendlyName,this.Editable=e.editable,this.Rules=new Array(e.rules?e.rules.length:0);for(var t=0;t<this.Rules.length;t++)this.Rules[t]=e.rules[t]?(new n.NetworkAccessRule).fromClientNetworkAccessRule(e.rules[t]):void 0;return this.IsDefault=e.isDefault,this},e}(m);n.NetworkAccessRuleGroup=se;var ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientOauthAllowedUri=function(e){return t.prototype.fromClientModelBase.call(this,e),this.UriId=e.uriId,this.Uri=e.uri,this.UriType=e.uriType,this.ClientId=e.clientId,this},e}(m);n.OauthAllowedUri=ce;var le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientOauthScope=function(e){return t.prototype.fromClientModelBase.call(this,e),this.ScopeId=e.scopeId,this.ClientId=e.clientId,this},e}(m);n.OauthScope=le;var de=function(){function e(){}return e.prototype.fromClientPasswordReset=function(e){return this.TokenId=e.tokenId,this.Answer=e.answer,this.Password=e.password,this},e}();n.PasswordReset=de;var ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientPlaylistAccessItem=function(e){return t.prototype.fromClientAccessItem.call(this,e),this.ViewerUri=e.viewerUri,this.EmbedViewerTag=e.embedViewerTag,this},e}(n.AccessItem);n.PlaylistAccessItem=ue;var pe=function(){function e(){}return e.prototype.fromClientPlaylistWithItems=function(e){this.Playlist=e.playlist?(new n.Playlist).fromClientPlaylist(e.playlist):void 0,this.Items=new Array(e.items?e.items.length:0);for(var t=0;t<this.Items.length;t++)this.Items[t]=e.items[t]?(new n.Session).fromClientSession(e.items[t]):void 0;return this},e}();n.PlaylistWithItems=pe;var fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientQuestionListAnswer=function(e){return t.prototype.fromClientModelBase.call(this,e),this.RevisionId=e.revisionId,this.UserId=e.userId,this.InvocationId=e.invocationId,this.QuestionListId=e.questionListId,this.QuestionId=e.questionId,this.QuestionOptionId=e.questionOptionId,this.QuizStartTime=e.quizStartTime,this},e}(m);n.QuestionListAnswer=fe;var me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientQuotaDetail=function(e){return t.prototype.fromClientModelBase.call(this,e),this.ActivePeriod=e.activePeriod?(new n.QuotaDataByPeriod).fromClientQuotaDataByPeriod(e.activePeriod):void 0,this.LastPeriod=e.lastPeriod?(new n.QuotaDataByPeriod).fromClientQuotaDataByPeriod(e.lastPeriod):void 0,this},e}(n.ModelBase);n.QuotaDetail=me;var he=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientRecorderScheduleEntry=function(e){return t.prototype.fromClientModelBase.call(this,e),this.OwnerId=e.ownerId,this.IsPrimaryRecorder=e.isPrimaryRecorder,this.RecorderId=e.recorderId,this.SessionId=e.sessionId,this.StartTime=e.startTime,this.Duration=e.duration,this},e}(m);n.RecorderScheduleEntry=he;var ve=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientRemoteRecorder=function(e){o.prototype.fromClientModelBase.call(this,e),this.Devices=new Array(e.devices?e.devices.length:0);for(var t=0;t<this.Devices.length;t++)this.Devices[t]=e.devices[t]?(new n.Device).fromClientDevice(e.devices[t]):void 0;this.LastConnectionDateTime=e.lastConnectionDateTime,this.NextRecordingDateTime=e.nextRecordingDateTime,this.PrimaryAudioDeviceId=e.primaryAudioDeviceId,this.PrimaryRecordingQualitySettings=e.primaryRecordingQualitySettings?(new n.QualitySettings).fromClientQualitySettings(e.primaryRecordingQualitySettings):void 0,this.PrimaryVideoDeviceId=e.primaryVideoDeviceId,this.RecordingType=e.recordingType,this.SecondaryRecordingQualitySettings=e.secondaryRecordingQualitySettings?(new n.QualitySettings).fromClientQualitySettings(e.secondaryRecordingQualitySettings):void 0,this.State=e.state,this.Version=e.version,this.DefaultFolder=e.defaultFolder?(new n.Folder).fromClientFolder(e.defaultFolder):void 0,this.AccessRoleTypes=new Array(e.accessRoleTypes?e.accessRoleTypes.length:0);for(t=0;t<this.AccessRoleTypes.length;t++)this.AccessRoleTypes[t]=e.accessRoleTypes[t];return this.TimeZoneDisplayInfo=e.timeZoneDisplayInfo?(new n.RecorderTimeZoneInfo).fromClientRecorderTimeZoneInfo(e.timeZoneDisplayInfo):void 0,this.IsInheritingTimeZone=e.isInheritingTimeZone,this},e}(m);n.RemoteRecorder=ve;var Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientRTMPStream=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Parent=e.parent?(new n.ModelBase).fromClientModelBase(e.parent):void 0,this.StreamKey=e.streamKey,this},e}(m);n.RTMPStream=Ce;var Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientScopedAnalytics=function(e){return t.prototype.fromClientModelBase.call(this,e),this.RepositoryKey=e.repositoryKey,this.TimeStamp=e.timeStamp,this.FolderId=e.folderId,this.FolderFriendlyName=e.folderFriendlyName,this.RootFolderId=e.rootFolderId,this.RootFolderFriendlyName=e.rootFolderFriendlyName,this.UserId=e.userId,this.UserFriendlyName=e.userFriendlyName,this.SessionId=e.sessionId,this.SessionFriendlyName=e.sessionFriendlyName,this.CreatorId=e.creatorId,this.CreatorFriendlyName=e.creatorFriendlyName,this.Views=e.views,this.MinutesViewed=e.minutesViewed,this.UniqueViewers=e.uniqueViewers,this.UniqueSessions=e.uniqueSessions,this.TotalComments=e.totalComments,this.TotalNotes=e.totalNotes,this.AverageMinutesViewed=e.averageMinutesViewed,this},e}(m);n.ScopedAnalytics=Pe;var Se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientSessionAccessItem=function(e){return t.prototype.fromClientAccessItem.call(this,e),this.ViewerUri=e.viewerUri,this.EmbedViewerTag=e.embedViewerTag,this},e}(n.AccessItem);n.SessionAccessItem=Se;var ge=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientSessionChangeSet=function(e){o.prototype.fromClientUpdateModel.call(this,e),this.SessionId=e.sessionId,this.CutsToReplace=new Array(e.cutsToReplace?e.cutsToReplace.length:0);for(var t=0;t<this.CutsToReplace.length;t++)this.CutsToReplace[t]=e.cutsToReplace[t]?(new n.Cut).fromClientCut(e.cutsToReplace[t]):void 0;this.StreamsToUpdate=new Array(e.streamsToUpdate?e.streamsToUpdate.length:0);for(t=0;t<this.StreamsToUpdate.length;t++)this.StreamsToUpdate[t]=e.streamsToUpdate[t]?(new n.Stream).fromClientStream(e.streamsToUpdate[t]):void 0;this.SlideDecksToDelete=new Array(e.slideDecksToDelete?e.slideDecksToDelete.length:0);for(t=0;t<this.SlideDecksToDelete.length;t++)this.SlideDecksToDelete[t]=e.slideDecksToDelete[t]?(new n.SlideDeck).fromClientSlideDeck(e.slideDecksToDelete[t]):void 0;this.EventsToAdd=new Array(e.eventsToAdd?e.eventsToAdd.length:0);for(t=0;t<this.EventsToAdd.length;t++)this.EventsToAdd[t]=e.eventsToAdd[t]?(new n.Event).fromClientEvent(e.eventsToAdd[t]):void 0;this.EventsToUpdate=new Array(e.eventsToUpdate?e.eventsToUpdate.length:0);for(t=0;t<this.EventsToUpdate.length;t++)this.EventsToUpdate[t]=e.eventsToUpdate[t]?(new n.Event).fromClientEvent(e.eventsToUpdate[t]):void 0;this.EventsToDelete=new Array(e.eventsToDelete?e.eventsToDelete.length:0);for(t=0;t<this.EventsToDelete.length;t++)this.EventsToDelete[t]=e.eventsToDelete[t]?(new n.Event).fromClientEvent(e.eventsToDelete[t]):void 0;this.QuestionListRevisions=new Array(e.questionListRevisions?e.questionListRevisions.length:0);for(t=0;t<this.QuestionListRevisions.length;t++)this.QuestionListRevisions[t]=e.questionListRevisions[t]?(new n.QuestionList).fromClientQuestionList(e.questionListRevisions[t]):void 0;this.QuestionListIdsToDelete=new Array(e.questionListIdsToDelete?e.questionListIdsToDelete.length:0);for(t=0;t<this.QuestionListIdsToDelete.length;t++)this.QuestionListIdsToDelete[t]=e.questionListIdsToDelete[t];return this.StreamChanges=e.streamChanges?(new n.StreamChanges).fromClientStreamChanges(e.streamChanges):void 0,this.SessionReferences=e.sessionReferences?(new n.SessionReferenceChanges).fromClientSessionReferenceChanges(e.sessionReferences):void 0,this.OwnerName=e.ownerName,this.OwnerId=e.ownerId,this},e}(n.UpdateModel);n.SessionChangeSet=ge;var ye=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromClientSessionList=function(e){o.prototype.fromClientUpdateModel.call(this,e),this.SpecialType=e.specialType,this.Items=new Array(e.items?e.items.length:0);for(var t=0;t<this.Items.length;t++)this.Items[t]=e.items[t]?(new n.Session).fromClientSession(e.items[t]):void 0;return this},e}(n.UpdateModel);n.SessionList=ye;var Ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientSharingConnection=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Recipient=e.recipient,this.Sender=e.sender,this.State=e.state,this},e}(m);n.SharingConnection=Ie;var be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientSlide=function(e){return t.prototype.fromClientModelBase.call(this,e),this.SlideDeckId=e.slideDeckId,this.SlideNumber=e.slideNumber,this.Content=e.content,this.ImageUrl=e.imageUrl,this},e}(m);n.Slide=be;var Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientTranscriptionProviderInstance=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Provider=e.provider?(new n.TranscriptionProvider).fromClientTranscriptionProvider(e.provider):void 0,this.UserKey=e.userKey,this.Username=e.username,this.Password=e.password,this.HavePassword=e.havePassword,this.HavePrivateKey=e.havePrivateKey,this.HaveUserKey=e.haveUserKey,this.PrivateKey=e.privateKey,this.CreatorsCanRequest=e.creatorsCanRequest,this.Enabled=e.enabled,this.SendFolderName=e.sendFolderName,this.DisplayName=e.displayName,this},e}(m);n.TranscriptionProviderInstance=Te;var Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromClientUser=function(e){return t.prototype.fromClientModelBase.call(this,e),this.Key=e.key,this.Email=e.email,this.FirstName=e.firstName,this.LastName=e.lastName,this.InitialPassword=e.initialPassword,this.FFTTargetURL=e.fftTargetURL,this},e}(m);n.User=Re}(AutoRestModels||(AutoRestModels={})),function(n){var e=function(){function e(){}return e.prototype.fromRestModelBase=function(e){return this.id=e.Id,this.name=e.Name,this.typeName=e.TypeName,this},e.prototype.copyFromModelBase=function(e){return this.id=e.id,this.name=e.name,this.typeName=e.typeName,this},e}();n.ModelBase=e;var t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestModelBase=function(e){return t.prototype.fromRestModelBase.call(this,e),this.repositoryKey=e.RepositoryKey,this},e.prototype.copyFromModelBase=function(e){return t.prototype.copyFromModelBase.call(this,e),this.repositoryKey=e.repositoryKey,this},e}(n.ModelBase),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestAccess=function(e){return t.prototype.fromRestModelBase.call(this,e),this.item=e.Item?(new n.ModelBase).fromRestModelBase(e.Item):void 0,this.role=e.Role,this.isEditable=e.IsEditable,this.receiver=e.Receiver?(new n.ModelBase).fromRestModelBase(e.Receiver):void 0,this.isInherited=e.IsInherited,this},e.prototype.copyFromAccess=function(e){return t.prototype.copyFromModelBase.call(this,e),this.item=e.item?(new n.ModelBase).copyFromModelBase(e.item):void 0,this.role=e.role,this.isEditable=e.isEditable,this.receiver=e.receiver?(new n.ModelBase).copyFromModelBase(e.receiver):void 0,this.isInherited=e.isInherited,this},e}(n.ModelBaseT=t);n.Access=o;var r=function(){function e(){}return e.prototype.fromRestAPIErrorInternal=function(e){return this.errorCode=e.ErrorCode,this.message=e.Message,this.success=e.Success,this.errorSource=e.ErrorSource,this},e.prototype.copyFromAPIErrorInternal=function(e){return this.errorCode=e.errorCode,this.message=e.message,this.success=e.success,this.errorSource=e.errorSource,this},e}();n.APIErrorInternal=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestEvent=function(e){return t.prototype.fromRestModelBase.call(this,e),this.sessionId=e.SessionId,this.streamId=e.StreamId,this.type=e.Type,this.metadata=e.Metadata,this.timelineTime=e.TimelineTime,this.creationTime=e.CreationTime,this.relativeTime=e.RelativeTime,this.containerRelativeTime=e.ContainerRelativeTime,this.channel=e.Channel,this.creator=e.Creator?(new n.ModelBase).fromRestModelBase(e.Creator):void 0,this.thumbnailUrl=e.ThumbnailUrl,this.slideUrl=e.SlideUrl,this.link=e.Link,this.isDefaultThumbnail=e.IsDefaultThumbnail,this.slideId=e.SlideId,this.slideDeckId=e.SlideDeckId,this.repositoryKey=e.RepositoryKey,this},e.prototype.copyFromEvent=function(e){return t.prototype.copyFromModelBase.call(this,e),this.sessionId=e.sessionId,this.streamId=e.streamId,this.type=e.type,this.metadata=e.metadata,this.timelineTime=e.timelineTime,this.creationTime=e.creationTime,this.relativeTime=e.relativeTime,this.containerRelativeTime=e.containerRelativeTime,this.channel=e.channel,this.creator=e.creator?(new n.ModelBase).copyFromModelBase(e.creator):void 0,this.thumbnailUrl=e.thumbnailUrl,this.slideUrl=e.slideUrl,this.link=e.link,this.isDefaultThumbnail=e.isDefaultThumbnail,this.slideId=e.slideId,this.slideDeckId=e.slideDeckId,this.repositoryKey=e.repositoryKey,this},e}(t);n.Event=i;var a=function(){function e(){}return e.prototype.fromRestSessionReferenceCreate=function(e){this.referencedSessionId=e.ReferencedSessionId,this.start=e.Start,this.order=e.Order,this.cuts=new Array(e.Cuts?e.Cuts.length:0);for(var t=0;t<this.cuts.length;t++)this.cuts[t]=e.Cuts[t]?(new n.SessionReferenceCreateCut).fromRestSessionReferenceCreateCut(e.Cuts[t]):void 0;return this},e.prototype.copyFromSessionReferenceCreate=function(e){this.referencedSessionId=e.referencedSessionId,this.start=e.start,this.order=e.order,this.cuts=new Array(e.cuts?e.cuts.length:0);for(var t=0;t<this.cuts.length;t++)this.cuts[t]=e.cuts[t]?(new n.SessionReferenceCreateCut).copyFromSessionReferenceCreateCut(e.cuts[t]):void 0;return this},e}();n.SessionReferenceCreate=a;var s=function(){function e(){}return e.prototype.fromRestSessionReferenceUpdate=function(e){return this.id=e.Id,this.start=e.Start,this.order=e.Order,this},e.prototype.copyFromSessionReferenceUpdate=function(e){return this.id=e.id,this.start=e.start,this.order=e.order,this},e}();n.SessionReferenceUpdate=s;var c=function(){function e(){}return e.prototype.fromRestSessionReferenceCreateCut=function(e){return this.start=e.Start,this.duration=e.Duration,this},e.prototype.copyFromSessionReferenceCreateCut=function(e){return this.start=e.start,this.duration=e.duration,this},e}();n.SessionReferenceCreateCut=c;var l=function(){function e(){}return e.prototype.fromRestStreamCreate=function(e){return this.uploadId=e.UploadId,this},e.prototype.copyFromStreamCreate=function(e){return this.uploadId=e.uploadId,this},e}();n.StreamCreate=l;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestFolder=function(e){return t.prototype.fromRestModelBase.call(this,e),this.isEditable=e.IsEditable,this.isDropbox=e.IsDropbox,this.folderType=e.FolderType,this.deliveriesHaveSpecifiedOrder=e.DeliveriesHaveSpecifiedOrder,this.podcastEnabled=e.PodcastEnabled,this.parent=e.Parent?(new n.Folder).fromRestFolder(e.Parent):void 0,this.userCanCreateFolders=e.UserCanCreateFolders,this.userCanCreateSessions=e.UserCanCreateSessions,this.isEnumerable=e.IsEnumerable,this.hasAccessibleChildren=e.HasAccessibleChildren,this.sessionCount=e.SessionCount,this},e.prototype.copyFromFolder=function(e){return t.prototype.copyFromModelBase.call(this,e),this.isEditable=e.isEditable,this.isDropbox=e.isDropbox,this.folderType=e.folderType,this.deliveriesHaveSpecifiedOrder=e.deliveriesHaveSpecifiedOrder,this.podcastEnabled=e.podcastEnabled,this.parent=e.parent?(new n.Folder).copyFromFolder(e.parent):void 0,this.userCanCreateFolders=e.userCanCreateFolders,this.userCanCreateSessions=e.userCanCreateSessions,this.isEnumerable=e.isEnumerable,this.hasAccessibleChildren=e.hasAccessibleChildren,this.sessionCount=e.sessionCount,this},e}(t);n.Folder=d;var u=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestAccessItem=function(e){o.prototype.fromRestModelBase.call(this,e),this.builtInGroupAccess=e.BuiltInGroupAccess?(new n.Access).fromRestAccess(e.BuiltInGroupAccess):void 0,this.builtInGroupShareOptions=new Array(e.BuiltInGroupShareOptions?e.BuiltInGroupShareOptions.length:0);for(var t=0;t<this.builtInGroupShareOptions.length;t++)this.builtInGroupShareOptions[t]=e.BuiltInGroupShareOptions[t]?(new n.Access).fromRestAccess(e.BuiltInGroupShareOptions[t]):void 0;return this.parent=e.Parent?(new n.ModelBase).fromRestModelBase(e.Parent):void 0,this.isInheritingAccess=e.IsInheritingAccess,this.inheritableAncestor=e.InheritableAncestor?(new n.ModelBase).fromRestModelBase(e.InheritableAncestor):void 0,this},e.prototype.copyFromAccessItem=function(e){o.prototype.copyFromModelBase.call(this,e),this.builtInGroupAccess=e.builtInGroupAccess?(new n.Access).copyFromAccess(e.builtInGroupAccess):void 0,this.builtInGroupShareOptions=new Array(e.builtInGroupShareOptions?e.builtInGroupShareOptions.length:0);for(var t=0;t<this.builtInGroupShareOptions.length;t++)this.builtInGroupShareOptions[t]=e.builtInGroupShareOptions[t]?(new n.Access).copyFromAccess(e.builtInGroupShareOptions[t]):void 0;return this.parent=e.parent?(new n.ModelBase).copyFromModelBase(e.parent):void 0,this.isInheritingAccess=e.isInheritingAccess,this.inheritableAncestor=e.inheritableAncestor?(new n.ModelBase).copyFromModelBase(e.inheritableAncestor):void 0,this},e}(t);n.AccessItem=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestMembershipProvider=function(e){return t.prototype.fromRestModelBase.call(this,e),this.description=e.Description,this.isInternal=e.IsInternal,this.unifyAccounts=e.UnifyAccounts,this},e.prototype.copyFromMembershipProvider=function(e){return t.prototype.copyFromModelBase.call(this,e),this.description=e.description,this.isInternal=e.isInternal,this.unifyAccounts=e.unifyAccounts,this},e}(t);n.MembershipProvider=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestNetworkAccessRule=function(e){return t.prototype.fromRestModelBase.call(this,e),this.friendlyName=e.FriendlyName,this.ruleType=e.RuleType,this.ruleValue=e.RuleValue,this},e.prototype.copyFromNetworkAccessRule=function(e){return t.prototype.copyFromModelBase.call(this,e),this.friendlyName=e.friendlyName,this.ruleType=e.ruleType,this.ruleValue=e.ruleValue,this},e}(n.ModelBase);n.NetworkAccessRule=f;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestPlaylist=function(e){return t.prototype.fromRestModelBase.call(this,e),this.parent=e.Parent?(new n.ModelBase).fromRestModelBase(e.Parent):void 0,this.viewerUri=e.ViewerUri,this.embedViewerTag=e.EmbedViewerTag,this.description=e.Description,this.thumbUrl=e.ThumbUrl,this.builtInGroupAccess=e.BuiltInGroupAccess?(new n.Access).fromRestAccess(e.BuiltInGroupAccess):void 0,this.sessionListId=e.SessionListId,this},e.prototype.copyFromPlaylist=function(e){return t.prototype.copyFromModelBase.call(this,e),this.parent=e.parent?(new n.ModelBase).copyFromModelBase(e.parent):void 0,this.viewerUri=e.viewerUri,this.embedViewerTag=e.embedViewerTag,this.description=e.description,this.thumbUrl=e.thumbUrl,this.builtInGroupAccess=e.builtInGroupAccess?(new n.Access).copyFromAccess(e.builtInGroupAccess):void 0,this.sessionListId=e.sessionListId,this},e}(t);n.Playlist=m;var h=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestSession=function(e){o.prototype.fromRestModelBase.call(this,e),this.parent=e.Parent?(new n.ModelBase).fromRestModelBase(e.Parent):void 0,this.viewerUri=e.ViewerUri,this.embedViewerTag=e.EmbedViewerTag,this.isWebcast=e.IsWebcast,this.description=e.Description,this.status=e.Status,this.startTime=e.StartTime,this.duration=e.Duration,this.thumbUrl=e.ThumbUrl,this.presenterFirstNames=new Array(e.PresenterFirstNames?e.PresenterFirstNames.length:0);for(var t=0;t<this.presenterFirstNames.length;t++)this.presenterFirstNames[t]=e.PresenterFirstNames[t];this.presenterLastNames=new Array(e.PresenterLastNames?e.PresenterLastNames.length:0);for(t=0;t<this.presenterLastNames.length;t++)this.presenterLastNames[t]=e.PresenterLastNames[t];this.mostRecentViewTime=e.MostRecentViewTime,this.builtInGroupAccess=e.BuiltInGroupAccess?(new n.Access).fromRestAccess(e.BuiltInGroupAccess):void 0,this.defaultThumbnailTime=e.DefaultThumbnailTime,this.isDeleted=e.IsDeleted,this.isPlaylist=e.IsPlaylist,this.referencedSessions=new Array(e.ReferencedSessions?e.ReferencedSessions.length:0);for(t=0;t<this.referencedSessions.length;t++)this.referencedSessions[t]=e.ReferencedSessions[t]?(new n.SessionReference).fromRestSessionReference(e.ReferencedSessions[t]):void 0;return this},e.prototype.copyFromSession=function(e){o.prototype.copyFromModelBase.call(this,e),this.parent=e.parent?(new n.ModelBase).copyFromModelBase(e.parent):void 0,this.viewerUri=e.viewerUri,this.embedViewerTag=e.embedViewerTag,this.isWebcast=e.isWebcast,this.description=e.description,this.status=e.status,this.startTime=e.startTime,this.duration=e.duration,this.thumbUrl=e.thumbUrl,this.presenterFirstNames=new Array(e.presenterFirstNames?e.presenterFirstNames.length:0);for(var t=0;t<this.presenterFirstNames.length;t++)this.presenterFirstNames[t]=e.presenterFirstNames[t];this.presenterLastNames=new Array(e.presenterLastNames?e.presenterLastNames.length:0);for(t=0;t<this.presenterLastNames.length;t++)this.presenterLastNames[t]=e.presenterLastNames[t];this.mostRecentViewTime=e.mostRecentViewTime,this.builtInGroupAccess=e.builtInGroupAccess?(new n.Access).copyFromAccess(e.builtInGroupAccess):void 0,this.defaultThumbnailTime=e.defaultThumbnailTime,this.isDeleted=e.isDeleted,this.isPlaylist=e.isPlaylist,this.referencedSessions=new Array(e.referencedSessions?e.referencedSessions.length:0);for(t=0;t<this.referencedSessions.length;t++)this.referencedSessions[t]=e.referencedSessions[t]?(new n.SessionReference).copyFromSessionReference(e.referencedSessions[t]):void 0;return this},e}(t);n.Session=h;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestQuestionOption=function(e){return t.prototype.fromRestModelBase.call(this,e),this.isCorrect=e.IsCorrect,this},e.prototype.copyFromQuestionOption=function(e){return t.prototype.copyFromModelBase.call(this,e),this.isCorrect=e.isCorrect,this},e}(n.ModelBase);n.QuestionOption=v;var C=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestQuestion=function(e){o.prototype.fromRestModelBase.call(this,e),this.explanation=e.Explanation,this.questionType=e.QuestionType,this.options=new Array(e.Options?e.Options.length:0);for(var t=0;t<this.options.length;t++)this.options[t]=e.Options[t]?(new n.QuestionOption).fromRestQuestionOption(e.Options[t]):void 0;return this},e.prototype.copyFromQuestion=function(e){o.prototype.copyFromModelBase.call(this,e),this.explanation=e.explanation,this.questionType=e.questionType,this.options=new Array(e.options?e.options.length:0);for(var t=0;t<this.options.length;t++)this.options[t]=e.options[t]?(new n.QuestionOption).copyFromQuestionOption(e.options[t]):void 0;return this},e}(n.ModelBase);n.Question=C;var P=function(){function e(){}return e.prototype.fromRestQuotaSummary=function(e){return this.modifierSummary=e.ModifierSummary?(new n.QuotaModifierSummary).fromRestQuotaModifierSummary(e.ModifierSummary):void 0,this.valueSummary=e.ValueSummary?(new n.QuotaValueSummary).fromRestQuotaValueSummary(e.ValueSummary):void 0,this},e.prototype.copyFromQuotaSummary=function(e){return this.modifierSummary=e.modifierSummary?(new n.QuotaModifierSummary).copyFromQuotaModifierSummary(e.modifierSummary):void 0,this.valueSummary=e.valueSummary?(new n.QuotaValueSummary).copyFromQuotaValueSummary(e.valueSummary):void 0,this},e}();n.QuotaSummary=P;var S=function(){function e(){}return e.prototype.fromRestQuotaDataByPeriod=function(e){return this.periodStartDate=e.PeriodStartDate,this.periodEndDate=e.PeriodEndDate,this.deliveredSummary=e.DeliveredSummary?(new n.QuotaSummary).fromRestQuotaSummary(e.DeliveredSummary):void 0,this.storedSummary=e.StoredSummary?(new n.QuotaSummary).fromRestQuotaSummary(e.StoredSummary):void 0,this},e.prototype.copyFromQuotaDataByPeriod=function(e){return this.periodStartDate=e.periodStartDate,this.periodEndDate=e.periodEndDate,this.deliveredSummary=e.deliveredSummary?(new n.QuotaSummary).copyFromQuotaSummary(e.deliveredSummary):void 0,this.storedSummary=e.storedSummary?(new n.QuotaSummary).copyFromQuotaSummary(e.storedSummary):void 0,this},e}();n.QuotaDataByPeriod=S;var g=function(){function e(){}return e.prototype.fromRestQuotaModifierSummary=function(e){return this.sumRollover=e.SumRollover,this.sumBase=e.SumBase,this.sumReferral=e.SumReferral,this.sumTotal=e.SumTotal,this},e.prototype.copyFromQuotaModifierSummary=function(e){return this.sumRollover=e.sumRollover,this.sumBase=e.sumBase,this.sumReferral=e.sumReferral,this.sumTotal=e.sumTotal,this},e}();n.QuotaModifierSummary=g;var y=function(){function e(){}return e.prototype.fromRestQuotaValueSummary=function(e){this.secondsByDay=new Array(e.SecondsByDay?e.SecondsByDay.length:0);for(var t=0;t<this.secondsByDay.length;t++)this.secondsByDay[t]=e.SecondsByDay[t];this.sumTotal=e.SumTotal,this.topSessions=new Array(e.TopSessions?e.TopSessions.length:0);for(t=0;t<this.topSessions.length;t++)this.topSessions[t]=e.TopSessions[t]?(new n.QuotaSession).fromRestQuotaSession(e.TopSessions[t]):void 0;return this},e.prototype.copyFromQuotaValueSummary=function(e){this.secondsByDay=new Array(e.secondsByDay?e.secondsByDay.length:0);for(var t=0;t<this.secondsByDay.length;t++)this.secondsByDay[t]=e.secondsByDay[t];this.sumTotal=e.sumTotal,this.topSessions=new Array(e.topSessions?e.topSessions.length:0);for(t=0;t<this.topSessions.length;t++)this.topSessions[t]=e.topSessions[t]?(new n.QuotaSession).copyFromQuotaSession(e.topSessions[t]):void 0;return this},e}();n.QuotaValueSummary=y;var I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestQuotaSession=function(e){return t.prototype.fromRestModelBase.call(this,e),this.totalSeconds=e.TotalSeconds,this.sessionWasDeleted=e.SessionWasDeleted,this},e.prototype.copyFromQuotaSession=function(e){return t.prototype.copyFromModelBase.call(this,e),this.totalSeconds=e.totalSeconds,this.sessionWasDeleted=e.sessionWasDeleted,this},e}(n.ModelBase);n.QuotaSession=I;var b=function(){function e(){}return e.prototype.fromRestDevice=function(e){return this.record=e.Record,this.deviceId=e.DeviceId,this.height=e.Height,this.name=e.Name,this.audioPreviewUrl=e.AudioPreviewUrl,this.videoPreviewUrl=e.VideoPreviewUrl,this.lastPreviewUpdateDateTime=e.LastPreviewUpdateDateTime,this.type=e.Type,this.width=e.Width,this.missingData=e.MissingData,this},e.prototype.copyFromDevice=function(e){return this.record=e.record,this.deviceId=e.deviceId,this.height=e.height,this.name=e.name,this.audioPreviewUrl=e.audioPreviewUrl,this.videoPreviewUrl=e.videoPreviewUrl,this.lastPreviewUpdateDateTime=e.lastPreviewUpdateDateTime,this.type=e.type,this.width=e.width,this.missingData=e.missingData,this},e}();n.Device=b;var T=function(){function e(){}return e.prototype.fromRestQualitySettings=function(e){return this.audioBitrate=e.AudioBitrate,this.framerate=e.Framerate,this.multipleBitrateCount=e.MultipleBitrateCount,this.pixelCount=e.PixelCount,this.videoBitrate=e.VideoBitrate,this},e.prototype.copyFromQualitySettings=function(e){return this.audioBitrate=e.audioBitrate,this.framerate=e.framerate,this.multipleBitrateCount=e.multipleBitrateCount,this.pixelCount=e.pixelCount,this.videoBitrate=e.videoBitrate,this},e}();n.QualitySettings=T;var R=function(){function e(){}return e.prototype.fromRestRecorderTimeZoneInfo=function(e){return this},e.prototype.copyFromRecorderTimeZoneInfo=function(e){return this},e}();n.RecorderTimeZoneInfo=R;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestSessionReference=function(e){return t.prototype.fromRestModelBase.call(this,e),this.referencedSessionId=e.ReferencedSessionId,this.referencedSessionDuration=e.ReferencedSessionDuration,this.start=e.Start,this.order=e.Order,this.hostSession=e.HostSession?(new n.Session).fromRestSession(e.HostSession):void 0,this},e.prototype.copyFromSessionReference=function(e){return t.prototype.copyFromModelBase.call(this,e),this.referencedSessionId=e.referencedSessionId,this.referencedSessionDuration=e.referencedSessionDuration,this.start=e.start,this.order=e.order,this.hostSession=e.hostSession?(new n.Session).copyFromSession(e.hostSession):void 0,this},e}(t);n.SessionReference=w;var A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestUpdateModel=function(e){return t.prototype.fromRestModelBase.call(this,e),this.updateDate=e.UpdateDate,this},e.prototype.copyFromUpdateModel=function(e){return t.prototype.copyFromModelBase.call(this,e),this.updateDate=e.updateDate,this},e}(t);n.UpdateModel=A;var E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestCut=function(e){return t.prototype.fromRestModelBase.call(this,e),this.sessionId=e.SessionId,this.targetId=e.TargetId,this.targetType=e.TargetType,this.start=e.Start,this.duration=e.Duration,this},e.prototype.copyFromCut=function(e){return t.prototype.copyFromModelBase.call(this,e),this.sessionId=e.sessionId,this.targetId=e.targetId,this.targetType=e.targetType,this.start=e.start,this.duration=e.duration,this},e}(t);n.Cut=E;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestStream=function(e){return t.prototype.fromRestModelBase.call(this,e),this.url=e.Url,this.httpUrl=e.HttpUrl,this.absoluteStart=e.AbsoluteStart,this.duration=e.Duration,this.isPrimary=e.IsPrimary,this.thumbnailUrlBase=e.ThumbnailUrlBase,this.thumbnailInterval=e.ThumbnailInterval,this.type=e.Type,this.vrType=e.VRType,this},e.prototype.copyFromStream=function(e){return t.prototype.copyFromModelBase.call(this,e),this.url=e.url,this.httpUrl=e.httpUrl,this.absoluteStart=e.absoluteStart,this.duration=e.duration,this.isPrimary=e.isPrimary,this.thumbnailUrlBase=e.thumbnailUrlBase,this.thumbnailInterval=e.thumbnailInterval,this.type=e.type,this.vrType=e.vrType,this},e}(t);n.Stream=M;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestSlideDeck=function(e){return t.prototype.fromRestModelBase.call(this,e),this.sessionId=e.SessionId,this},e.prototype.copyFromSlideDeck=function(e){return t.prototype.copyFromModelBase.call(this,e),this.sessionId=e.sessionId,this},e}(t);n.SlideDeck=k;var D=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestQuestionList=function(e){o.prototype.fromRestModelBase.call(this,e),this.revisionId=e.RevisionId,this.questions=new Array(e.Questions?e.Questions.length:0);for(var t=0;t<this.questions.length;t++)this.questions[t]=e.Questions[t]?(new n.Question).fromRestQuestion(e.Questions[t]):void 0;return this.sessionRelativeTime=e.SessionRelativeTime,this.isSessionPlaybackBlocking=e.IsSessionPlaybackBlocking,this.allowRetake=e.AllowRetake,this.showFinalGrade=e.ShowFinalGrade,this.allowReview=e.AllowReview,this.sessionId=e.SessionId,this},e.prototype.copyFromQuestionList=function(e){o.prototype.copyFromModelBase.call(this,e),this.revisionId=e.revisionId,this.questions=new Array(e.questions?e.questions.length:0);for(var t=0;t<this.questions.length;t++)this.questions[t]=e.questions[t]?(new n.Question).copyFromQuestion(e.questions[t]):void 0;return this.sessionRelativeTime=e.sessionRelativeTime,this.isSessionPlaybackBlocking=e.isSessionPlaybackBlocking,this.allowRetake=e.allowRetake,this.showFinalGrade=e.showFinalGrade,this.allowReview=e.allowReview,this.sessionId=e.sessionId,this},e}(t);n.QuestionList=D;var _=function(){function e(){}return e.prototype.fromRestStreamChanges=function(e){this.toAdd=new Array(e.ToAdd?e.ToAdd.length:0);for(var t=0;t<this.toAdd.length;t++)this.toAdd[t]=e.ToAdd[t]?(new n.StreamCreate).fromRestStreamCreate(e.ToAdd[t]):void 0;return this},e.prototype.copyFromStreamChanges=function(e){this.toAdd=new Array(e.toAdd?e.toAdd.length:0);for(var t=0;t<this.toAdd.length;t++)this.toAdd[t]=e.toAdd[t]?(new n.StreamCreate).copyFromStreamCreate(e.toAdd[t]):void 0;return this},e}();n.StreamChanges=_;var U=function(){function e(){}return e.prototype.fromRestSessionReferenceChanges=function(e){this.toAdd=new Array(e.ToAdd?e.ToAdd.length:0);for(var t=0;t<this.toAdd.length;t++)this.toAdd[t]=e.ToAdd[t]?(new n.SessionReferenceCreate).fromRestSessionReferenceCreate(e.ToAdd[t]):void 0;this.toUpdate=new Array(e.ToUpdate?e.ToUpdate.length:0);for(t=0;t<this.toUpdate.length;t++)this.toUpdate[t]=e.ToUpdate[t]?(new n.SessionReferenceUpdate).fromRestSessionReferenceUpdate(e.ToUpdate[t]):void 0;this.toDelete=new Array(e.ToDelete?e.ToDelete.length:0);for(t=0;t<this.toDelete.length;t++)this.toDelete[t]=e.ToDelete[t];return this},e.prototype.copyFromSessionReferenceChanges=function(e){this.toAdd=new Array(e.toAdd?e.toAdd.length:0);for(var t=0;t<this.toAdd.length;t++)this.toAdd[t]=e.toAdd[t]?(new n.SessionReferenceCreate).copyFromSessionReferenceCreate(e.toAdd[t]):void 0;this.toUpdate=new Array(e.toUpdate?e.toUpdate.length:0);for(t=0;t<this.toUpdate.length;t++)this.toUpdate[t]=e.toUpdate[t]?(new n.SessionReferenceUpdate).copyFromSessionReferenceUpdate(e.toUpdate[t]):void 0;this.toDelete=new Array(e.toDelete?e.toDelete.length:0);for(t=0;t<this.toDelete.length;t++)this.toDelete[t]=e.toDelete[t];return this},e}();n.SessionReferenceChanges=U;var x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestTranscriptionProvider=function(e){return t.prototype.fromRestModelBase.call(this,e),this.providerType=e.ProviderType,this.credentialType=e.CredentialType,this.companyName=e.CompanyName,this.supportUrl=e.SupportUrl,this.isWhiteLabel=e.IsWhiteLabel,this.allowSendingFolderName=e.AllowSendingFolderName,this.needsCustomerAccountInfo=e.NeedsCustomerAccountInfo,this.needsCustomerPrivateKey=e.NeedsCustomerPrivateKey,this.needsCustomerUserKey=e.NeedsCustomerUserKey,this.showInUI=e.ShowInUI,this.displayName=e.DisplayName,this.description=e.Description,this.price=e.Price,this},e.prototype.copyFromTranscriptionProvider=function(e){return t.prototype.copyFromModelBase.call(this,e),this.providerType=e.providerType,this.credentialType=e.credentialType,this.companyName=e.companyName,this.supportUrl=e.supportUrl,this.isWhiteLabel=e.isWhiteLabel,this.allowSendingFolderName=e.allowSendingFolderName,this.needsCustomerAccountInfo=e.needsCustomerAccountInfo,this.needsCustomerPrivateKey=e.needsCustomerPrivateKey,this.needsCustomerUserKey=e.needsCustomerUserKey,this.showInUI=e.showInUI,this.displayName=e.displayName,this.description=e.description,this.price=e.price,this},e}(t);n.TranscriptionProvider=x;var O=function(){function e(){}return e.prototype.fromRestAccessMessage=function(e){return this.content=e.Content,this.shouldSendEmails=e.ShouldSendEmails,this},e.prototype.copyFromAccessMessage=function(e){return this.content=e.content,this.shouldSendEmails=e.shouldSendEmails,this},e}();n.AccessMessage=O;var F=function(){function e(){}return e.prototype.fromRestAPIError=function(e){return this.error=e.Error?(new n.APIErrorInternal).fromRestAPIErrorInternal(e.Error):void 0,this},e.prototype.copyFromAPIError=function(e){return this.error=e.error?(new n.APIErrorInternal).copyFromAPIErrorInternal(e.error):void 0,this},e}();n.APIError=F;var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestBrand=function(e){return t.prototype.fromRestModelBase.call(this,e),this.affiliationId=e.AffiliationId,this.departmentId=e.DepartmentId,this.accentColor=e.AccentColor,this.webLogoUrl=e.WebLogoUrl,this.viewerLogoUrl=e.ViewerLogoUrl,this.embedLogoUrl=e.EmbedLogoUrl,this.squareLogoUrl=e.SquareLogoUrl,this.faviconUrl=e.FaviconUrl,this},e.prototype.copyFromBrand=function(e){return t.prototype.copyFromModelBase.call(this,e),this.affiliationId=e.affiliationId,this.departmentId=e.departmentId,this.accentColor=e.accentColor,this.webLogoUrl=e.webLogoUrl,this.viewerLogoUrl=e.viewerLogoUrl,this.embedLogoUrl=e.embedLogoUrl,this.squareLogoUrl=e.squareLogoUrl,this.faviconUrl=e.faviconUrl,this},e}(t);n.Brand=N;var j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestCaption=function(e){return t.prototype.fromRestEvent.call(this,e),this},e.prototype.copyFromCaption=function(e){return t.prototype.copyFromEvent.call(this,e),this},e}(n.Event);n.Caption=j;var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestDepartment=function(e){return t.prototype.fromRestModelBase.call(this,e),this.folderId=e.FolderId,this.webLogoUrl=e.WebLogoUrl,this},e.prototype.copyFromDepartment=function(e){return t.prototype.copyFromModelBase.call(this,e),this.folderId=e.folderId,this.webLogoUrl=e.webLogoUrl,this},e}(t);n.Department=B;var V=function(){function e(){}return e.prototype.fromRestEventTypeExtensions=function(e){return this},e.prototype.copyFromEventTypeExtensions=function(e){return this},e}();n.EventTypeExtensions=V;var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestFFTUserCreateResponse=function(e){return t.prototype.fromRestModelBase.call(this,e),this.preauthenticatedLink=e.PreauthenticatedLink,this.userId=e.UserId,this},e.prototype.copyFromFFTUserCreateResponse=function(e){return t.prototype.copyFromModelBase.call(this,e),this.preauthenticatedLink=e.preauthenticatedLink,this.userId=e.userId,this},e}(n.ModelBase);n.FFTUserCreateResponse=H;var L=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestFolderAccessItem=function(e){o.prototype.fromRestAccessItem.call(this,e),this.viewUri=e.ViewUri,this.embedViewTag=e.EmbedViewTag,this.isApprovalRequired=e.IsApprovalRequired,this.arePublishersEditable=e.ArePublishersEditable,this.isDropbox=e.IsDropbox,this.folderType=e.FolderType,this.inheritingDescendants=new Array(e.InheritingDescendants?e.InheritingDescendants.length:0);for(var t=0;t<this.inheritingDescendants.length;t++)this.inheritingDescendants[t]=e.InheritingDescendants[t]?(new n.ModelBase).fromRestModelBase(e.InheritingDescendants[t]):void 0;return this.isEditable=e.IsEditable,this},e.prototype.copyFromFolderAccessItem=function(e){o.prototype.copyFromAccessItem.call(this,e),this.viewUri=e.viewUri,this.embedViewTag=e.embedViewTag,this.isApprovalRequired=e.isApprovalRequired,this.arePublishersEditable=e.arePublishersEditable,this.isDropbox=e.isDropbox,this.folderType=e.folderType,this.inheritingDescendants=new Array(e.inheritingDescendants?e.inheritingDescendants.length:0);for(var t=0;t<this.inheritingDescendants.length;t++)this.inheritingDescendants[t]=e.inheritingDescendants[t]?(new n.ModelBase).copyFromModelBase(e.inheritingDescendants[t]):void 0;return this.isEditable=e.isEditable,this},e}(n.AccessItem);n.FolderAccessItem=L;var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestGroup=function(e){return t.prototype.fromRestModelBase.call(this,e),this.ownerId=e.OwnerId,this.ownerName=e.OwnerName,this.memberCount=e.MemberCount,this.externalId=e.ExternalId,this.isPrivate=e.IsPrivate,this.isFromEditableMembershipProvider=e.IsFromEditableMembershipProvider,this.isEditable=e.IsEditable,this.isAccessEditable=e.IsAccessEditable,this.builtInType=e.BuiltInType,this.provider=e.Provider?(new n.MembershipProvider).fromRestMembershipProvider(e.Provider):void 0,this.isMembershipViewable=e.IsMembershipViewable,this},e.prototype.copyFromGroup=function(e){return t.prototype.copyFromModelBase.call(this,e),this.ownerId=e.ownerId,this.ownerName=e.ownerName,this.memberCount=e.memberCount,this.externalId=e.externalId,this.isPrivate=e.isPrivate,this.isFromEditableMembershipProvider=e.isFromEditableMembershipProvider,this.isEditable=e.isEditable,this.isAccessEditable=e.isAccessEditable,this.builtInType=e.builtInType,this.provider=e.provider?(new n.MembershipProvider).copyFromMembershipProvider(e.provider):void 0,this.isMembershipViewable=e.isMembershipViewable,this},e}(t);n.Group=$;var G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestHeatMapAnalytics=function(e){return t.prototype.fromRestModelBase.call(this,e),this.bucketStart=e.BucketStart,this.views=e.Views,this.notes=e.Notes,this.comments=e.Comments,this},e.prototype.copyFromHeatMapAnalytics=function(e){return t.prototype.copyFromModelBase.call(this,e),this.bucketStart=e.bucketStart,this.views=e.views,this.notes=e.notes,this.comments=e.comments,this},e}(t);n.HeatMapAnalytics=G;var Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestJob=function(e){return t.prototype.fromRestAccessItem.call(this,e),this},e.prototype.copyFromJob=function(e){return t.prototype.copyFromAccessItem.call(this,e),this},e}(n.AccessItem);n.Job=Q;var W=function(){function e(){}return e.prototype.fromRestModelActionExtensions=function(e){return this},e.prototype.copyFromModelActionExtensions=function(e){return this},e}();n.ModelActionExtensions=W;var z=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestNetworkAccessRuleGroup=function(e){o.prototype.fromRestModelBase.call(this,e),this.friendlyName=e.FriendlyName,this.editable=e.Editable,this.rules=new Array(e.Rules?e.Rules.length:0);for(var t=0;t<this.rules.length;t++)this.rules[t]=e.Rules[t]?(new n.NetworkAccessRule).fromRestNetworkAccessRule(e.Rules[t]):void 0;return this.isDefault=e.IsDefault,this},e.prototype.copyFromNetworkAccessRuleGroup=function(e){o.prototype.copyFromModelBase.call(this,e),this.friendlyName=e.friendlyName,this.editable=e.editable,this.rules=new Array(e.rules?e.rules.length:0);for(var t=0;t<this.rules.length;t++)this.rules[t]=e.rules[t]?(new n.NetworkAccessRule).copyFromNetworkAccessRule(e.rules[t]):void 0;return this.isDefault=e.isDefault,this},e}(t);n.NetworkAccessRuleGroup=z;var K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestOauthAllowedUri=function(e){return t.prototype.fromRestModelBase.call(this,e),this.uriId=e.UriId,this.uri=e.Uri,this.uriType=e.UriType,this.clientId=e.ClientId,this},e.prototype.copyFromOauthAllowedUri=function(e){return t.prototype.copyFromModelBase.call(this,e),this.uriId=e.uriId,this.uri=e.uri,this.uriType=e.uriType,this.clientId=e.clientId,this},e}(t);n.OauthAllowedUri=K;var q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestOauthScope=function(e){return t.prototype.fromRestModelBase.call(this,e),this.scopeId=e.ScopeId,this.clientId=e.ClientId,this},e.prototype.copyFromOauthScope=function(e){return t.prototype.copyFromModelBase.call(this,e),this.scopeId=e.scopeId,this.clientId=e.clientId,this},e}(t);n.OauthScope=q;var Z=function(){function e(){}return e.prototype.fromRestPasswordReset=function(e){return this.tokenId=e.TokenId,this.answer=e.Answer,this.password=e.Password,this},e.prototype.copyFromPasswordReset=function(e){return this.tokenId=e.tokenId,this.answer=e.answer,this.password=e.password,this},e}();n.PasswordReset=Z;var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestPlaylistAccessItem=function(e){return t.prototype.fromRestAccessItem.call(this,e),this.viewerUri=e.ViewerUri,this.embedViewerTag=e.EmbedViewerTag,this},e.prototype.copyFromPlaylistAccessItem=function(e){return t.prototype.copyFromAccessItem.call(this,e),this.viewerUri=e.viewerUri,this.embedViewerTag=e.embedViewerTag,this},e}(n.AccessItem);n.PlaylistAccessItem=Y;var J=function(){function e(){}return e.prototype.fromRestPlaylistWithItems=function(e){this.playlist=e.Playlist?(new n.Playlist).fromRestPlaylist(e.Playlist):void 0,this.items=new Array(e.Items?e.Items.length:0);for(var t=0;t<this.items.length;t++)this.items[t]=e.Items[t]?(new n.Session).fromRestSession(e.Items[t]):void 0;return this},e.prototype.copyFromPlaylistWithItems=function(e){this.playlist=e.playlist?(new n.Playlist).copyFromPlaylist(e.playlist):void 0,this.items=new Array(e.items?e.items.length:0);for(var t=0;t<this.items.length;t++)this.items[t]=e.items[t]?(new n.Session).copyFromSession(e.items[t]):void 0;return this},e}();n.PlaylistWithItems=J;var X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestQuestionListAnswer=function(e){return t.prototype.fromRestModelBase.call(this,e),this.revisionId=e.RevisionId,this.userId=e.UserId,this.invocationId=e.InvocationId,this.questionListId=e.QuestionListId,this.questionId=e.QuestionId,this.questionOptionId=e.QuestionOptionId,this.quizStartTime=e.QuizStartTime,this},e.prototype.copyFromQuestionListAnswer=function(e){return t.prototype.copyFromModelBase.call(this,e),this.revisionId=e.revisionId,this.userId=e.userId,this.invocationId=e.invocationId,this.questionListId=e.questionListId,this.questionId=e.questionId,this.questionOptionId=e.questionOptionId,this.quizStartTime=e.quizStartTime,this},e}(t);n.QuestionListAnswer=X;var ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestQuotaDetail=function(e){return t.prototype.fromRestModelBase.call(this,e),this.activePeriod=e.ActivePeriod?(new n.QuotaDataByPeriod).fromRestQuotaDataByPeriod(e.ActivePeriod):void 0,this.lastPeriod=e.LastPeriod?(new n.QuotaDataByPeriod).fromRestQuotaDataByPeriod(e.LastPeriod):void 0,this},e.prototype.copyFromQuotaDetail=function(e){return t.prototype.copyFromModelBase.call(this,e),this.activePeriod=e.activePeriod?(new n.QuotaDataByPeriod).copyFromQuotaDataByPeriod(e.activePeriod):void 0,this.lastPeriod=e.lastPeriod?(new n.QuotaDataByPeriod).copyFromQuotaDataByPeriod(e.lastPeriod):void 0,this},e}(n.ModelBase);n.QuotaDetail=ee;var te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestRecorderScheduleEntry=function(e){return t.prototype.fromRestModelBase.call(this,e),this.ownerId=e.OwnerId,this.isPrimaryRecorder=e.IsPrimaryRecorder,this.recorderId=e.RecorderId,this.sessionId=e.SessionId,this.startTime=e.StartTime,this.duration=e.Duration,this},e.prototype.copyFromRecorderScheduleEntry=function(e){return t.prototype.copyFromModelBase.call(this,e),this.ownerId=e.ownerId,this.isPrimaryRecorder=e.isPrimaryRecorder,this.recorderId=e.recorderId,this.sessionId=e.sessionId,this.startTime=e.startTime,this.duration=e.duration,this},e}(t);n.RecorderScheduleEntry=te;var oe=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestRemoteRecorder=function(e){o.prototype.fromRestModelBase.call(this,e),this.devices=new Array(e.Devices?e.Devices.length:0);for(var t=0;t<this.devices.length;t++)this.devices[t]=e.Devices[t]?(new n.Device).fromRestDevice(e.Devices[t]):void 0;this.lastConnectionDateTime=e.LastConnectionDateTime,this.nextRecordingDateTime=e.NextRecordingDateTime,this.primaryAudioDeviceId=e.PrimaryAudioDeviceId,this.primaryRecordingQualitySettings=e.PrimaryRecordingQualitySettings?(new n.QualitySettings).fromRestQualitySettings(e.PrimaryRecordingQualitySettings):void 0,this.primaryVideoDeviceId=e.PrimaryVideoDeviceId,this.recordingType=e.RecordingType,this.secondaryRecordingQualitySettings=e.SecondaryRecordingQualitySettings?(new n.QualitySettings).fromRestQualitySettings(e.SecondaryRecordingQualitySettings):void 0,this.state=e.State,this.version=e.Version,this.defaultFolder=e.DefaultFolder?(new n.Folder).fromRestFolder(e.DefaultFolder):void 0,this.accessRoleTypes=new Array(e.AccessRoleTypes?e.AccessRoleTypes.length:0);for(t=0;t<this.accessRoleTypes.length;t++)this.accessRoleTypes[t]=e.AccessRoleTypes[t];return this.timeZoneDisplayInfo=e.TimeZoneDisplayInfo?(new n.RecorderTimeZoneInfo).fromRestRecorderTimeZoneInfo(e.TimeZoneDisplayInfo):void 0,this.isInheritingTimeZone=e.IsInheritingTimeZone,this},e.prototype.copyFromRemoteRecorder=function(e){o.prototype.copyFromModelBase.call(this,e),this.devices=new Array(e.devices?e.devices.length:0);for(var t=0;t<this.devices.length;t++)this.devices[t]=e.devices[t]?(new n.Device).copyFromDevice(e.devices[t]):void 0;this.lastConnectionDateTime=e.lastConnectionDateTime,this.nextRecordingDateTime=e.nextRecordingDateTime,this.primaryAudioDeviceId=e.primaryAudioDeviceId,this.primaryRecordingQualitySettings=e.primaryRecordingQualitySettings?(new n.QualitySettings).copyFromQualitySettings(e.primaryRecordingQualitySettings):void 0,this.primaryVideoDeviceId=e.primaryVideoDeviceId,this.recordingType=e.recordingType,this.secondaryRecordingQualitySettings=e.secondaryRecordingQualitySettings?(new n.QualitySettings).copyFromQualitySettings(e.secondaryRecordingQualitySettings):void 0,this.state=e.state,this.version=e.version,this.defaultFolder=e.defaultFolder?(new n.Folder).copyFromFolder(e.defaultFolder):void 0,this.accessRoleTypes=new Array(e.accessRoleTypes?e.accessRoleTypes.length:0);for(t=0;t<this.accessRoleTypes.length;t++)this.accessRoleTypes[t]=e.accessRoleTypes[t];return this.timeZoneDisplayInfo=e.timeZoneDisplayInfo?(new n.RecorderTimeZoneInfo).copyFromRecorderTimeZoneInfo(e.timeZoneDisplayInfo):void 0,this.isInheritingTimeZone=e.isInheritingTimeZone,this},e}(t);n.RemoteRecorder=oe;var ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestRTMPStream=function(e){return t.prototype.fromRestModelBase.call(this,e),this.parent=e.Parent?(new n.ModelBase).fromRestModelBase(e.Parent):void 0,this.streamKey=e.StreamKey,this},e.prototype.copyFromRTMPStream=function(e){return t.prototype.copyFromModelBase.call(this,e),this.parent=e.parent?(new n.ModelBase).copyFromModelBase(e.parent):void 0,this.streamKey=e.streamKey,this},e}(t);n.RTMPStream=ne;var re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestScopedAnalytics=function(e){return t.prototype.fromRestModelBase.call(this,e),this.repositoryKey=e.RepositoryKey,this.timeStamp=e.TimeStamp,this.folderId=e.FolderId,this.folderFriendlyName=e.FolderFriendlyName,this.rootFolderId=e.RootFolderId,this.rootFolderFriendlyName=e.RootFolderFriendlyName,this.userId=e.UserId,this.userFriendlyName=e.UserFriendlyName,this.sessionId=e.SessionId,this.sessionFriendlyName=e.SessionFriendlyName,this.creatorId=e.CreatorId,this.creatorFriendlyName=e.CreatorFriendlyName,this.views=e.Views,this.minutesViewed=e.MinutesViewed,this.uniqueViewers=e.UniqueViewers,this.uniqueSessions=e.UniqueSessions,this.totalComments=e.TotalComments,this.totalNotes=e.TotalNotes,this.averageMinutesViewed=e.AverageMinutesViewed,this},e.prototype.copyFromScopedAnalytics=function(e){return t.prototype.copyFromModelBase.call(this,e),this.repositoryKey=e.repositoryKey,this.timeStamp=e.timeStamp,this.folderId=e.folderId,this.folderFriendlyName=e.folderFriendlyName,this.rootFolderId=e.rootFolderId,this.rootFolderFriendlyName=e.rootFolderFriendlyName,this.userId=e.userId,this.userFriendlyName=e.userFriendlyName,this.sessionId=e.sessionId,this.sessionFriendlyName=e.sessionFriendlyName,this.creatorId=e.creatorId,this.creatorFriendlyName=e.creatorFriendlyName,this.views=e.views,this.minutesViewed=e.minutesViewed,this.uniqueViewers=e.uniqueViewers,this.uniqueSessions=e.uniqueSessions,this.totalComments=e.totalComments,this.totalNotes=e.totalNotes,this.averageMinutesViewed=e.averageMinutesViewed,this},e}(t);n.ScopedAnalytics=re;var ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestSessionAccessItem=function(e){return t.prototype.fromRestAccessItem.call(this,e),this.viewerUri=e.ViewerUri,this.embedViewerTag=e.EmbedViewerTag,this},e.prototype.copyFromSessionAccessItem=function(e){return t.prototype.copyFromAccessItem.call(this,e),this.viewerUri=e.viewerUri,this.embedViewerTag=e.embedViewerTag,this},e}(n.AccessItem);n.SessionAccessItem=ie;var ae=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestSessionChangeSet=function(e){o.prototype.fromRestUpdateModel.call(this,e),this.sessionId=e.SessionId,this.cutsToReplace=new Array(e.CutsToReplace?e.CutsToReplace.length:0);for(var t=0;t<this.cutsToReplace.length;t++)this.cutsToReplace[t]=e.CutsToReplace[t]?(new n.Cut).fromRestCut(e.CutsToReplace[t]):void 0;this.streamsToUpdate=new Array(e.StreamsToUpdate?e.StreamsToUpdate.length:0);for(t=0;t<this.streamsToUpdate.length;t++)this.streamsToUpdate[t]=e.StreamsToUpdate[t]?(new n.Stream).fromRestStream(e.StreamsToUpdate[t]):void 0;this.slideDecksToDelete=new Array(e.SlideDecksToDelete?e.SlideDecksToDelete.length:0);for(t=0;t<this.slideDecksToDelete.length;t++)this.slideDecksToDelete[t]=e.SlideDecksToDelete[t]?(new n.SlideDeck).fromRestSlideDeck(e.SlideDecksToDelete[t]):void 0;this.eventsToAdd=new Array(e.EventsToAdd?e.EventsToAdd.length:0);for(t=0;t<this.eventsToAdd.length;t++)this.eventsToAdd[t]=e.EventsToAdd[t]?(new n.Event).fromRestEvent(e.EventsToAdd[t]):void 0;this.eventsToUpdate=new Array(e.EventsToUpdate?e.EventsToUpdate.length:0);for(t=0;t<this.eventsToUpdate.length;t++)this.eventsToUpdate[t]=e.EventsToUpdate[t]?(new n.Event).fromRestEvent(e.EventsToUpdate[t]):void 0;this.eventsToDelete=new Array(e.EventsToDelete?e.EventsToDelete.length:0);for(t=0;t<this.eventsToDelete.length;t++)this.eventsToDelete[t]=e.EventsToDelete[t]?(new n.Event).fromRestEvent(e.EventsToDelete[t]):void 0;this.questionListRevisions=new Array(e.QuestionListRevisions?e.QuestionListRevisions.length:0);for(t=0;t<this.questionListRevisions.length;t++)this.questionListRevisions[t]=e.QuestionListRevisions[t]?(new n.QuestionList).fromRestQuestionList(e.QuestionListRevisions[t]):void 0;this.questionListIdsToDelete=new Array(e.QuestionListIdsToDelete?e.QuestionListIdsToDelete.length:0);for(t=0;t<this.questionListIdsToDelete.length;t++)this.questionListIdsToDelete[t]=e.QuestionListIdsToDelete[t];return this.streamChanges=e.StreamChanges?(new n.StreamChanges).fromRestStreamChanges(e.StreamChanges):void 0,this.sessionReferences=e.SessionReferences?(new n.SessionReferenceChanges).fromRestSessionReferenceChanges(e.SessionReferences):void 0,this.ownerName=e.OwnerName,this.ownerId=e.OwnerId,this},e.prototype.copyFromSessionChangeSet=function(e){o.prototype.copyFromUpdateModel.call(this,e),this.sessionId=e.sessionId,this.cutsToReplace=new Array(e.cutsToReplace?e.cutsToReplace.length:0);for(var t=0;t<this.cutsToReplace.length;t++)this.cutsToReplace[t]=e.cutsToReplace[t]?(new n.Cut).copyFromCut(e.cutsToReplace[t]):void 0;this.streamsToUpdate=new Array(e.streamsToUpdate?e.streamsToUpdate.length:0);for(t=0;t<this.streamsToUpdate.length;t++)this.streamsToUpdate[t]=e.streamsToUpdate[t]?(new n.Stream).copyFromStream(e.streamsToUpdate[t]):void 0;this.slideDecksToDelete=new Array(e.slideDecksToDelete?e.slideDecksToDelete.length:0);for(t=0;t<this.slideDecksToDelete.length;t++)this.slideDecksToDelete[t]=e.slideDecksToDelete[t]?(new n.SlideDeck).copyFromSlideDeck(e.slideDecksToDelete[t]):void 0;this.eventsToAdd=new Array(e.eventsToAdd?e.eventsToAdd.length:0);for(t=0;t<this.eventsToAdd.length;t++)this.eventsToAdd[t]=e.eventsToAdd[t]?(new n.Event).copyFromEvent(e.eventsToAdd[t]):void 0;this.eventsToUpdate=new Array(e.eventsToUpdate?e.eventsToUpdate.length:0);for(t=0;t<this.eventsToUpdate.length;t++)this.eventsToUpdate[t]=e.eventsToUpdate[t]?(new n.Event).copyFromEvent(e.eventsToUpdate[t]):void 0;this.eventsToDelete=new Array(e.eventsToDelete?e.eventsToDelete.length:0);for(t=0;t<this.eventsToDelete.length;t++)this.eventsToDelete[t]=e.eventsToDelete[t]?(new n.Event).copyFromEvent(e.eventsToDelete[t]):void 0;this.questionListRevisions=new Array(e.questionListRevisions?e.questionListRevisions.length:0);for(t=0;t<this.questionListRevisions.length;t++)this.questionListRevisions[t]=e.questionListRevisions[t]?(new n.QuestionList).copyFromQuestionList(e.questionListRevisions[t]):void 0;this.questionListIdsToDelete=new Array(e.questionListIdsToDelete?e.questionListIdsToDelete.length:0);for(t=0;t<this.questionListIdsToDelete.length;t++)this.questionListIdsToDelete[t]=e.questionListIdsToDelete[t];return this.streamChanges=e.streamChanges?(new n.StreamChanges).copyFromStreamChanges(e.streamChanges):void 0,this.sessionReferences=e.sessionReferences?(new n.SessionReferenceChanges).copyFromSessionReferenceChanges(e.sessionReferences):void 0,this.ownerName=e.ownerName,this.ownerId=e.ownerId,this},e}(n.UpdateModel);n.SessionChangeSet=ae;var se=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.fromRestSessionList=function(e){o.prototype.fromRestUpdateModel.call(this,e),this.specialType=e.SpecialType,this.items=new Array(e.Items?e.Items.length:0);for(var t=0;t<this.items.length;t++)this.items[t]=e.Items[t]?(new n.Session).fromRestSession(e.Items[t]):void 0;return this},e.prototype.copyFromSessionList=function(e){o.prototype.copyFromUpdateModel.call(this,e),this.specialType=e.specialType,this.items=new Array(e.items?e.items.length:0);for(var t=0;t<this.items.length;t++)this.items[t]=e.items[t]?(new n.Session).copyFromSession(e.items[t]):void 0;return this},e}(n.UpdateModel);n.SessionList=se;var ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestSharingConnection=function(e){return t.prototype.fromRestModelBase.call(this,e),this.recipient=e.Recipient,this.sender=e.Sender,this.state=e.State,this},e.prototype.copyFromSharingConnection=function(e){return t.prototype.copyFromModelBase.call(this,e),this.recipient=e.recipient,this.sender=e.sender,this.state=e.state,this},e}(t);n.SharingConnection=ce;var le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestSlide=function(e){return t.prototype.fromRestModelBase.call(this,e),this.slideDeckId=e.SlideDeckId,this.slideNumber=e.SlideNumber,this.content=e.Content,this.imageUrl=e.ImageUrl,this},e.prototype.copyFromSlide=function(e){return t.prototype.copyFromModelBase.call(this,e),this.slideDeckId=e.slideDeckId,this.slideNumber=e.slideNumber,this.content=e.content,this.imageUrl=e.imageUrl,this},e}(t);n.Slide=le;var de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestTranscriptionProviderInstance=function(e){return t.prototype.fromRestModelBase.call(this,e),this.provider=e.Provider?(new n.TranscriptionProvider).fromRestTranscriptionProvider(e.Provider):void 0,this.userKey=e.UserKey,this.username=e.Username,this.password=e.Password,this.havePassword=e.HavePassword,this.havePrivateKey=e.HavePrivateKey,this.haveUserKey=e.HaveUserKey,this.privateKey=e.PrivateKey,this.creatorsCanRequest=e.CreatorsCanRequest,this.enabled=e.Enabled,this.sendFolderName=e.SendFolderName,this.displayName=e.DisplayName,this},e.prototype.copyFromTranscriptionProviderInstance=function(e){return t.prototype.copyFromModelBase.call(this,e),this.provider=e.provider?(new n.TranscriptionProvider).copyFromTranscriptionProvider(e.provider):void 0,this.userKey=e.userKey,this.username=e.username,this.password=e.password,this.havePassword=e.havePassword,this.havePrivateKey=e.havePrivateKey,this.haveUserKey=e.haveUserKey,this.privateKey=e.privateKey,this.creatorsCanRequest=e.creatorsCanRequest,this.enabled=e.enabled,this.sendFolderName=e.sendFolderName,this.displayName=e.displayName,this},e}(t);n.TranscriptionProviderInstance=de;var ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.fromRestUser=function(e){return t.prototype.fromRestModelBase.call(this,e),this.key=e.Key,this.email=e.Email,this.firstName=e.FirstName,this.lastName=e.LastName,this.initialPassword=e.InitialPassword,this.fftTargetURL=e.FFTTargetURL,this},e.prototype.copyFromUser=function(e){return t.prototype.copyFromModelBase.call(this,e),this.key=e.key,this.email=e.email,this.firstName=e.firstName,this.lastName=e.lastName,this.initialPassword=e.initialPassword,this.fftTargetURL=e.fftTargetURL,this},e}(t);n.User=ue}(AutoClientModels||(AutoClientModels={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=function(r){var d=function(e){e.apiVersion||Panopto.Core.Constants.ApiVersion;var t=e.alternateUrl||PanoptoTS.StringHelpers.format("{0}/Api/",Panopto.appRoot),o=e.paramsObj?"?"+Panopto.Core.StringHelpers.serializeObjectToQueryString(e.paramsObj):"",n=e.id?"/"+e.id:"",r=e.path?"/"+e.path:"",i=e.serviceName||"";return PanoptoTS.StringHelpers.format("{0}{1}{2}{3}{4}",t,i,n,r,o)};return r.makeCall=function(e,t,o,n,r,i){var a,s,c,l;a={type:e,url:d(t),data:t.data,headers:t.headers,async:!i},s=o,c=n,l=r,a.success=s||$.noop,a.error=c||$.noop,a.complete=l||$.noop,a.contentType=a.contentType||"application/json; charset=utf-8",a.dataType=a.dataType||"json",a.xhrFields=a.xhrFields||{withCredentials:!0},a.data=a.data?JSON.stringify(a.data):a.data,$.ajax(a)},r.sendBeacon=function(e){var t=new Blob([JSON.stringify(e.data)],{type:"application/json; charset=utf-8"});navigator.sendBeacon(d(e),t)},r.makeChunkedIdCalls=function(t,e,o,n){var r,i,a,s="&ids=".length+Panopto.Core.Constants.EmptyGuid.length,c=Math.floor(Panopto.Core.Constants.MaxQueryStringLength/s),l=[],d=[],u=[],p=function(){r||o(l,d,u)},f=(i=[],(a=function(e){e.length&&(i.push(_.first(e,c)),a(_.rest(e,c)))})(e),i);r=f.length,p(),_.each(f,function(e){t(e,function(e){n(e,l,d),r-=1,p()},function(e){u.push(e),r-=1,p()})})},r.makeChunkedDeleteCalls=function(e,t,o){r.makeChunkedIdCalls(e,t,o,function(e,t,o){var n=Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,function(e){return e});_.each(n.succeeded,function(e){t.push(e)}),_.each(n.failed,function(e){o.push(e)})})},r.makeChunkedGetCalls=function(e,t,o,n){r.makeChunkedIdCalls(e,t,o,function(e,t){var o=_.map(e,n);_.each(o,function(e){t.push(e)})})},r.getAll=function(e,t,o,n){var r=[],i=0,a=function(){e(_.extend(t,{page:i}),function(e){r=r.concat(e.results),e.hasMorePages?(i++,a()):o(r)},n)};a()},r.ResponseCountKey="Total-Count",r.HasMorePagesKey="Has-More-Pages",r.BatchPath="batch",r.LastModified="Last-Modified",r.IfUnmodifiedSince="If-Unmodified-Since",r}(Panopto.Core.ServiceInterface.Rest.Api||{}),function(a){var e,t,o;e=a.API||(a.API={}),t=e.Rest||(e.Rest={}),o=function(){function i(e){this.api=e}return i.prototype.getViewingAnalytics=function(e,r,t,o){var n;e.includeInteractivity?delete(n=__assign({"names[0]":"interactivity"},e)).includeInteractivity:n=e,this.api.makeCall(a.API.Rest.HttpMethods.get,{serviceName:i.serviceName+i.viewingEndpoint,paramsObj:n},function(e,t,o){var n=new a.API.Rest.Objects.DataPage;n.fromResponse(e,o,function(e){return(new AutoClientModels.ScopedAnalytics).fromRestScopedAnalytics(e)}),r(n)},t,o)},i.prototype.getHeatMapAnalytics=function(e,r,t,o){this.api.makeCall(a.API.Rest.HttpMethods.get,{serviceName:i.serviceName+i.heatMapEndpoint,paramsObj:e},function(e,t,o){var n=new a.API.Rest.Objects.DataPage;n.fromResponse(e,o,function(e){return(new AutoClientModels.HeatMapAnalytics).fromRestHeatMapAnalytics(e)}),r(n)},t,o)},i.serviceName="analytics/",i.viewingEndpoint="viewing",i.heatMapEndpoint="heatmap",i}(),t.AnalyticsService=o}(PanoptoTS||(PanoptoTS={})),function(a){var e,t,o;e=a.API||(a.API={}),t=e.Rest||(e.Rest={}),o=function(){function i(){}return i.prototype.save=function(e,n,t,o){i.restAPI.makeCall(e.id?a.API.Rest.HttpMethods.put:a.API.Rest.HttpMethods.post,{serviceName:i.serviceName,data:(new AutoRestModels.Department).fromClientDepartment(e)},function(e,t,o){n&&n((new AutoClientModels.Department).fromRestDepartment(e),t,o)},t,o)},i.prototype.delete=function(e,t,o,n){i.restAPI.makeCall(a.API.Rest.HttpMethods.delete,{serviceName:i.serviceName,id:e},t,o,n)},i.prototype.getOne=function(e,t,o,n){i.restAPI.makeCall(a.API.Rest.HttpMethods.get,{serviceName:i.serviceName,id:e},function(e){t&&t((new AutoClientModels.Department).fromRestDepartment(e))},o,n)},i.prototype.get=function(e,r,t,o){i.restAPI.makeCall(a.API.Rest.HttpMethods.get,{serviceName:i.serviceName,paramsObj:e},function(e,t,o){var n=new a.API.Rest.Objects.DataPage;n.fromResponse(e,o,function(e){return(new AutoClientModels.Department).fromRestDepartment(e)}),r(n)},t,o)},i.prototype.getAll=function(e,t){var n=this;i.restAPI.getAll(function(e,t,o){n.get(e,t,o)},{},e,t)},i.serviceName="Departments",i.restAPI=Panopto.Core.ServiceInterface.Rest.Api,i}(),t.DepartmentsService=o}(PanoptoTS||(PanoptoTS={})),function(i){var e,t,o;e=i.API||(i.API={}),t=e.Rest||(e.Rest={}),o=function(){function r(e){this.api=e}return r.prototype.getOne=function(e,t,o,n){this.api.makeCall(i.API.Rest.HttpMethods.get,{serviceName:r.serviceName,id:e},function(e){t&&t((new AutoClientModels.Folder).fromRestFolder(e))},o,n)},r.serviceName="folders",r}(),t.FolderService=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),(n=o.HttpStatusCode||(o.HttpStatusCode={}))[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.NotFound=404]="NotFound",n[n.InternalError=500]="InternalError"}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.API||(t.API={}),n=o.Rest||(o.Rest={}),r=function(){function e(){this.playlistsService=Panopto.Core.ServiceInterface.Rest.Playlists,this.sessionListsService=Panopto.Core.ServiceInterface.Rest.SessionLists}return e.prototype.getPlaylist=function(e,t){var n=this,r=$.Deferred();return this.playlistsService.getOne({id:e,onSuccess:function(o){n.sessionListsService.getOne(o.sessionListId,t,function(e){var t=new AutoClientModels.PlaylistWithItems;t.playlist=o,t.items=e.items,r.resolve(t)})}}),r.promise()},e}(),n.PlaylistWithSessionsService=r}(PanoptoTS||(PanoptoTS={})),function(S){var e,t,g,o;e=S.API||(S.API={}),t=e.Rest||(e.Rest={}),g=S.API.Rest.Filters.DateTimeBucketSize,o=function(){function e(){this.subfolders=["English 111","English 1010","English 201","English 201: Lab","English Dept. Shared","English Dept. Misc"],this.sessions=["Introduction and Syllabus Overview (9/17/18)","guest speaker: David Sedaris (9/19/18)","Extra Credit Assignment Review","TA Presentation (9/20/18)","roundtable on the works of William Faulkner","English Modernism Overview: Joyce & Woolf"],this.users=["Mark","Tim","Greg","JD"]}return e.prototype.getViewingAnalytics=function(e,t,o,n){var r=[];e.endTime||(e.endTime=moment(new Date).format()),e.startTime||(e.startTime=moment().subtract(3,"years").format());var i,a=moment(e.endTime).diff(moment(e.startTime));switch(e.bucketSize){case g.Week:i=moment.duration(a).asWeeks();break;case g.Month:i=moment.duration(a).asMonths();break;case g.Year:i=moment.duration(a).asYears();break;case g.Day:default:i=moment.duration(a).asDays()}i=Math.round(i);for(var s=0;s<i;s++)for(var c=0,l=this.subfolders;c<l.length;c++){var d=l[c];if(!_.contains(this.subfolders,e.folderId)||d===e.folderId)for(var u=0,p=this.sessions;u<p.length;u++){var f=p[u];if(!e.sessionId||e.sessionId===f)for(var m=0,h=this.users;m<h.length;m++){var v=h[m];if(!e.userId||e.userId===v){var C=new AutoClientModels.ScopedAnalytics;C.timeStamp=moment(e.startTime).add(s*a/i,"milliseconds").format("/[Date](xZZ)/"),C.views=Math.round(3*Math.random()),C.minutesViewed=Math.round(Math.random()*C.views*60),C.averageMinutesViewed=0===C.views?0:Math.round(C.minutesViewed/C.views),C.folderId=C.folderFriendlyName=d,C.rootFolderId=C.rootFolderFriendlyName=d,C.sessionId=C.sessionFriendlyName=f,C.userId=C.userFriendlyName=v,C.creatorId=C.creatorFriendlyName=this.users[2],e.includeInteractivity&&(C.totalNotes=2,C.totalComments=1),r.push(C)}}}}var P=new S.API.Rest.Objects.DataPage;P.results=r,setTimeout(function(){t(P)},500)},e.prototype.getHeatMapAnalytics=function(e,t,o,n){for(var r=[],i=0;i<30;i++){var a=new AutoClientModels.HeatMapAnalytics;a.bucketStart=60*i,a.views=Math.round(20*Math.random()),a.notes=Math.round(6*Math.random()),a.comments=Math.round(10*Math.random()),r.push(a)}var s=new S.API.Rest.Objects.DataPage;s.results=r,setTimeout(function(){t(s)},500)},e}(),t.MockAnalyticsService=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),n=function(){function e(){}return e.prototype.getOne=function(t,o,e,n){window.setTimeout(function(){var e=new AutoClientModels.Folder;switch(e.id=t){case"department":e.name="English Department";break;default:e.name="English 101",e.parent=new AutoClientModels.Folder,e.parent.name="English Department",e.parent.id="department"}o(e)},500)},e}(),o.MockFolderService=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),n=function(){function e(){}return e.prototype.getOne=function(t,o,e,n){window.setTimeout(function(){var e=new AutoClientModels.Session;e.id=t,e.name="Introduction and Syllabus Overview (9/17/18)",e.parent=new AutoClientModels.Folder,e.parent.id=e.parent.name="English 101",e.isWebcast=!0,o(e)},500)},e}(),o.MockSessionService=n}(PanoptoTS||(PanoptoTS={})),function(i){var e,t,o;e=i.API||(i.API={}),t=e.Rest||(e.Rest={}),o=function(){function r(e){this.api=e}return r.prototype.getOne=function(e,t,o,n){this.api.makeCall(i.API.Rest.HttpMethods.get,{serviceName:r.serviceName,id:e},function(e){t&&t((new AutoClientModels.Session).fromRestSession(e))},o,n)},r.serviceName="sessions",r}(),t.SessionService=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.API||(e.API={}),o=t.Rest||(t.Rest={}),n=function(){function e(){}return e.prototype.getOne=function(t,o,e,n){window.setTimeout(function(){var e=new AutoClientModels.User;e.id=t,e.key="Greg",o(e)},500)},e}(),o.MockUserService=n}(PanoptoTS||(PanoptoTS={})),function(i){var e,t,o;e=i.API||(i.API={}),t=e.Rest||(e.Rest={}),o=function(){function r(e){this.api=e}return r.prototype.getOne=function(e,t,o,n){this.api.makeCall(i.API.Rest.HttpMethods.get,{serviceName:r.serviceName,id:e},function(e){t&&t((new AutoClientModels.User).fromRestUser(e))},o,n)},r.serviceName="users",r}(),t.UserService=o}(PanoptoTS||(PanoptoTS={})),function(t){var e,o,n;e=t.API||(t.API={}),o=e.Rest||(e.Rest={}),n=function(){function e(){}return e.useMockService=function(){return"true"===t.StringHelpers.parseQueryString(window.location.search,!0,!0).mock},e.getAnalyticsService=function(){return e.useMockService()?new o.MockAnalyticsService:new o.AnalyticsService(e.RestAPI)},e.getFolderService=function(){return e.useMockService()?new o.MockFolderService:new o.FolderService(e.RestAPI)},e.getSessionService=function(){return e.useMockService()?new o.MockSessionService:new o.SessionService(e.RestAPI)},e.getUserService=function(){return e.useMockService()?new o.MockUserService:new o.UserService(e.RestAPI)},e.RestAPI=Panopto.Core.ServiceInterface.Rest.Api,e}(),o.ServiceFactory=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Data||(e.Data={}),o=function(){function e(){}return e.averageReduce=function(e,t){var o;if(e.length<=t)o=e;else{o=new Array(t);for(var n=t/e.length,r=0,i=0,a=0,s=0,c=0;c<e.length;c++,r+=n)i+1<=r&&(o[i]=a/s,s=a=0,i++),a+=e[c],s++;o[i]=a/s}return o},e}(),t.ArrayMath=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Data||(e.Data={}),o=function(){function e(e,t,o){this.viewportChanged=$.Callbacks(),this.data=e,this.rangeAbsoluteMax=o,this.rangeAbsoluteMin=t,this.rangeViewportMin=this.rangeAbsoluteMin,this.rangeViewportMax=this.rangeAbsoluteMax,this.viewportMinIndex=0,this.viewportMaxIndex=this.data.length-1}return e.prototype.getRangeAbsoluteMin=function(){return this.rangeAbsoluteMin},e.prototype.getRangeAbsoluteMax=function(){return this.rangeAbsoluteMax},e.prototype.setRangeScale=function(e,t){e===this.rangeAbsoluteMin&&t===this.rangeAbsoluteMax||(this.rangeAbsoluteMin=e,this.rangeAbsoluteMax=t,this.setRangeViewport(this.rangeViewportMin,this.rangeViewportMax))},e.prototype.setRangeViewport=function(e,t){this.rangeViewportMin=e,this.rangeViewportMax=t;var o=Math.floor((this.rangeViewportMin-this.rangeAbsoluteMin)*this.data.length/(this.rangeAbsoluteMax-this.rangeAbsoluteMin)),n=Math.ceil((this.rangeViewportMax-this.rangeAbsoluteMin)*this.data.length/(this.rangeAbsoluteMax-this.rangeAbsoluteMin))-1,r=!1;return o===this.viewportMinIndex&&n===this.viewportMaxIndex||(this.viewportMinIndex=o,this.viewportMaxIndex=n,this.onViewportChanged(),r=!0),r},e.prototype.getData=function(){return void 0===this.viewportData&&(0===this.viewportMinIndex&&this.viewportMaxIndex===this.data.length-1?this.viewportData=this.data:this.viewportData=this.data.slice(this.viewportMinIndex,this.viewportMaxIndex+1)),this.viewportData},e.prototype.onViewportChanged=function(){this.viewportData=void 0,this.viewportChanged.fire()},e}(),t.ArrayViewport=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Data||(e.Data={}),o=function(){function e(e,t,o,n,r,i){this.positionChanged=$.Callbacks(),this.widthChanged=$.Callbacks(),this.draw=$.Callbacks(),this.updateVisualRatios(e,t),i&&(this.expandFactor=i.expandFactor||1,i.positionChanged&&this.positionChanged.add(i.positionChanged),i.widthChanged&&this.widthChanged.add(i.widthChanged),i.draw&&this.draw.add(i.draw)),this.updateViewport(o,n,r)}return e.prototype.getDrawnLeftPosition=function(){return this.drawnLeftPosition},e.prototype.getDrawnWidth=function(){return this.drawnWidth},e.prototype.getVisualWidth=function(){return this.visualWidth},e.prototype.updateViewport=function(e,t,o){this.viewportLeftPosition=e,this.viewportWidth=t,this.totalWidth=o;var n,r=!1,i=Math.min(t*this.expandFactor,o),a=Math.clamp(e-t*(this.expandFactor-1)/2,0,o),s=Math.floor(this.visualLeftPositionRatio*o),c=Math.ceil(this.visualWidthRatio*o),l=Math.round(Math.min(i,c)),d=Panopto.Core.Math.clamp(a,s,s+c-l);n=a<d+l&&d<a+i?d-s:l=0,c!==this.visualWidth&&(this.visualWidth=c,r=!0),(r||e<this.absoluteDrawnLeftPosition||e+t>this.absoluteDrawnLeftPosition+this.drawnWidth)&&(l!==this.drawnWidth&&(this.drawnWidth=l,this.widthChanged.fire(this.drawnWidth),r=!0),n!=this.drawnLeftPosition&&(this.drawnLeftPosition=n,this.absoluteDrawnLeftPosition=d,this.positionChanged.fire(this.drawnLeftPosition),r=!0)),r&&this.draw.fire(this)},e.prototype.updateVisualRatios=function(e,t){this.visualLeftPositionRatio=e,this.visualWidthRatio=t,void 0!==this.viewportLeftPosition&&void 0!==this.viewportWidth&&void 0!==this.totalWidth&&this.updateViewport(this.viewportLeftPosition,this.viewportWidth,this.totalWidth)},e}(),t.VisualViewport=o}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.CookieHelpers=function(i){return i.setCookie=function(e,t,o){var n=new Date,r="";o&&(n.setTime(n.getTime()+24*o*60*60*1e3),r="; expires="+n.toUTCString()),document.cookie=e+"="+t+r+"; path=/"},i.getCookie=function(e){for(var t=e+"=",o=0,n=document.cookie.split(";");o<n.length;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},i.deleteCookie=function(e){e&&i.setCookie(e,"",-1)},i.getUserCookieObject=function(e){var t={},o=i.getCookie(e);if(o)try{t=JSON.parse(o)}catch(e){}return t},i.setUserCookieField=function(e,t,o,n){e=e||Panopto.Core.Constants.UserSettingsCookieAnonymousUser;var r=i.getUserCookieObject(e);r[t]=o,i.setCookie(e,JSON.stringify(r),n)},i.getUserCookieField=function(e,t){e=e||Panopto.Core.Constants.UserSettingsCookieAnonymousUser;var o=i.getUserCookieObject(e);return void 0===o[t]?null:o[t]},i}(Panopto.Core.CookieHelpers||{}),function(t){var e=function(){function e(){}return e.toWCFString=function(e){return t.StringHelpers.format("/Date({0})/",e.getTime())},e}();t.DateHelpers=e}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.ElementHelpers=function(i){var n=Panopto.Core.Constants,t="pointer-event";return i.blurActiveElement=function(){document.activeElement&&document.activeElement instanceof HTMLElement&&!$(document.activeElement).is("body")&&document.activeElement.blur()},i.clampSliderValue=function(e,t){return Math.clamp(t,e.slider("option","min"),e.slider("option","max"))},i.measureText=function(e,t){var o,n;return $("body").append("<div id='ruler'></div>"),(n=$("#ruler")).css("display","inline-block"),n.css("font-size",e.css("font-size")),n.css("font-family",e.css("font-family")),n.text(t),o=n.width(),n.remove(),o},i.inputEllipsis=function(e,t,o){for(var n=1e3,r=!1;i.measureText(e,t)>e.width()&&n--;)r=!0,t=t.substring(0,t.length-(o.length+1)).concat(o);return{text:t,ellipsied:r}},i.silenceInputValuePropertyChange=function(e,t){if(e instanceof HTMLInputElement&&"onpropertychange"in e){var o=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(e,"value",{get:function(){return o.get.call(this)},set:function(e){t(e),o.set.call(this,e)}})}},i.verticalEllipsis=function(e,l){_.each(e,function(e){var a=$(e),t=parseInt(a.css("min-height"),10),s=Math.max(parseInt(a.css("max-height"),10),t),c=function(e){var t=(void 0===e?{}:e).truncated,o=void 0!==t&&t,n=a.text();if(n&&a[0].scrollHeight>s){var r=_.last(n.trim().split(" "));n=n.substr(0,n.lastIndexOf(r)).trim(),a.text(n),c({truncated:!0})}else if(o&&n.length>l.length){var i=n.slice(0,n.length-l.length-1)+l;a.text(i)}};c()})},i.toggleEnabledButton=function(e,t){e.prop("disabled",!t),e.toggleClass("disabled",!t)},i.putFocusIntoModal=function(e){var t="modal-focus";e.prop("tabindex",0).addClass(t).focus(),e.one("blur",function(){e.removeAttr("tabindex").removeClass(t)})},i.removePointerEvents=function(n,e){n.css("pointer-events","none"),_.each(e,function(o){n.on(o+"."+t,function(e){var t=$.Event(o);t.pageX=e.pageX,t.pageY=e.pageY,n.toggle(!1),$(document.elementFromPoint(e.pageX,e.pageY)).trigger(t),n.toggle(!0),e.stopPropagation(),e.preventDefault()})})},i.reattachPointerEvents=function(e){e.css("pointer-events",""),e.off("."+t)},i.toggleHidden=function(e,t){e.css("visibility",t?"hidden":"visible")},$(document).on("mouseenter."+n.EllipsisClass,"."+n.EllipsisClass,function(e){var t=e.currentTarget,o=null;$(t).hasClass(n.NoTooltipClass)||((t.offsetWidth<t.scrollWidth||t.offsetHeight<t.scrollHeight)&&(o=jQuery.trim($(t).text())),$(t).attr("title",o))}),i}(Panopto.Core.ElementHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},function(e){var t=function(){function e(){}return e.getImageUrl=function(e){return Panopto.cacheRoot+"/Styles/Less/Application/Images/"+e},e}();e.ImageHelpers=t}(PanoptoTS||(PanoptoTS={})),Panopto.Core.ImageHelpers=function(e){return e.saltImageUrl=function(e){return e.substring(0,e.lastIndexOf("=")+1)+Math.random()},e.bufferAndReplaceImageUrl=function(n,r,e,i){i=i||$.noop;var t;if(n.length){var a=e||(t=n.attr("src")).substring(0,t.lastIndexOf("=")+1)+Math.random();r.load(function(e){var t,o;r.unbind("load"),o=a,(t=n).is("img")?t.attr("src",o):t.css("background-image",PanoptoTS.StringHelpers.format("url({0})",o)).css("z-index",t.css("z-index")),i(e.target)}).attr("src",a)}},e.queueLoad=function(t,e){if(0<t.length){var n=new Panopto.Core.JobQueue({maxDegreeOfParallelism:e,maxAttempts:1,autoStart:!0}),r=[],o=setInterval(function(){var e=_.groupBy(r,function(e){return 0!==e.width||0!==e.height});r=e[(!1).toString()]||[],_.each(e[(!0).toString()],function(e){var t=$(e).data("jobId");n.cancelJob(t)}),r.length||n.hasQueuedJobs()||(clearInterval(o),t.removeData("jobId"))},250);_.each(t,function(o){var e=n.queueJob({attempt:function(e){r.push(o);var t=$(o);t.on("load error",function(){r.splice(r.indexOf(o),1),e(!0)}),t.attr("src",t.data("src"))}});$(o).data("jobId",e)})}},e.getAspectRatio=function(e,t){var o=new Image;o.onload=function(){t(o.width/o.height||1)},o.onerror=function(){t(1)},o.src=e},e}(Panopto.Core.ImageHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.TextHelpers=function(c){var l=Panopto.Core.Constants,s=function(e){return e.innerHTML.replace(/&amp;/g,"&")};return c.appendText=function(e,t){e.appendChild(document.createTextNode(t))},c.highlightMatches=function(e,t,o,n){var r,i,a;return n=n||{},e&&t&&o?(_.isRegExp(t)||(i=n.caseSensitive?"":"i",t=new RegExp(Panopto.Core.StringHelpers.escapeRegex(t),i)),a=document.createElement("div"),c.cleanTextWithReplacement(e,a,t,function(e){return $("<span>").addClass(o).text(e[0]).get(0)}),r=s(a)):r=_.escape(e),r},c.cleanTextWithHighlighting=function(e,t){t=t||document.createElement("div");var o=new RegExp(l.HitMatcher.source+"|"+l.SafeBreakMatcher.source);return c.cleanTextWithReplacement(e,t,o,function(e){return e[0]===l.SafeBreakMatcher.source?$("<br>")[0]:$("<span>").addClass("match").text(e[1])[0]}),s(t)},c.cleanTextWithoutHighlighting=function(e,t){return t=t||document.createElement("div"),c.cleanTextWithReplacement(e,t,l.HitMatcher,function(e){return document.createTextNode(e[1])}),s(t)},c.trimTextToMatch=function(e,t){if((e=c.cleanTextWithHighlighting(e))&&e.length>t){var o=0,n=new RegExp(l.HitMatcher.source),r=n.exec(e);e="";var i=RegExp.leftContext,a=!1;for(r.index+r[1].length>t&&(i=i.substring(RegExp.leftContext.indexOf(" ",r.index+r[1].length-t+2)+1),a=!0),a&&(e+="…"),o+=(e+=i).length,e+=r[0],o+=r[1].length,i=RegExp.rightContext,a=!1;r=n.exec(i);)o+RegExp.leftContext.length+r[1].length<=t?(e+=RegExp.leftContext+r[0],o+=RegExp.leftContext.length+r[1].length,i=RegExp.rightContext):(a=!0,i=RegExp.leftContext);var s=i.substring(0,i.lastIndexOf(" ",t-o-2));e+=s,(s!==i||a)&&(e+="…")}return e},c.cleanTextWithReplacement=function(e,t,o,n){var r;for(t.innerHTML="";r=o.exec(e);)RegExp.leftContext&&c.appendText(t,RegExp.leftContext),e=RegExp.rightContext,t.appendChild(n(r));e&&c.appendText(t,e)},c.addMultilineStringToElement=function(e,t){for(var o=e.replace("\r\n","\n").split("\n"),n=0;n<o.length;n++)$.trim(o[n]).length&&(t.appendChild(document.createTextNode(o[n])),n<o.length-1&&t.appendChild(document.createElement("br")))},c.innerText=function(e){return e=e||"",$("<span>"+e+"</span>").text()},c.hasHtmlTags=function(e){return 0<=e.search(/<\s*[a-zA-Z]+[^>]*>{0,1}/g)},c.hasMatch=function(e){return null!==new RegExp(l.HitMatcher.source).exec(e)},c.urlsToLinks=function(e,t){t=t||"<a href='<@= word @>' target='_blank'><@= word @></a>";var o=e.split(" ");return(o=_.map(o,function(e){return e.match(Panopto.Core.Constants.UrlMatcher)?_.template(t)({word:e}):e})).join(" ")},c.displayLineBreaks=function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")},c}(Panopto.Core.TextHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.TimeHelpers=function(c){return c.formatWin32EpochTimeToDate=function(e){var t=new moment(Panopto.Core.Constants.Win32EpochDateISO);return t.add(e,"seconds"),t.toDate()},c.dateToWin32EpochTime=function(e){return(e.getTime()-Panopto.Core.Constants.Win32EpochDate)/1e3},c.currentWin32EpochTime=function(){return c.dateToWin32EpochTime(new Date)},c.formatTime=function(e,t,o,n,r,i,a){var s="";return a&&(s+=".",s+=("0".repeat(a)+Math.floor(n/Math.pow(10,3-a))).slice(-a)),s=("0"+o).slice(-2)+s,s=e||i?e+r+(s=("0"+t).slice(-2)+r+s):t+r+s},c.toLocalPanoptoTime=function(e,t){var o=c.adjustForDST(e,t);return moment(moment(e).utcOffset(o).format("YYYY-MM-DD HH:mm")).toDate()},c.fromLocalPanoptoTime=function(e,t){var o=c.adjustForDST(e,t);if(e){var n=moment(e).format("YYYY-MM-DD HH:mm");e=moment(n+=" "+o,"YYYY-MM-DD HH:mm Z").toDate()}return e},c.adjustForDST=function(e,t){var o=parseInt(t.totalHours,10),n=t.supportsDST&&moment(e).isDST()?o+1:o;return(n<0?"-":"+")+("0"+Math.abs(n)).slice(-2)+t.baseUtcOffset.slice(-6)},c.observesDST=function(){var e=new Date;return new Date(e.getFullYear(),0,1).getTimezoneOffset()!==new Date(e.getFullYear(),6,1).getTimezoneOffset()},c.getBaseUTCOffset=function(){var e=new Date;return Math.max(new Date(e.getFullYear(),0,1).getTimezoneOffset(),new Date(e.getFullYear(),6,1).getTimezoneOffset())},c.formatDuration=function(e,t,o,n){void 0===n&&(n=0);var r=Math.round(e*Math.pow(10,n))/Math.pow(10,n),i=r<0,a=moment.duration(Math.abs(r),"seconds"),s=c.formatTime(a.hours(),a.minutes(),a.seconds(),a.milliseconds(),t,o,n);return i?"-"+s:s},c.validateFormattedDuration=function(e,t,o){var n=e,r=new RegExp("^-?[0-9]*:[0-5][0-9]:[0-5][0-9]"+(o?"(.[0-9]{0,"+o+"})?":"")+"$");return n&&(n=n.replaceAll(t,":")),r.test(n)},c.durationFromFormattedString=function(e,t){var o=e.split(".")[1];return o&&(e+="0".repeat(3-o.length)),moment.duration(e.replaceAll(t,":")).asSeconds()},c.utcDateToFormattedString=function(e,t){return moment.utc(e).local().locale(Panopto.lang).format(t)},c}(Panopto.Core.TimeHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UrlHelpers=function(e){var t=function(e){var t=document.createElement("a");return t.href=e,t};return e.getHost=function(e){return t(e).hostname},e.getProtocol=function(e){return t(e).protocol},e.removeParams=function(){window.history&&window.history.replaceState&&window.history.replaceState("","",document.location.pathname)},e.getStateURL=function(e,t){var o,n,r=e,i=[];if("object"==typeof t){for(var a in r+="#",t)null!==t[a]&&(o=Sys.Serialization.JavaScriptSerializer.serialize(t[a]),n=a+"="+encodeURIComponent(o),i.push(n));r+=i.join("&")}return r},e}(Panopto.Core.UrlHelpers||{}),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Time||(o.Time={}),r=function(){function e(){}return e.prototype.applyState=function(e){this.timelineState=e},Object.defineProperty(e.prototype,"offsetFromFirstPrimaryToFirstStream",{get:function(){for(var e=Number.MAX_VALUE,t=Number.MAX_VALUE,o=0,n=this.timelineState.streams();o<n.length;o++){var r=n[o];t=Math.min(t,r.absoluteStart),r.isPrimary&&(e=Math.min(e,r.absoluteStart))}return e-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstPrimaryWin32EpochRelative",{get:function(){for(var e=Number.MAX_VALUE,t=0,o=this.timelineState.streams();t<o.length;t++){var n=o[t];n.isPrimary&&(e=Math.min(e,n.absoluteStart))}return e},enumerable:!0,configurable:!0}),e}(),n.CommonConverter=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Time||(o.Time={}),r=function(){function e(e){this.commonConverter=e}return e.prototype.applyState=function(e){this.timelineState=e},e.prototype.toFirstPrimaryRelative=function(e){if(e instanceof n.FirstStreamRelative)return this.fromFirstStreamRelativeToFirstPrimaryRelative(e);throw"Unsupported source type '"+typeof e+"'"},e.prototype.fromFirstStreamRelativeToFirstPrimaryRelative=function(e){return new n.FirstPrimaryRelative(e.ticks()-this.commonConverter.offsetFromFirstPrimaryToFirstStream)},e}(),n.FirstPrimaryRelativeConverter=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Time||(o.Time={}),r=function(){function e(e){this.commonConverter=e}return e.prototype.applyState=function(e){this.timelineState=e},e.prototype.getSessionReferenceOffsetTicks=function(o){var n=0;return _.chain(this.timelineState.sessionReferences).reverse().each(function(e){var t=o.ticks()+(n-e.referencedSessionDuration)*Panopto.Core.Constants.TimelineChunkMultiplier;e.start<=t&&(n-=e.referencedSessionDuration)}),n*Panopto.Core.Constants.TimelineChunkMultiplier},e.prototype.toFirstStreamRelative=function(e){if(e instanceof n.FirstPrimaryRelative)return this.fromFirstPrimaryRelativeToFirstStreamRelative(e);if(e instanceof n.UneditedFirstPrimaryRelative)return this.fromUneditedFirstPrimaryRelativeToFirstStreamRelative(e);throw"Unsupported source type '"+typeof e+"'"},e.prototype.fromFirstPrimaryRelativeToFirstStreamRelative=function(e){var t=this.commonConverter.offsetFromFirstPrimaryToFirstStream;return new n.FirstStreamRelative(e.ticks()+t)},e.prototype.fromUneditedFirstPrimaryRelativeToFirstStreamRelative=function(e){var t=this.getSessionReferenceOffsetTicks(e),o=new n.FirstPrimaryRelative(e.ticks()+t);return this.toFirstStreamRelative(o)},e}(),n.FirstStreamRelativeConverter=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Time||(o.Time={}),r=function(){function e(){this.commonConverter=new n.CommonConverter,this.win32EpochRelativeConverter=new n.Win32EpochRelativeConverter(this.commonConverter),this.uneditedFirstPrimaryRelativeConverter=new n.UneditedFirstPrimaryRelativeConverter(this.commonConverter),this.firstPrimaryRelativeConverter=new n.FirstPrimaryRelativeConverter(this.commonConverter),this.firstStreamRelativeConverter=new n.FirstStreamRelativeConverter(this.commonConverter),this.converters=[this.commonConverter,this.win32EpochRelativeConverter,this.uneditedFirstPrimaryRelativeConverter,this.firstPrimaryRelativeConverter,this.firstStreamRelativeConverter]}return e.prototype.applyState=function(t){this.converters.forEach(function(e){return e.applyState(t)})},e.prototype.toWin32EpochRelative=function(e){return this.win32EpochRelativeConverter.toWin32EpochRelative(e)},e.prototype.toFirstStreamRelative=function(e){return this.firstStreamRelativeConverter.toFirstStreamRelative(e)},e.prototype.toFirstPrimaryRelative=function(e){return this.firstPrimaryRelativeConverter.toFirstPrimaryRelative(e)},e.prototype.toUneditedFirstPrimaryRelative=function(e){return this.uneditedFirstPrimaryRelativeConverter.toUneditedFirstPrimaryRelative(e)},e}(),n.TimeConverter=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Core||(e.Core={}),function(e){var t=function(){function e(e){this.ticksValue=e}return e.prototype.ticks=function(){return this.ticksValue},e.prototype.milliseconds=function(){return this.ticksValue/Panopto.Core.Constants.TimelineChunkToMillisMultiplier},e.prototype.seconds=function(){return this.ticksValue/Panopto.Core.Constants.TimelineChunkMultiplier},e}(),o=function(o){function e(e){var t=o.call(this,e)||this;return t.Kind="Win32EpochRelative",t}return __extends(e,o),e}(t);e.Win32EpochRelative=o;var n=function(o){function e(e){var t=o.call(this,e)||this;return t.Kind="FirstPrimaryRelative",t}return __extends(e,o),e}(t);e.FirstPrimaryRelative=n;var r=function(o){function e(e){var t=o.call(this,e)||this;return t.Kind="FirstStreamRelative",t}return __extends(e,o),e}(t);e.FirstStreamRelative=r;var i=function(o){function e(e){var t=o.call(this,e)||this;return t.Kind="UneditedFirstPrimaryRelative",t}return __extends(e,o),e}(t);e.UneditedFirstPrimaryRelative=i}((o=t.Logic||(t.Logic={})).Time||(o.Time={}))}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Time||(o.Time={}),r=function(){function e(e){this.commonConverter=e}return e.prototype.applyState=function(e){this.timelineState=e},e.prototype.getSessionReferenceOffsetTicks=function(t){var o=0;return _.chain(this.timelineState.sessionReferences).filter(function(e){return e.start<=t.ticks()}).each(function(e){return o+=e.referencedSessionDuration}),o*Panopto.Core.Constants.TimelineChunkMultiplier},e.prototype.toUneditedFirstPrimaryRelative=function(e){if(e instanceof n.FirstPrimaryRelative)return this.fromFirstPrimaryRelativeToUneditedFirstPrimaryRelative(e);if(e instanceof n.FirstStreamRelative)return this.fromFirstStreamRelativeToUneditedFirstPrimaryRelative(e);throw"Unsupported source type '"+typeof e+"'"},e.prototype.fromFirstPrimaryRelativeToUneditedFirstPrimaryRelative=function(e){var t=this.getSessionReferenceOffsetTicks(e);return new n.UneditedFirstPrimaryRelative(e.ticks()+t)},e.prototype.fromFirstStreamRelativeToUneditedFirstPrimaryRelative=function(e){var t=new n.FirstPrimaryRelative(e.ticks()-this.commonConverter.offsetFromFirstPrimaryToFirstStream);return this.fromFirstPrimaryRelativeToUneditedFirstPrimaryRelative(t)},e}(),n.UneditedFirstPrimaryRelativeConverter=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Time||(o.Time={}),r=function(){function e(e){this.commonConverter=e}return e.prototype.applyState=function(e){this.timelineState=e},e.prototype.getSessionReferenceOffsetTicks=function(t){var o=0;return _.chain(this.timelineState.sessionReferences).filter(function(e){return e.editorStartTime<t.ticks()}).each(function(e){return o-=e.referencedSessionDuration}),o*Panopto.Core.Constants.TimelineChunkMultiplier},e.prototype.toWin32EpochRelative=function(e){if(e instanceof n.UneditedFirstPrimaryRelative)return this.fromUneditedFirstPrimaryRelativeToWin32EpochRelative(e);throw"Unsupported source type '"+typeof e+"'"},e.prototype.fromUneditedFirstPrimaryRelativeToWin32EpochRelative=function(e){return new n.Win32EpochRelative(this.getSessionReferenceOffsetTicks(e)+e.ticks()+this.commonConverter.firstPrimaryWin32EpochRelative)},e}(),n.Win32EpochRelativeConverter=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Logic=Panopto.Core.Logic||{},Panopto.Core.Logic.Timeline=Panopto.Core.Logic.Timeline||{},Panopto.Core.Logic.Timeline.CutEditor=function(v){var r=function(t,o){return _.filter(v,function(e){return e.targetId===t&&e.targetType===o})};return{addCut:function(e,t,o,n,f){var m=Panopto.Core.ServiceInterface.Rest.Objects.Cut({targetId:o,targetType:n,start:e,duration:t-e}),h=!1;_.each(r(o,n),function(e){var t,o,n,r,i,a,s,c,l,d,u,p;f&&!h&&(a=e,(s=m).start>=a.start&&s.end()<=a.end())&&(h=!0,v.splice(v.indexOf(e),1),v.push.apply(v,(t=e,n=(o=m).start-t.start,r=t.end()-o.end(),i=[],0<n&&i.push(Panopto.Core.ServiceInterface.Rest.Objects.Cut({targetId:t.targetId,targetType:t.targetType,start:t.start,duration:n})),0<r&&i.push(Panopto.Core.ServiceInterface.Rest.Objects.Cut({targetId:t.targetId,targetType:t.targetType,start:o.end(),duration:r})),i))),!h&&(u=e,(p=m).end()>=u.start&&p.start<=u.end())&&(c=e,l=m,d=Math.max(c.end(),l.end()),l.start=Math.min(c.start,l.start),l.duration=d-l.start,v.splice(v.indexOf(e),1))}),h||v.push(m),v.sort(function(e,t){return e.start-t.start})},removeCut:function(t,e,o){var n;(n=_.find(r(e,o),function(e){return e.start===t}))&&v.splice(v.indexOf(n),1)},removeAll:function(e,t){_.each(r(e,t),function(e){v.splice(v.indexOf(e),1)})},cuts:function(e){if(!e)return v;v=e}}},function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Timeline||(o.Timeline={}),r=function(){function e(e,t){this.stream=e,this.offset=t}return e.prototype.toString=function(){return"[Stream '"+this.stream.id+"' at "+this.offset+"]"},e}(),n.StreamReference=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Logic=Panopto.Core.Logic||{},Panopto.Core.Logic.Timeline=Panopto.Core.Logic.Timeline||{},Panopto.Core.Logic.Timeline.Timeline=function(r,n,e){r=r||[],n=n||[];var i,o,a={},c=[],s=function(e){var t,o,n,r=-1,i=(o=e,{element:_.find(c,function(e){if(e.length()>o)return!0;o-=e.length()}),offset:o}),a=i.element,s=i.offset;return a?(n=c.indexOf(a),0===s?r=n:s===a.length()?r=n+1:(t=a.split(s),r=n+1,c.splice(r,0,t))):0===s&&(r=c.length),r},l=function(e,t){return s(e),s(e+t),n=e,r=[],0<(o=t)&&_.find(c,function(e){return e.length()>n&&r.push(e),(n-=e.length())+o<=0}),r;var o,n,r},d=function(t){var e,o,n;switch(t.targetType){case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session:e=t.start;break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream:o=_.find(r,function(e){return t.targetId===e.id}),e=t.start+o.absoluteStart-i;break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference:e=t.start+a[t.targetId]}n=l(e,t.duration),_.each(n,function(e){o?e.remove(o):e.clear()})},u=function(t){var e=l(t.absoluteStart-i,t.duration),o=0;_.each(e,function(e){e.add(t,o),o+=e.length()})},p=function(){if(c.length=0,r.length?(i=_.min(_.pluck(r,"absoluteStart")),o=_.max(_.map(r,function(e){return e.absoluteEnd()})),c.push(new PanoptoTS.Core.Logic.Timeline.TimelineElement(o-i))):o=i=1/0,_.each(r,u),_.chain(n).filter(function(e){return e.targetType!==Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference}).each(function(e){return d(e)}),e){var t=[];_.each(c,function(e){e.containsPrimary()||t.push(e)}),_.each(t,function(e){c.splice(c.indexOf(e),1)})}};return p(),{insertReference:function(t,e){if(a[t.id]=t.start,c.length){var o=s(t.start);-1!==o?c.splice.apply(c,[o,0].concat(e.elements())):c.push.apply(c,e.elements())}else c.push.apply(c,e.elements());_.chain(n).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference&&e.targetId===t.id}).each(function(e){return d(e)})},reset:function(e,t){r=e,n=t,p()},elements:function(){return c},toString:function(){return _.reduce(c,function(e,t){return e+t.toString()+"\n"},"")},firstPrimaryIndex:function(){return _.findIndex(c,function(e){return e.containsPrimary()})},lastPrimaryIndex:function(){return _.findLastIndex(c,function(e){return e.containsPrimary()})}}},function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.Logic||(t.Logic={}),n=o.Timeline||(o.Timeline={}),r=e.Core.Logic.Timeline.StreamReference,i=function(){function e(e){this.streamReferences=[],this.elementLength=e}return e.prototype.streams=function(){return this.streamReferences},e.prototype.length=function(){return this.elementLength},e.prototype.getStreamById=function(t){return _.find(this.streamReferences,function(e){return e.stream.id===t})},e.prototype.containsPrimary=function(){return _.any(this.streamReferences,function(e){return e.stream.isPrimary})},e.prototype.add=function(e,t){this.streamReferences.push(new r(e,t))},e.prototype.remove=function(t){this.streamReferences=_.reject(this.streamReferences,function(e){return e.stream.id===t.id})},e.prototype.clear=function(){this.streamReferences.length=0},e.prototype.split=function(t){var o=new e(this.elementLength-t);return _.each(this.streamReferences,function(e){o.add(e.stream,e.offset+t)}),this.elementLength=t,o},e.prototype.toString=function(){var e=_.reduce(this.streamReferences,function(e,t){return e+t.toString()+" "},"");return length+" "+e},e}(),n.TimelineElement=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Models||(e.Models={}),o=function(){function e(){}return e.prototype.copyFromQuestionList=function(e){this.id=e.id,this.name=e.name,this.revisionId=e.revisionId,this.sessionId=e.sessionId,this.firstStreamRelativeTicks=e.firstStreamRelativeTicks,this.isSessionPlaybackBlocking=e.isSessionPlaybackBlocking,this.allowRetake=e.allowRetake,this.showFinalGrade=e.showFinalGrade,this.allowReview=e.allowReview,this.questions=e.questions},e}(),t.QuestionList=o}(PanoptoTS||(PanoptoTS={})),function(o){var e,t,n;e=o.Models||(o.Models={}),t=e.Editor||(e.Editor={}),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.copyFromEditableQuestionList=function(e){this.copyFromQuestionList(e),this.isEdited=e.isEdited},t.prototype.toClientModel=function(){var e=new AutoClientModels.QuestionList;return e.allowRetake=this.allowRetake,e.allowReview=this.allowReview,e.id=this.id,e.isSessionPlaybackBlocking=this.isSessionPlaybackBlocking,e.name=this.name,e.questions=this.questions,e.revisionId=this.revisionId,e.showFinalGrade=this.showFinalGrade,e.sessionId=this.sessionId,e.sessionRelativeTime=this.firstStreamRelativeTicks.ticks(),e},t.prototype.copyFromClientModel=function(e){this.allowRetake=e.allowRetake,this.allowReview=e.allowReview,this.id=e.id,this.isSessionPlaybackBlocking=e.isSessionPlaybackBlocking,this.name=e.name,this.questions=e.questions,this.revisionId=e.revisionId,this.showFinalGrade=e.showFinalGrade,this.sessionId=e.sessionId,this.firstStreamRelativeTicks=new o.Core.Logic.Time.FirstStreamRelative(e.sessionRelativeTime)},t}(o.Models.QuestionList),t.EditableQuestionList=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Models||(e.Models={}),o=function(){function e(e){this.callback=$.Callbacks(e)}return e.prototype.add=function(e){return this.callback.add(e),this},e.prototype.remove=function(e){return this.callback.remove(e),this},e.prototype.fire=function(e){return this.callback.fire(e),this},e}(),t.TypedCallback=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.Models||(e.Models={}),o=function(){function e(e){this.callback=$.Callbacks(e)}return e.prototype.add=function(e){return this.callback.add(e),this},e.prototype.fire=function(){return this.callback.fire(),this},e}(),t.VoidCallback=o}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Access=function(e,s,c){var l="Access";return e.getAccess=function(e,n,t,o){s.makeCall(c.HttpMethods.Get,{serviceName:l,paramsObj:e},function(e,t,o){n&&n(c.PagingResponse(e,o,c.Access))},t,o)},e.deleteAccess=function(e,t,o,n){s.makeCall(c.HttpMethods.Delete,{serviceName:l,id:e},t,o,n)},e.batchDelete=function(e,t){s.makeChunkedDeleteCalls(function(e,t,o,n){s.makeCall(c.HttpMethods.Delete,{serviceName:l,paramsObj:{ids:e},path:s.BatchPath},t,o,n)},e,t)},e.createAccess=function(e,t,o,n){s.makeCall(c.HttpMethods.Post,{serviceName:l,data:e.toModel()},function(e){t(c.Access(e))},o,n)},e.batchCreate=function(e,t,o,n,r,i){var a={shouldSendEmails:t,content:o};s.makeCall(c.HttpMethods.Post,{serviceName:l,path:s.BatchPath,data:_.map(e,function(e){return e.toModel()}),paramsObj:a},function(e){n(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,c.Access))},r,i)},e.readReceiverSuggestions=function(e,t,n,o,r){s.makeCall(c.HttpMethods.Post,{serviceName:l,path:"receiverSuggestions",data:e,paramsObj:{pageSize:t}},function(e,t,o){n&&n(_.map(e,function(e){return c[e.TypeName](e)}))},o,r)},e}(Panopto.Core.ServiceInterface.Rest.Access||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.AccessManagement=function(e,n,r){return e.getSelfUserAccessDetails=function(t,e,o){n.ajax("AccessManagement","GetSelfUserAccessDetails",{},n.Versions.V42,function(e){t(r.UserAccessDetails(e))},e,o)},e}(Panopto.Core.ServiceInterface.AccessManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.AnalyticsIngest=function(e,t){var h="application/json; charset=utf-8",v=function(e){return PanoptoTS.StringHelpers.format("{0}://{1}{2}/Services/Analytics.svc/{3}",Panopto.Core.ServiceInterface.uriScheme,window.location.host,Panopto.Core.ServiceInterface.baseUrl,e)},C=function(e){return{ID:e.id||0,InvocationID:e.invocationId,PlaybackSpeed:e.playbackSpeed,StreamID:e.streamId,StartPosition:e.startPosition,StartReason:e.startReason,StopReason:e.stopReason,SecondsListened:e.secondsListened,SecondsRejected:e.secondsRejected,TimeStamp:e.timestamp.toWCFString(),ClientTimeStamp:e.timestamp.toWCFString(),UpdatesRejected:e.updatesRejected}};return e.addStreamRequests=function(e,t,o,n,r){var i,a,s,c,l,d,u,p="AddStreamRequests",f={streamRequests:_.map(e,C)},m=!1;if(r&&navigator.sendBeacon)try{m=navigator.sendBeacon(v(p),new Blob([JSON.stringify(f)],{type:h}))}catch(e){}m||(i=p,a=f,s=t,c=o,l=n,d=!!r,window.location.protocol!==Panopto.Core.ServiceInterface.uriScheme&&(u={withCredentials:!0}),$.ajax({type:"POST",url:v(i),contentType:h,data:JSON.stringify(a),dataType:"json",success:s,error:c,complete:l,xhrFields:u,async:!d}))},e}(Panopto.Core.ServiceInterface.AnalyticsIngest||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.WCFRest=Panopto.Core.ServiceInterface.WCFRest||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.WCFRest.AnalyticsReports=function(e,i){var a=PanoptoTS.StringHelpers.format("{0}/Services/",Panopto.appRoot),s="AnalyticsReports.svc";return e.describeReportType=function(e,t,o,n){i.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:a,serviceName:s,path:"DescribeReportType",paramsObj:{reportType:e}},t,o,n)},e.getRecentReports=function(e,t,o,n){var r={alternateUrl:a,serviceName:s};void 0!==e?_.extend(r,{path:"GetRecentReportsByType",paramsObj:{reportType:e}}):_.extend(r,{path:"GetRecentReports"}),i.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,r,t,o,n)},e.queueReport=function(e,t,o,n){i.makeCall(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods.Get,{alternateUrl:a,serviceName:s,path:"QueueReport",paramsObj:e},t,o,n)},e}(Panopto.Core.ServiceInterface.WCFRest.AnalyticsReports||{},Panopto.Core.ServiceInterface.Rest.Api),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Auth=function(e,r){return e.getAuthenticatedUrl=function(e,t,o,n){r.ajax("Auth","GetAuthenticatedUrl",{targetUrl:e},r.Versions.V42,t,o,n)},e}(Panopto.Core.ServiceInterface.Auth||{},Panopto.Core.ServiceInterface.PublicAPI),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.WCFRest=Panopto.Core.ServiceInterface.WCFRest||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.WCFRest.DataCS=function(e,i,a){var r=function(e,t,o,n,r){i.makeCall(a.HttpMethods.Post,{alternateUrl:String.format("{0}/Services/",Panopto.appRoot),serviceName:"Data.svc",path:e,data:t},o,n,r)};return e.getSessions=function(e,t,o,n){r("GetSessions",{queryParameters:e},function(e){t(_.map(e.d.Results,a.Session.fromSessionRow))},o,n)},e.getFolders=function(e,t,o,n){r("GetFolders",{queryParameters:e},function(e){t(_.map(e.d.Results,a.Folder.fromFolderRow))},o,n)},e.submitViewerClientLog=function(e,t,o,n){r("SubmitViewerClientLog",{log:e.toModel()},t,o,n)},e}(Panopto.Core.ServiceInterface.WCFRest.DataCS||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Departments=function(n,r,i){var a="Departments";return n.save=function(e,t,o,n){r.makeCall(e.id?i.HttpMethods.Put:i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.Department(e))},o,n)},n.delete=function(e,t,o,n){r.makeCall(i.HttpMethods.Delete,{serviceName:a,id:e.id},t,o,n)},n.getOne=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:e},function(e){t&&t(i.Department(e))},o,n)},n.get=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:e},function(e,t,o){n(i.PagingResponse(e,o,i.Department))},t,o)},n.getAll=function(e,t){r.getAll(function(e,t,o){n.get(e,t,o)},{},e,t)},n}(Panopto.Core.ServiceInterface.Rest.Departments||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.FolderAccessItems=function(e,a,s){var c="FolderAccessItems";return e.getOne=function(e,t,o,n){a.makeCall(s.HttpMethods.Get,{serviceName:c,id:e},function(e){t&&t(s.FolderAccessItem(e))},o,n)},e.getMany=function(e,t){a.makeChunkedGetCalls(function(e,t,o,n){a.makeCall(s.HttpMethods.Get,{serviceName:c,paramsObj:{ids:e}},t,o,n)},e,t,s.FolderAccessItem)},e.validateCreate=function(e,t,o,n){a.makeCall(s.HttpMethods.Post,{serviceName:c,data:e.toModel(),paramsObj:{validateOnly:!0}},function(e){t&&t(s.FolderAccessItem(e))},o,n)},e.create=function(e,t,o,n){a.makeCall(s.HttpMethods.Post,{serviceName:c,data:e.toModel()},function(e){t&&t(s.FolderAccessItem(e))},o,n)},e.saveOne=function(e,t,o,n){a.makeCall(s.HttpMethods.Put,{serviceName:c,data:e.toModel()},function(e){t&&t(s.FolderAccessItem(e))},o,n)},e.saveMany=function(e,t,o,n){a.makeCall(s.HttpMethods.Put,{serviceName:c,path:a.BatchPath,data:_.map(e,function(e){return e.toModel()})},function(e){t&&t(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,s.FolderAccessItem))},o,n)},e.saveIsInheritingAccess=function(e,t,o,n,r,i){a.makeCall(s.HttpMethods.Post,{serviceName:c,path:PanoptoTS.StringHelpers.format("{0}/IsInheritingAccess/{1}",e,t),data:_.map(o,function(e){return e.id})},function(e){n&&n(s.FolderAccessItem(e))},r,i)},e}(Panopto.Core.ServiceInterface.Rest.FolderAccessItems||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Sort=Panopto.Core.ServiceInterface.Rest.Sort||{},Panopto.Core.ServiceInterface.Rest.Folders=function(i,a,s,e){var c="Folders",n="{0}/selectedPlaylists",l="personal/{0}";return i.Sort={Recent:"RecentlyUsed"},i.getOne=function(e,t,o,n){a.makeCall(s.HttpMethods.Get,{serviceName:c,id:e},function(e){t&&t(s.Folder(e))},o,n)},i.getFolders=function(e,n,t,o){var r={serviceName:c,paramsObj:e};a.makeCall(s.HttpMethods.Get,r,function(e,t,o){n&&n(s.PagingResponse(e,o,s.Folder))},t,o)},i.getAllFolders=function(e,t,o){a.getAll(function(e,t,o){i.getFolders(e,t,o)},{},t,o)},i.getMyFolder=function(t,e,o){var n={serviceName:c,path:"myFolder"};a.makeCall(s.HttpMethods.Get,n,function(e){t&&t(s.Folder(e))},e,o)},i.createPersonalFolder=function(e,t,o,n){var r={serviceName:c,path:PanoptoTS.StringHelpers.format(l,e)};a.makeCall(s.HttpMethods.Post,r,function(e){t&&t(s.Folder(e))},o,n)},i.archivePersonalFolder=function(e,t,o,n){var r={serviceName:c,path:PanoptoTS.StringHelpers.format(l,e)};a.makeCall(s.HttpMethods.Delete,r,function(e){t&&t(e)},o,n)},i.get=function(e,n,t,o){a.makeCall(s.HttpMethods.Get,{serviceName:c,paramsObj:e},function(e,t,o){n(s.PagingResponse(e,o,s.Folder))},t,o)},i.getRecentlyUsed=function(e,t,o,n,r){i.get({pageSize:e,sort:i.Sort.Recent,sortDescending:!0,folderSet:t},o,n,r)},i.setParent=function(e){a.makeCall(s.HttpMethods.Put,{serviceName:c,path:PanoptoTS.StringHelpers.format("{0}/setParent",e.folderId),data:e.parentId},e.onSuccess,e.onFailure,e.onComplete)},i.getSelectedPlaylists=function(o){a.makeCall(s.HttpMethods.Get,{serviceName:c,path:PanoptoTS.StringHelpers.format(n,o.folderId),paramsObj:i.createIncludeParamsObj(o.includeItems)},function(e){if(o.onSuccess){var t=_.map(e,s.PlaylistWithItems);o.onSuccess(t)}},o.onFailure,o.onComplete)},i.setSelectedPlaylists=function(e){var t={serviceName:c,path:PanoptoTS.StringHelpers.format(n,e.folderId),data:e.playlists};a.makeCall(s.HttpMethods.Put,t,e.onSuccess,e.onFailure,e.onComplete)},i.createIncludeParamsObj=function(e){var t={};return e&&(t={"collections[0].name":"items"}),t},i}(Panopto.Core.ServiceInterface.Rest.Folders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects,Panopto.Core.ServiceInterface.Rest.Sort),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Groups=function(e,a,s){var c="Groups",l="members";return e.saveGroup=function(e,t,o,n){e.id?a.makeCall(s.HttpMethods.Put,{serviceName:c,data:e.toModel()},t,o,n):a.makeCall(s.HttpMethods.Post,{serviceName:c,data:e.toModel()},t,o,n)},e.batchSave=function(e,t,o,n,r){a.makeCall(s.HttpMethods.Post,{serviceName:c,path:a.BatchPath,data:_.map(e,function(e){return e.toModel()}),paramsObj:{validateOnly:t}},function(e){o(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,s.Group))},n,r)},e.getGroups=function(e,n,t,o){a.makeCall(s.HttpMethods.Get,{serviceName:c,paramsObj:e},function(e,t,o){n(s.PagingResponse(e,o,s.Group))},t,o)},e.addMembers=function(e,t,o,n,r){a.makeCall(s.HttpMethods.Post,{serviceName:c,id:e,path:l,data:t},function(e){o(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,s.User))},n,r)},e.deleteGroup=function(e,t,o,n){a.makeCall(s.HttpMethods.Delete,{serviceName:c,id:e},t,o,n)},e.deleteGroups=function(e,t){a.makeChunkedDeleteCalls(function(e,t,o,n){a.makeCall(s.HttpMethods.Delete,{serviceName:c,path:a.BatchPath,paramsObj:{ids:e}},t,o,n)},e,t)},e.getGroup=function(e,t,o,n){a.makeCall(s.HttpMethods.Get,{serviceName:c,id:e},function(e){t(s.Group(e))},o,n)},e.getGroupMembers=function(e,t,n,o,r){a.makeCall(s.HttpMethods.Get,{serviceName:c,id:e,path:l,paramsObj:t},function(e,t,o){n(s.PagingResponse(e,o,s.User))},o,r)},e.removeGroupMember=function(e,t,o,n,r){var i=String.format("{0}/{1}",l,t);a.makeCall(s.HttpMethods.Delete,{serviceName:c,id:e,path:i},o,n,r)},e}(Panopto.Core.ServiceInterface.Rest.Groups||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.MembershipProviders=function(e,r,i){return e.getAllProviders=function(o,n,e,t){r.makeCall(i.HttpMethods.Get,{serviceName:"membershipProviders"},function(e){if(n){var t=_.map(e,function(e){return i.MembershipProvider(e,o)});n(t)}},e,t)},e}(Panopto.Core.ServiceInterface.Rest.MembershipProviders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),function(e){var t,o;t=e.ServiceInterface||(e.ServiceInterface={}),o=function(){function e(){this.ruleGroups=[{Id:123,Name:"Somebody that I used to know",IsEditable:!0,IsDefault:!0,Rules:[{Name:"hello",Value:"10.10.10.10"},{Name:"goodbye",Value:"9.9.9.9"}]},{Id:456,Name:"Why you gotta be so rude?",IsEditable:!0,IsDefault:!1,Rules:[{Name:"",Value:"127.0.0.1"}]},{Id:789,Name:"Is it me you're looking for?",IsEditable:!0,IsDefault:!1,Rules:[{Name:"bhat",Value:"9.9.9.9"},{Name:"khalo",Value:"200.2.1.3"}]}],this.ruleGroup={Id:123456789,Name:"Everybody",IsEditable:!1,IsDefault:!0,Rules:[{Name:"the first rule",Value:"1.0.1.0"},{Name:"the second rule",Value:"2.1.2.1"},{Name:"the third rule",Value:"3.2.1.0"}]}}return e.prototype.getRuleGroups=function(){return this.ruleGroups},e.prototype.getExisting=function(){return this.ruleGroup},e.prototype.getBlank=function(){return{}},e.prototype.update=function(e,t,o,n,r){},e.prototype.updateRuleGroup=function(e){this.ruleGroup.Name=e},e.prototype.delete=function(e,t,o,n){},e.prototype.post=function(e,t){this.ruleGroup.Name=e,this.ruleGroup.Rules.push(t)},e}(),t.MockNetworkRuleService=o}(PanoptoTS||(PanoptoTS={})),function(t){var e,o;e=t.ServiceInterface||(t.ServiceInterface={}),o=function(){function e(){}return e.prototype.getQuotaDetail=function(e,t,o){var n=this;window.setTimeout(function(){t(n.getDetail())},500)},e.prototype.getQuotaSnapshot=function(e,t,o){var n=this;window.setTimeout(function(){t(n.getDetail())},500)},e.prototype.getDetail=function(){return new t.ServiceInterface.Objects.QuotaDetail({ActivePeriod:{PeriodStartDate:moment(new Date).subtract(6,"day").utc().format(),PeriodEndDate:moment(new Date).add(25,"day").utc().format(),DeliveredSummary:{ModifierSummary:{SumBase:18e4,SumRollover:0,SumReferral:36e3,SumTotal:0},ValueSummary:{SecondsByDay:_.map([0,3,8,11,12,14,70],function(e){return 60*e*60}),SumTotal:252e3,TopSessions:[{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Longest session",TotalSeconds:28800},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shorter session",TotalSeconds:10800},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session",TotalSeconds:7200,SessionWasDeleted:!0},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session than the other one",TotalSeconds:2520},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shortest session",TotalSeconds:.03*60*60}]}},StoredSummary:{ModifierSummary:{SumBase:0,SumRollover:0,SumReferral:0,SumTotal:18e3},ValueSummary:{SecondsByDay:[],SumTotal:21600,TopSessions:[{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Longest session",TotalSeconds:7200},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shorter session",TotalSeconds:2160},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session",TotalSeconds:720},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Even shorter session than the other one",TotalSeconds:360},{Id:"3A66513B-3375-4350-BB70-A88601374E2A",Name:"Shortest session",TotalSeconds:36}]}}},LastPeriod:{PeriodStartDate:moment(new Date).subtract(35,"day").utc().format(),PeriodEndDate:moment(new Date).subtract(6,"day").utc().format(),DeliveredSummary:{ModifierSummary:{SumBase:18e4,SumRollover:36e3,SumReferral:18e3,SumTotal:0},ValueSummary:{SecondsByDay:_.map([0,1,3,4,6,8,10,11,14,17,18,19,21,23,28,29,31,34,35,37,39,45,47,51,53,54,56,58,59,60],function(e){return 60*e*60}),SumTotal:216e3,TopSessions:[]}},StoredSummary:{ModifierSummary:{SumBase:0,SumRollover:0,SumReferral:0,SumTotal:18e3},ValueSummary:{SecondsByDay:[],SumTotal:10800,TopSessions:[]}}}})},e}(),e.MockUserService=o}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.MultipartUploadManagement=function(e){var s,p=(s=function(e,t){var o,n,r;t([e.status,e.statusText].join(" "),e.responseText?(new DOMParser).parseFromString(e.responseText,"application/xml"):"",(o=e.getAllResponseHeaders(),n={},r=o.split(String.fromCharCode(10)),_.each(r,function(e){var t=e.trim().split(":");1<t.length&&(n[t[0].trim()]=t.slice(1).join(":").trim())}),n))},function(e,t,o,n,r,i){var a=$.ajax({url:t,type:e,data:o,processData:!1,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&n&&e.upload.addEventListener("progress",n,!1),e},success:function(e,t,o){r&&s(o,function(e,t,o){r(t,o)})},error:function(e,t,o){i&&"abort"!==t&&i(e,t,o)}});return new Panopto.Core.CancellableRequest(function(){a.abort()})}),f=function(e){return Panopto.Core.StringHelpers.cleanFilename(e,{maxLength:Panopto.Core.Constants.UploadFilenameLengthLimit})};return e.openUpload=function(e,t,o,n){var r=f(t);return p("POST",e+"/"+r,void 0,null,function(e){o(e.getElementsByTagName("UploadId")[0].childNodes[0].nodeValue,e)},n)},e.uploadSlice=function(o,e,t,n,r,i,a){var s=(n-1)*t,c=e.slice(s,s+t),l=new Panopto.Core.CancellableRequest,d=f(e.name),u=new FileReader;return u.onload=function(e){var t=[o,"/",d,"?partNumber=",n].join("");l=p("PUT",t,e.target.result,r,function(e,t){i(c.size,t.ETag)},a)},u.readAsArrayBuffer(c),new Panopto.Core.CancellableRequest(function(){u&&u.readyState===FileReader.LOADING&&u.abort(),l.cancel()})},e.closeUpload=function(e,t,o,n,r,i){for(var a=[e,"/",f(t),"?uploadId=",o].join(""),s=1;s<n.length;s++)n[s]=["<Part><PartNumber>",s,"</PartNumber><ETag>",n[s],"</ETag></Part>"].join("");return p("POST",a,["<CompleteMultipartUpload>",n.join(""),"</CompleteMultipartUpload>"].join(""),null,function(e,t){r(e)},i)},e}(Panopto.Core.ServiceInterface.MultipartUploadManagement||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.MultipartUploadManager=function(S){var t,o,n,r,e,g=(t=g||{},(e=function(){r=n=o=0})(),t.confidenceThreshold=3,t.getEffectiveByterate=function(){return 1e3*o},t.resetEffectiveByterate=e,t.logTransfer=function(e,t){o=(o*n+e)/(n+t),n+=t,r++},t.predictRemainingSeconds=function(e){return e&&r>=t.confidenceThreshold?e/t.getEffectiveByterate():-1},t);S.fileSliceSize=S.fileSliceSize||5242880;var y={},I=new Panopto.Core.JobQueue({maxDegreeOfParallelism:2});return S.queueUpload=function(e,v,C,P){var o,n,t,r;o=e,n=function(u){y[u.fileId]=u.file.size;for(var p=Math.ceil(u.file.size/S.fileSliceSize),f=0,m=0,h=[],e=1;e<=p;e++)!function(s){var n,e,t,r,i,a,c,o,l,d=0;e=u,t=s,r=function(){n=new Date},i=function(e){var t=e.loaded-d;d=e.loaded;var o=+new Date-n;n=new Date,g.logTransfer(t,o),m+=t,y[u.fileId]-=t,v(m)},a=function(e,t){var o,n,r,i,a;h[s]=t,++f===p&&(o=u,n=h,r=function(e){delete y[u.fileId],C(e)},i=P,a=new Panopto.Core.CancellableRequest,I.queueJob({correlationId:o.fileId,attempt:function(e){a=Panopto.Core.ServiceInterface.MultipartUploadManagement.closeUpload(o.uploadUri,o.file.name,o.uploadId,n,function(){r(o.fileId),e(!0)},function(){e()})},onFailure:i,onCancel:function(){a.cancel()}}))},c=function(){y[u.fileId]+=d,m-=d,d=0,v(m)},o=P,l=new Panopto.Core.CancellableRequest,I.queueJob({priority:1,correlationId:e.fileId,attempt:function(o){r(),l=Panopto.Core.ServiceInterface.MultipartUploadManagement.uploadSlice(e.uploadUri,e.file,S.fileSliceSize,t,i,function(e,t){a(e,t),o(!0)},function(){c(),o()})},onFailure:o,onCancel:function(){l.cancel()}})}(e)},t=P,r=new Panopto.Core.CancellableRequest,I.queueJob({correlationId:o.fileId,attempt:function(t){r=Panopto.Core.ServiceInterface.MultipartUploadManagement.openUpload(o.uploadUri,"",function(e){o.uploadId=e,n(o),t(!0)},function(){t()})},onFailure:t,onCancel:function(){r.cancel()}})},S.upload=function(){I.isRunning()||I.doJobs()},S.cancelUpload=function(e){I.isRunning()&&I.cancelCorrelatedJobs(e)},S.resetTimer=function(){g.resetEffectiveByterate()},S.predictRemainingSeconds=function(e){return Math.round(g.predictRemainingSeconds(y[e])/I.getMaxDegreeOfParallelism())},S.isRunning=function(){return I.isRunning()},S}(Panopto.Core.ServiceInterface.MultipartUploadManager||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.NetworkAccessRuleGroups=function(e,r,i){var a="NetworkAccessRuleGroups";return e.getAll=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:e},function(e,t,o){n&&n(i.PagingResponse(e,o,function(e){return(new AutoClientModels.NetworkAccessRuleGroup).fromRestNetworkAccessRuleGroup(e)}))},t,o)},e.getRuleGroup=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:e},function(e){t((new AutoClientModels.NetworkAccessRuleGroup).fromRestNetworkAccessRuleGroup(e))},o,n)},e.saveRuleGroup=function(e,t,o,n){e.id?r.makeCall(i.HttpMethods.Put,{serviceName:a,data:(new AutoRestModels.NetworkAccessRuleGroup).fromClientNetworkAccessRuleGroup(e)},t,o,n):r.makeCall(i.HttpMethods.Post,{serviceName:a,data:(new AutoRestModels.NetworkAccessRuleGroup).fromClientNetworkAccessRuleGroup(e)},function(e){t((new AutoClientModels.NetworkAccessRuleGroup).fromRestNetworkAccessRuleGroup(e))},o,n)},e.setAsDefaultRuleGroup=function(e,t,o,n){r.makeCall(i.HttpMethods.Put,{serviceName:a,id:e},t,o,n)},e.deleteRuleGroup=function(e,t,o,n){r.makeCall(i.HttpMethods.Delete,{serviceName:a,id:e},t,o,n)},e}(Panopto.Core.ServiceInterface.Rest.NetworkAccessRuleGroups||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.OauthClients=function(n,r,i){var a="OauthClient";return n.save=function(e,t,o,n){r.makeCall(e.id?i.HttpMethods.Put:i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.OauthClient(e))},o,n)},n.get=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:e},function(e,t,o){n(i.PagingResponse(e,o,i.OauthClient))},t,o)},n.getAll=function(e,t){r.getAll(function(e,t,o){n.get(e,t,o)},{},e,t)},n.deleteClient=function(e,t,o,n){r.makeCall(i.HttpMethods.Delete,{serviceName:a,id:e},t,o,n)},n.generateSecretValue=function(e,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:a,path:"generateSecret"},e,t,o)},n}(Panopto.Core.ServiceInterface.Rest.OauthClients||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.OauthClientUris=function(e,r,i){var a="OauthClientUri";return e.save=function(e,t,o,n){r.makeCall(e.id?i.HttpMethods.Put:i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.OauthAllowedUri(e))},o,n)},e.deleteClient=function(e,t,o,n){r.makeCall(i.HttpMethods.Delete,{serviceName:a,id:e},t,o,n)},e}(Panopto.Core.ServiceInterface.Rest.OauthClientUris||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.OauthScopes=function(e,r,i){return e.save=function(e,t,o,n){r.makeCall(e.id?i.HttpMethods.Put:i.HttpMethods.Post,{serviceName:"OauthScopes",data:e.toModel()},function(e){t&&t(i.OauthAllowedUri(e))},o,n)},e}(Panopto.Core.ServiceInterface.Rest.OauthScopes||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.PlaylistAccessItems=function(e,r,i){var a="PlaylistAccessItems";return e.create=function(e,t,o,n){r.makeCall(i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.PlaylistAccessItem(e))},o,n)},e.getOne=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:e},function(e){t&&t(i.PlaylistAccessItem(e))},o,n)},e.getMany=function(e,t){r.makeChunkedGetCalls(function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:{ids:e}},t,o,n)},e,t,i.PlaylistAccessItem)},e}(Panopto.Core.ServiceInterface.Rest.PlaylistAccessItems||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Playlists=function(e,r,i){var a="Playlists";return e.create=function(e,t,o,n){r.makeCall(i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.Playlist(e))},o,n)},e.getOne=function(t){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:t.id},function(e){t.onSuccess&&t.onSuccess(i.Playlist(e))},t.onFailure,t.onComplete)},e.getMany=function(e,t){r.makeChunkedGetCalls(function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:{ids:e}},t,o,n)},e,t,i.Playlist)},e.update=function(e,t,o,n){r.makeCall(i.HttpMethods.Put,{serviceName:a,data:e.toModel()},function(e){t(i.Playlist(e))},o,n)},e.deletePlaylist=function(e,t,o,n){r.makeCall(i.HttpMethods.Delete,{serviceName:a,id:e},t,o,n)},e}(Panopto.Core.ServiceInterface.Rest.Playlists||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=function(e){return e.Versions={V42:"4.2",V46:"4.6"},e.ajax=function(e,t,o,n,r,i,a){r=r||$.noop,i=i||$.noop,a=a||$.noop;$.ajax({type:"POST",url:PanoptoTS.StringHelpers.format("{0}/PublicAPI/{1}/{2}.svc/json/{3}",Panopto.Core.ServiceInterface.baseUrl,n,e,t),data:JSON.stringify(o),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){r(e.d)},error:i,complete:a,xhrFields:{withCredentials:!0}})},e}(Panopto.Core.ServiceInterface.PublicAPI||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Recorder=function(e,r){var i=function(e,t,o,n){$.ajax({type:"POST",url:PanoptoTS.StringHelpers.format("{0}/Services/Recorder.asmx/{1}",Panopto.Core.ServiceInterface.baseUrl,e),contentType:"application/json; charset=utf-8",data:JSON.stringify(t),dataType:"json",success:function(e){o&&o(e.d)},error:function(e){n&&n(JSON.stringify(e))}})};return r.SessionIdPair=function(e){return{sessionId:e.publicID,deliveryId:e.deliveries[0].PublicID}},e.getDeliveryIdsFromSessionIds=function(e,o,t){i("GetSessions",{sessionIDs:e},function(e){var t=_.map(e,r.SessionIdPair);o(t)},t)},e.getBroadcastData=function(e,t,o,n){i("GetBroadcastData",{sessionPublicID:e,cutoff:t},function(e){o(e.ViewerCount,_.map(e.Questions,r.RecorderQuestion))},n)},e.logout=function(e,t){i("Logout",void 0,e,t)},e.hasWriteAccessToFolder=function(e,t,o){i("GetWriteableSessionGroup",{sessionGroupId:e},t,o)},e.getFirstWriteableFolder=function(o,e){i("GetSessionGroups",void 0,function(e){var t;e&&0<e.length&&(t=e[0].publicID),o&&o(t)},e)},e.addSession=function(e,t,o,n,r){i("AddSession",{sessionGroupID:e,sessionName:t,bBroadcast:o},function(e){if(n){var t=e?e.publicID:null;n(t)}},r)},e}(Panopto.Core.ServiceInterface.Recorder||{},Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries=function(e,i,a){var s="RecorderScheduleEntries";return e.save=function(e,t,o,n,r){i.makeCall(e.id?a.HttpMethods.Put:a.HttpMethods.Post,{serviceName:s,paramsObj:{resolveConflicts:t},data:e.toModel()},function(e){o&&o(a.recorderScheduleEntry(e))},n,r)},e.getRecorderScheduleEntries=function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,paramsObj:e},function(e){t&&t(_.map(e,a.recorderScheduleEntry))},o,n)},e}(Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.RemoteRecorderManagement=function(r,i,a){return r.getRemoteRecorders=function(e,t,o,n){i.ajax("RemoteRecorderManagement","GetRemoteRecordersById",{remoteRecorderIds:e},i.Versions.V42,function(e){t(_.map(e,a.RemoteRecorder))},o,n)},r.getRemoteRecorder=function(e,t,o,n){r.getRemoteRecorders([e],function(e){t(e[0])},o,n)},r}(Panopto.Core.ServiceInterface.RemoteRecorderManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.RemoteRecorders=function(e,r,i){var a="remoteRecorders";return e.getSuggestions=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:{query:e}},function(e){t(_.map(e,i.RemoteRecorder))},o,n)},e.updateTimeZone=function(e,t,o,n){r.makeCall(i.HttpMethods.Put,{serviceName:a,data:e.toModel()},function(e){t&&t(i.RemoteRecorder(e))},o,n)},e.updateLastAccessed=function(e,t,o,n){r.makeCall(i.HttpMethods.Post,{serviceName:a,id:e,path:"updatelastaccessed"},t,o,n)},e.getRemoteRecorders=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{paramsObj:e,serviceName:a},function(e,t,o){n(i.PagingResponse(e,o,i.RemoteRecorder))},t,o)},e.getRemoteRecorder=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:e},function(e){t(i.RemoteRecorder(e))},o,n)},e}(Panopto.Core.ServiceInterface.Rest.RemoteRecorders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.PublicAPI.Services=function(e){var r=function(e,t,o,n,r,i){$.ajax({url:t,type:e,headers:o,data:n,contentType:"application/json; charset=utf-8",success:function(e,t,o){r&&r(e,o)},error:function(e,t,o){i&&i(e,t,o)}})},i=function(e){return _.map(e,function(e){return e.State=Panopto.Core.ServiceInterface.Objects.SessionState[e.State],new Panopto.Core.ServiceInterface.Objects.Session(e)})};return e.getSessions=function(e,t,n,o){r("GET",PanoptoTS.StringHelpers.format("{0}/PublicAPI/4.1/Sessions?id={1}&fields={2}",Panopto.Core.ServiceInterface.baseUrl,e.join(","),t.join(",")),{Pragma:"no-cache"},null,function(e,t){var o=i(e);n(o,t)},o)},e.getSessionsMany=function(e,t,n,o){r("POST",PanoptoTS.StringHelpers.format("{0}/PublicAPI/4.1/SessionsMany?fields={1}",Panopto.Core.ServiceInterface.baseUrl,t.join(",")),{Pragma:"no-cache"},JSON.stringify({ids:e}),function(e,t){var o=i(e);n(o,t)},o)},e}(Panopto.Core.ServiceInterface.PublicAPI.Services||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionAccessItems=function(e,r,i){var a="SessionAccessItems";return e.create=function(e,t,o,n){r.makeCall(i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.SessionAccessItem(e))},o,n)},e.getOne=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:e},function(e){t&&t(i.SessionAccessItem(e))},o,n)},e.getMany=function(e,t){r.makeChunkedGetCalls(function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:{ids:e}},t,o,n)},e,t,i.SessionAccessItem)},e}(Panopto.Core.ServiceInterface.Rest.SessionAccessItems||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionChangeSets=function(e,i,a){var s="SessionChangeSets";return e.get=function(e,n,t,o){i.makeCall(a.HttpMethods.Get,{serviceName:s,paramsObj:{sessionId:e,isCommitted:!1}},function(e,t,o){n&&n(a.PagingResponse(e,o,a.SessionChangeSet))},t,o)},e.save=function(e,t,o,n){i.makeCall(e.id?a.HttpMethods.Put:a.HttpMethods.Post,{serviceName:s,data:e.toModel()},function(e){t&&t(a.SessionChangeSet(e))},o,n)},e.deleteChangeSet=function(e,t,o,n,r){i.makeCall(a.HttpMethods.Delete,{serviceName:s,id:e},t,o,n,r)},e.commitChanges=function(e,t,o,n){i.makeCall(a.HttpMethods.Post,{serviceName:s,id:e.id,data:e.toModel(),path:"commitChanges"},function(e){t&&t(a.SessionChangeSet(e))},o,n)},e.updateOwner=function(e,t,o,n,r){i.makeCall(a.HttpMethods.Post,{serviceName:s,id:e,path:"updateOwner",data:{ownerId:t}},function(e){o&&o(a.SessionChangeSet(e))},n,r)},e}(Panopto.Core.ServiceInterface.Rest.SessionChangeSets||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionLists=function(l,d,u){var p="SessionLists",c="items/{0}";return l.HomePageListId="homePage",l.UnpublishedHomePageListId="homePageUnpublished",l.create=function(e,t,o,n){var r=u.SessionList({specialType:e}),i={serviceName:p,data:r.toModel()};d.makeCall(u.HttpMethods.Post,i,function(e){t&&t(u.SessionList(e))},o,n)},l.getOne=function(e,t,o,n,r){var i=t.includeEmbedViewableOnly,a=t.includeViewableOnly||t.includeItems&&e===l.HomePageListId,s=t.includeItems&&!a&&!i,c={serviceName:p,id:e,paramsObj:l.createIncludeParamsObj(s,a,i,t.includeBuiltInGroupAccess)};d.makeCall(u.HttpMethods.Get,c,function(e){o&&o(u.SessionList(e))},n,r)},l.getSessionLists=function(e,t,o,n){var r={serviceName:p,paramsObj:e};d.makeCall(u.HttpMethods.Get,r,function(e){t&&t(_.map(e,u.SessionList))},o,n)},l.update=function(e,t,o,n){var r={serviceName:p,id:e.id,data:e.toModel()};d.makeCall(u.HttpMethods.Put,r,function(e){t&&t(u.SessionList(e))},o,n)},l.copyTo=function(e,t,o,n,r,i){var a=l.createUpdateDateOptions(o);a.id=e,a.paramsObj.sourceId=t,d.makeCall(u.HttpMethods.Put,a,function(e){n&&n(u.SessionList(e))},r,i)},l.getItems=function(e,t,o,n,r){var i={serviceName:p,id:e,path:PanoptoTS.StringHelpers.format(c,""),paramsObj:l.createIncludeParamsObj(!0,!1,!1,t.includeBuiltInGroupAccess)};i.paramsObj.PageSize=t.pageSize,d.makeCall(u.HttpMethods.Get,i,function(e){o&&o(_.map(e,u.Session))},n,r)},l.insertItem=function(e,t,o,n,r,i,a){var s=l.createUpdateDateOptions(t);s.id=e,s.path=PanoptoTS.StringHelpers.format(c,n),s.data=o.toModel(),d.makeCall(u.HttpMethods.Put,s,function(e){r&&r(moment.utc(e).toDate())},i,a)},l.moveItem=function(e,t,o,n,r,i,a){var s=l.createUpdateDateOptions(t);s.id=e,s.path=PanoptoTS.StringHelpers.format(c,o),s.paramsObj.destinationIndex=n,d.makeCall(u.HttpMethods.Put,s,function(e){r&&r(moment.utc(e).toDate())},i,a)},l.deleteItem=function(e,t,o,n,r,i){var a=l.createUpdateDateOptions(t);a.id=e,a.path=PanoptoTS.StringHelpers.format(c,o),d.makeCall(u.HttpMethods.Delete,a,function(e){n&&n(moment.utc(e).toDate())},r,i)},l.createUpdateDateOptions=function(e){var t=moment(e),o={};return o[Panopto.Core.ServiceInterface.Rest.Api.IfUnmodifiedSince]=t.toISOString(),{serviceName:p,headers:o,paramsObj:{updateDate:t.toISOString()}}},l.createIncludeParamsObj=function(e,t,o,n){var r={};return e?r={"collections[0].maxCount":500,"collections[0].name":"items"}:t?r={"collections[0].maxCount":500,"collections[0].name":"ViewableItemsOnly"}:o&&(r={"collections[0].maxCount":500,"collections[0].name":"EmbedViewableItemsOnly"}),(e||t||o)&&n&&(r["names[0]"]="Items.BuiltInGroupAccess"),r},l.GetItemsWithAccessIssues=function(t){var e={serviceName:p,id:t.id,path:"GetItemsWithAccessIssues"};d.makeCall(u.HttpMethods.Get,e,function(e){t.onSuccess&&t.onSuccess(_.map(e,u.Access))},t.onFailure||$.noop,t.onComplete||$.noop)},l.FixAccessIssues=function(t){var e={serviceName:p,id:t.id,path:"FixItemsWithAccessIssues"};d.makeCall(u.HttpMethods.Put,e,function(e){t.onSuccess&&t.onSuccess(e)},t.onFailure,t.onComplete)},l}(Panopto.Core.ServiceInterface.Rest.SessionLists||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.SessionManagement=function(i,a,s){var c="SessionManagement";return i.addSession=function(e,t,o,n,r,i){a.ajax(c,"AddSession",{name:e,folderId:t,isBroadcast:o},a.Versions.V42,function(e){n(s.Session(e))},r,i)},i.deleteSessions=function(e,t,o,n){a.ajax(c,"DeleteSessions",{sessionIds:e},a.Versions.V42,t,o,n)},i.deleteSession=function(e,t,o,n){i.deleteSessions([e],t,o,n)},i.updateSessionName=function(e,t,o,n,r){a.ajax(c,"UpdateSessionName",{sessionId:e,name:t},a.Versions.V42,o,n,r)},i.updateSessionDescription=function(e,t,o,n,r){a.ajax(c,"UpdateSessionDescription",{sessionId:e,description:t},a.Versions.V42,o,n,r)},i.moveSessions=function(e,t,o,n,r){a.ajax(c,"MoveSessions",{sessionIds:e,folderId:t},a.Versions.V42,o,n,r)},i.moveSession=function(e,t,o,n,r){i.moveSessions([e],t,o,n,r)},i.getSessions=function(e,t,o,n){a.ajax(c,"GetSessionsById",{sessionIds:e},a.Versions.V42,function(e){t(_.map(e,s.Session))},o,n)},i.getSession=function(e,t,o,n){i.getSessions([e],function(e){t(e[0])},o,n)},i.addFolder=function(e,t,o,n,r,i){a.ajax(c,"AddFolder",{name:e,parentFolder:t,isPublic:o},a.Versions.V42,function(e){n(s.Folder(e))},r,i)},i.getFoldersList=function(e,t,o,n,r){a.ajax(c,"GetFoldersList",{request:e,searchQuery:t},a.Versions.V42,function(e){o(_.map(e.Results,s.Folder),e.TotalNumberResults)},n,r)},i.getCreatorFoldersList=function(e,t,o,n,r){a.ajax(c,"GetCreatorFoldersList",{request:e,searchQuery:t},a.Versions.V46,function(e){o(_.map(e.Results,s.Folder),e.TotalNumberResults)},n,r)},i.getFoldersById=function(e,t,o,n){a.ajax(c,"GetFoldersById",{folderIds:e},a.Versions.V42,function(e){t(_.map(e,s.Folder))},o,n)},i}(Panopto.Core.ServiceInterface.SessionManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SessionReferences=function(e,i,a){return e.get=function(e,n,t,o){var r={serviceName:"sessionReferences",paramsObj:e};i.makeCall(a.HttpMethods.Get,r,function(e,t,o){n&&n(a.PagingResponse(e,o,function(e){return new PanoptoTS.Core.ServiceInterface.Rest.Objects.SessionReference(e)}))},t,o)},e}(Panopto.Core.ServiceInterface.Rest.SessionReferences||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Sessions=function(r,i,a){var s="Sessions";return r.create=function(e,t,o,n){i.makeCall(a.HttpMethods.Post,{serviceName:s,data:e.toModel()},function(e){t&&t(a.Session(e))},o,n)},r.getOne=function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e},function(e){t&&t(a.Session(e))},o,n)},r.getMany=function(e,t){i.makeChunkedGetCalls(function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,paramsObj:{ids:e}},t,o,n)},e,t,a.Session)},r.update=function(e,t,o,n){i.makeCall(a.HttpMethods.Put,{serviceName:s,data:e.toModel()},function(e){t(a.Session(e))},o,n)},r.getStreams=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"streams",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.Stream))},o,r)},r.getAllStreams=function(n,e,t){i.getAll(function(e,t,o){r.getStreams(n,e,t,o)},{},e,t)},r.getCuts=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"cuts",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.Cut))},o,r)},r.getAllCuts=function(n,e,t){i.getAll(function(e,t,o){r.getCuts(n,e,t,o)},{},e,t)},r.getEvents=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"events",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.Event))},o,r)},r.getAllEvents=function(n,e,t,o){i.getAll(function(e,t,o){r.getEvents(n,e,t,o)},e,t,o)},r.getCaptions=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"captions",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.Event))},o,r)},r.getAllCaptions=function(n,e,t,o){i.getAll(function(e,t,o){r.getCaptions(n,e,t,o)},e,t,o)},r.getSlideEvents=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"slideEvents",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.Event))},o,r)},r.getAllSlideEvents=function(n,e,t,o){i.getAll(function(e,t,o){r.getSlideEvents(n,e,t,o)},e,t,o)},r.getSlideDecks=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"slideDecks",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.SlideDeck))},o,r)},r.getAllSlideDecks=function(n,e,t){i.getAll(function(e,t,o){r.getSlideDecks(n,e,t,o)},{},e,t)},r.getQuestionLists=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"questionLists",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,function(e){var t=new AutoClientModels.QuestionList;return t.fromRestQuestionList(e),t}))},o,r)},r.getAllQuestionLists=function(n,e,t){i.getAll(function(e,t,o){r.getQuestionLists(n,e,t,o)},{},e,t)},r.deleteSession=function(e,t,o,n){i.makeCall(a.HttpMethods.Delete,{serviceName:s,id:e},t,o,n)},r.batchUpdate=function(e,t,o,n){var r=_.map(e,function(e){return Panopto.Core.ServiceInterface.Rest.Objects.Session.fromSessionRow(e)});i.makeCall(a.HttpMethods.Put,{serviceName:s,data:r,path:"batch"},function(e){t(Panopto.Core.ServiceInterface.Rest.Objects.BatchResult(e,a.Session))},o,n)},r.batchErase=function(e,t,o,n){var r=_.map(e,function(e){return e.DeliveryID});i.makeCall(a.HttpMethods.Delete,{serviceName:s,data:r,path:"batchErase"},t,o,n)},r}(Panopto.Core.ServiceInterface.Rest.Sessions||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.SessionUploadManagement=function(e){var r=function(e,t,o,n,r,i){var a=$.ajax({url:t,type:e,data:JSON.stringify(n),headers:o,cache:!1,processData:!1,success:function(e,t,o){r&&r(e,o)},error:function(e,t,o){i&&"abort"!==t&&i(e,t,o)}});return new Panopto.Core.CancellableRequest(function(){a.abort()})},i="http://localhost",a="/Panopto/PublicAPI/REST/",s={"Accept-Language":"en-US,en;q=0.8,zh-CN;q=0.6,zh;q=0.4,fr;q=0.2,ko;q=0.2,es;q=0.2",Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/json; charset=utf-8","Cache-Control":"no-cache"};return e.setHost=function(e){i=e},e.openUpload=function(e,t,o){var n={SessionID:e.sessionId,UploadTarget:e.filename,StreamStartTime:"object"==typeof e.startTime&&null!==e.startTime?["/Date(",e.startTime.getTime(),")/"].join(""):null,UserFilename:e.filename};return e.streamType&&(n.StreamType=e.streamType),r("POST",[i,a,"upload"].join(""),s,n,t,o)},e.closeUpload=function(e,t,o){var n=_.extend(e,{State:Panopto.Core.UploadStatus.UploadComplete});return r("PUT",[i,a,"upload/",e.ID].join(""),s,n,t,o)},e.getUpload=function(e,t,o){return r("GET",[i,a,"upload/",e].join(""),s,"",t,o)},e.deleteUpload=function(e,t,o){return r("DELETE",[i,a,"upload/",e].join(""),s,"",t,o)},e.getUploads=function(e,t,o){return r("GET",[i,a,"session/",e,"/uploads"].join(""),s,"",t,o)},e}(Panopto.Core.ServiceInterface.SessionUploadManagement||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SharingConnections=function(e,r,i){var a="sharingConnections";return e.get=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:e},function(e,t,o){n&&n(i.PagingResponse(e,o,function(e){return(new AutoClientModels.SharingConnection).fromRestSharingConnection(e)}))},t,o)},e.update=function(e,t,o,n){r.makeCall(i.HttpMethods.Put,{serviceName:a,data:(new AutoRestModels.SharingConnection).fromClientSharingConnection(e)},function(e){t((new AutoClientModels.SharingConnection).fromRestSharingConnection(e))},o,n)},e.delete=function(e,t,o,n){r.makeCall(i.HttpMethods.Delete,{serviceName:a,id:e},t,o,n)},e}(Panopto.Core.ServiceInterface.Rest.SharingConnections||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.SlideDecks=function(r,i,a){return r.getSlides=function(e,t,n,o,r){i.makeCall(a.HttpMethods.Get,{serviceName:"SlideDecks",id:e,path:"slides",paramsObj:t},function(e,t,o){n(a.PagingResponse(e,o,a.Slide))},o,r)},r.getAllSlides=function(n,e,t){i.getAll(function(e,t,o){r.getSlides(n,e,t,o)},{},e,t)},r}(Panopto.Core.ServiceInterface.Rest.SlideDecks||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Streams=function(e,r,i){return e.getHistogram=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:"Streams",id:e,path:"histogram"},t,o,n)},e}(Panopto.Core.ServiceInterface.Rest.Streams||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.TranscriptionProviderInstances=function(n,r,i){var a="TranscriptionProviderInstances";return n.save=function(e,t,o,n){r.makeCall(e.id?i.HttpMethods.Put:i.HttpMethods.Post,{serviceName:a,data:e.toModel()},function(e){t&&t(i.TranscriptionProviderInstance(e))},o,n)},n.getOne=function(e,t,o,n){r.makeCall(i.HttpMethods.Get,{serviceName:a,id:e},function(e){t&&t(i.TranscriptionProviderInstance(e))},o,n)},n.get=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:a,paramsObj:e},function(e,t,o){n(i.PagingResponse(e,o,i.TranscriptionProviderInstance))},t,o)},n.getAll=function(e,t){r.getAll(function(e,t,o){n.get(e,t,o)},{},e,t)},n}(Panopto.Core.ServiceInterface.Rest.TranscriptionProviderInstances||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.TranscriptionProviders=function(n,r,i){return n.get=function(e,n,t,o){r.makeCall(i.HttpMethods.Get,{serviceName:"TranscriptionProviders",paramsObj:e},function(e,t,o){n(i.PagingResponse(e,o,i.TranscriptionProvider))},t,o)},n.getAll=function(e,t){r.getAll(function(e,t,o){n.get(e,t,o)},{},e,t)},n}(Panopto.Core.ServiceInterface.Rest.TranscriptionProviders||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.PublicAPI=Panopto.Core.ServiceInterface.PublicAPI||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.UserManagement=function(r,i,a){return r.getUsers=function(e,t,o,n){i.ajax("UserManagement","GetUsers",{userIds:e},i.Versions.V42,function(e){t(_.map(e,a.User))},o,n)},r.getUser=function(e,t,o,n){r.getUsers([e],function(e){t(e[0])},o,n)},r}(Panopto.Core.ServiceInterface.UserManagement||{},Panopto.Core.ServiceInterface.PublicAPI,Panopto.Core.ServiceInterface.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Api=Panopto.Core.ServiceInterface.Rest.Api||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Users=function(e,i,a){var s="Users";return e.getSuggestions=function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,path:"suggestions",paramsObj:e},function(e){t(_.map(e,Panopto.Core.ServiceInterface.Rest.Objects.User))},o)},e.getUser=function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e},function(e){t(a.User(e))},o,n)},e.changeForgottonPassword=function(e,t,o,n,r){i.makeCall(a.HttpMethods.Post,{serviceName:s,id:e,path:"passwordReset",data:t},o,n,r)},e.getQuotaDetail=function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"quota/detail"},function(e){t(new PanoptoTS.ServiceInterface.Objects.QuotaDetail(e))},o,n)},e.getQuotaSnapshot=function(e,t,o,n){i.makeCall(a.HttpMethods.Get,{serviceName:s,id:e,path:"quota/snapshot"},function(e){t(new PanoptoTS.ServiceInterface.Objects.QuotaDetail(e))},o,n)},e.joinGroups=function(t,e,o,n,r){var i=e.length,a=!1;_.each(e,function(e){Panopto.Core.ServiceInterface.Rest.Groups.addMembers(e.id,[t],$.noop,function(){a=!0},function(){--i||(a?n&&n():o&&o(),r&&r())})})},e}(Panopto.Core.ServiceInterface.Rest.Users||{},Panopto.Core.ServiceInterface.Rest.Api,Panopto.Core.ServiceInterface.Rest.Objects),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Access=function(e){var t={};return t.id=e.id||e.Id,t.isEditable=e.isEditable||e.IsEditable,t.name=e.name||e.Name,t.role="number"==typeof e.role?e.role:e.Role,t.item=e.item||(e.Item?Panopto.Core.ServiceInterface.Rest.Objects[e.Item.TypeName](e.Item):null),t.receiver=e.receiver||(e.Receiver?Panopto.Core.ServiceInterface.Rest.Objects[e.Receiver.TypeName](e.Receiver):null),t.isInherited=e.isInherited||e.IsInherited,t.typeName=e.typeName||e.TypeName,t.toModel=function(){return{Id:t.id,Name:t.name,Role:t.role,Item:t.item.toModel(),Receiver:t.receiver.toModel(),TypeName:t.typeName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.AccessItem=function(e){var t,o,n;return{builtInGroupAccess:e.BuiltInGroupAccess?Panopto.Core.ServiceInterface.Rest.Objects.Access(e.BuiltInGroupAccess):null,builtInGroupShareOptions:_.map(e.BuiltInGroupShareOptions,Panopto.Core.ServiceInterface.Rest.Objects.Access),parent:e.Parent?Panopto.Core.ServiceInterface.Rest.Objects.Folder(e.Parent):null,isInheritingAccess:e.IsInheritingAccess,inheritableAncestor:e.InheritableAncestor?Panopto.Core.ServiceInterface.Rest.Objects.FolderAccessItem(e.InheritableAncestor):null,accessRoleTypes:(t=e.AccessRoleTypes,o={},n=_.values(Panopto.Core.AccessRoleType),_.each(n,function(e){o[e]=!1}),_.each(t,function(e){o[n[e-1]]=!0}),o)}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.ApprovalActionType=function(e){return e.Request=0,e.Cancel=1,e.Clear=2,e.Approve=3,e.Reject=4,e}(Panopto.Core.ServiceInterface.Objects.ApprovalActionType||{}),Panopto.Core.ServiceInterface.Objects.ApprovalResult=function(e){return e.Success=0,e.NoAccess=1,e.ApprovalsDisabledForFolder=2,e.InvalidTransition=3,e.ApprovalStateChanged=4,e.NoPrimaryStream=5,e.UnknownError=6,e}(Panopto.Core.ServiceInterface.Objects.ApprovalResult||{}),Panopto.Core.ServiceInterface.Objects.ApprovalState=function(e){var t=Panopto.Core.ServiceInterface.Objects.ApprovalActionType;return{actionId:e.ApprovalActionId,actionType:"number"==typeof e.ApprovalActionType&&e.ApprovalActionType!==t.Clear?e.ApprovalActionType:t.Cancel,message:e.Message,username:e.Username,isPublisherAction:e.IsPublisherAction,date:e.ActionDate?moment.utc(e.ActionDate).toDate():new Date,availableActions:e.AvailableActions||[],result:e.Status}},Panopto.Core.ServiceInterface.Objects.ApprovalRequest=function(e,t,o,n){var r={};return r.deliveryId=e,void 0!==o&&(r.currentApprovalState=t,r.approvalAction=o,r.message=n),r},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.BatchOperationsResults=function(e){return{itemFailedCount:e.ItemFailedCount,itemResults:_.map(e.ItemResults,function(e){return Panopto.Core.ServiceInterface.Objects.BatchOperationsResult(e)})}},Panopto.Core.ServiceInterface.Objects.BatchOperationsResult=function(e){return{deliveryId:e.DeliveryID,description:e.Description,message:e.Message,newSessionID:e.NewSessionID,succeeded:e.Succeeded}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Cut=function(e){var t={};return t.id=e.Id||e.id||_.uniqueId("cut"),t.targetType=e.TargetType||e.targetType,t.targetId=e.TargetId||e.targetId,t.start="number"==typeof e.Start?e.Start:e.start,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.toModel=function(){return{Id:t.id,TargetType:t.targetType,TargetId:t.targetId,Start:t.start,Duration:t.duration}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Cut(t)},t.end=function(){return t.start+t.duration},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Department=function(e){var t={};return t.id=e.Id||e.id,t.name=e.Name||e.name,t.folderId=e.FolderId||e.folderId,t.webLogoUrl=e.WebLogoUrl||e.webLogoUrl,t.toModel=function(){return{Id:t.id,Name:t.name,FolderId:t.folderId,WebLogoUrl:t.webLogoUrl}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Department(t)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Event=function(e){var t={},o=window.location.protocol+"//",n=/^.*?:\/\//;return t.id=e.Id||e.id||_.uniqueId("event"),t.name=e.Name||e.name,t.sessionId=e.SessionId||e.sessionId,t.streamId=e.StreamId||e.streamId,t.type="number"==typeof e.Type?e.Type:e.type,t.metadata=e.Metadata||e.metadata,t.timelineTime="number"==typeof e.TimelineTime?e.TimelineTime:e.timelineTime,t.creationTime="number"==typeof e.CreationTime?e.CreationTime:e.creationTime,t.relativeTime="number"==typeof e.RelativeTime?e.RelativeTime:e.relativeTime,t.channel=e.Channel||e.channel,t.creator=e.Creator?Panopto.Core.ServiceInterface.Rest.Objects.User(e.Creator):e.creator,t.thumbnailUrl=e.ThumbnailUrl||e.thumbnailUrl,t.link=e.Link||e.link,t.slideUrl=e.SlideUrl||e.slideUrl,t.isDefaultThumbnail=e.IsDefaultThumbnail||e.isDefaultThumbnail,t.slideId=e.SlideId||e.slideId,t.slideDeckId=e.SlideDeckId||e.slideDeckId,t.forceShow=e.forceShow,t.link=t.link?o+t.link.replace(n,""):t.link,t.toModel=function(){var e=t.link?t.link.replace(n,""):t.link;return{Id:t.id,Name:t.name,SessionId:t.sessionId,StreamId:t.streamId,Type:t.type,Metadata:t.metadata,TimelineTime:t.timelineTime,RelativeTime:t.relativeTime,Channel:t.channel,Link:e,IsDefaultThumbnail:t.isDefaultThumbnail,ThumbnailUrl:t.thumbnailUrl,SlideUrl:t.slideUrl,SlideId:t.slideId,SlideDeckId:t.slideDeckId}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Event(t)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.Folder=function(e){return{id:e.Id,name:e.Name,description:e.Description,childFolders:e.ChildFolders,parentFolder:e.ParentFolder,isPublic:e.IsPublic,sessions:e.Sessions,presenters:e.Presenters}},Panopto.Core.ServiceInterface.Objects.ListFoldersRequest=function(e){return{Pagination:{MaxNumberResults:e.maxResults,PageNumber:e.pageNumber},SortBy:e.sortBy,SortIncreasing:e.sortIncreasing,ParentFolderId:e.parentFolderId,PublicOnly:e.publicOnly,WildcardSearchNameOnly:e.wildcardSearchNameOnly}},Panopto.Core.ServiceInterface.Rest.Objects.Folder=function(e){var t={id:e.Id,name:e.Name,isEditable:e.IsEditable,isDropbox:e.IsDropbox,folderType:e.FolderType,parent:e.Parent?Panopto.Core.ServiceInterface.Rest.Objects.Folder(e.Parent):null,userCanCreateFolders:e.UserCanCreateFolders,userCanCreateSessions:e.UserCanCreateSessions,isEnumerable:e.IsEnumerable,hasAccessibleChildren:e.HasAccessibleChildren,typeName:e.TypeName,sessionCount:e.SessionCount,toModel:function(){return{Id:t.id,Name:t.name,Parent:t.parent?t.parent.toModel():null,TypeName:t.typeName}}};return t},Panopto.Core.ServiceInterface.Rest.Objects.Folder.fromFolderRow=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.Folder({Id:e.ID,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.Name),FolderType:e.FolderType,IsDropbox:e.IsDropbox,TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Folder});return e.ParentFolderId&&(t.parent=Panopto.Core.ServiceInterface.Rest.Objects.Folder({Id:e.ParentFolderId,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.ParentFolderName),TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Folder})),t},Panopto.Core.ServiceInterface.Rest.Objects.Folder.SortOrder=function(e){e.Name=0,e.Depth=1,e.RecentlyUsed=2;var t=_.invert(e);return e.getName=function(e){return t[e]},e}(Panopto.Core.ServiceInterface.Rest.Objects.Folder.SortOrder||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.FolderAccessItem=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id,t.name=e.Name,t.isApprovalRequired=e.IsApprovalRequired,t.arePublishersEditable=e.ArePublishersEditable,t.typeName=e.TypeName,t.isDropbox=e.IsDropbox,t.embedViewTag=e.EmbedViewTag,t.viewUri=e.ViewUri,t.inheritingDescendants=_.map(e.InheritingDescendants,Panopto.Core.ServiceInterface.Rest.Objects.Folder),t.isEditable=e.IsEditable,t.folderType=e.FolderType,t.toModel=function(){return{Id:t.id,Name:t.name,Parent:t.parent?t.parent.toModel():null,IsInheritingAccess:t.isInheritingAccess,IsApprovalRequired:t.isApprovalRequired,TypeName:t.typeName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.FolderFilter=function(t){var o={};return _.each(["parentId","folderSet","searchTerm","includeMyFolder","includePersonalFolders"],function(e){_.isUndefined(t[e])||(o[e]=t[e])}),o},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Group=function(e){var r={};return r.externalId=e.externalId||e.ExternalId,r.id=e.id||e.Id,r.isPrivate=e.isPrivate||e.IsPrivate,r.memberCount="number"==typeof e.memberCount?e.memberCount:e.MemberCount,r.name=e.name||e.Name,r.ownerId=e.ownerId||e.OwnerId,r.ownerName=e.ownerName||e.OwnerName,r.provider=e.provider||e.Provider?Panopto.Core.ServiceInterface.Rest.Objects.MembershipProvider(e.provider||e.Provider):null,r.isFromEditableMembershipProvider=e.isFromEditableMembershipProvider||e.IsFromEditableMembershipProvider,r.isEditable=e.isEditable||e.IsEditable,r.isAccessEditable=e.isAccessEditable||e.IsAccessEditable,r.typeName=e.typeName||e.TypeName,r.builtInType=e.builtInType||e.BuiltInType,r.isMembershipViewable=e.isMembershipViewable||e.IsMembershipViewable,r.save=function(e,t,o){Panopto.Core.ServiceInterface.Rest.Groups.saveGroup(r,e,t,o)},r.deleteGroup=function(e,t,o){Panopto.Core.ServiceInterface.Rest.Groups.deleteGroup(r.id,e,t,o)},r.addMembers=function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.Groups.addMembers(r.id,_.map(e,function(e){return e.toModel()}),t,o,n)},r.removeMember=function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.Groups.removeGroupMember(r.id,e,t,o,n)},r.searchForNewMember=function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.Users.getSuggestions({searchTerm:e,isNotInGroup:r.id},t,o,n)},r.validate=function(e){var t=[];return r.name||t.push(e.Groups_Create_ErrorNoName),!r.externalId&&r.provider&&r.provider.name!==Panopto.Core.Constants.InternalMembershipProviderName&&t.push(e.Group_Create_ErrorNoExternalId),r.name&&Panopto.Core.TextHelpers.hasHtmlTags(r.name)&&t.push(e.Groups_HtmlNameError),r.externalId&&Panopto.Core.TextHelpers.hasHtmlTags(r.externalId)&&t.push(e.Groups_HtmlExternalIdError),t},r.isEqual=function(e){return r.externalId===e.externalId&&r.id===e.id&&r.isPrivate===e.isPrivate&&r.memberCount===e.memberCount&&r.name===e.name&&r.ownerId===e.ownerId&&r.ownerName===e.ownerName&&(!r.provider&&!e.provider||r.provider&&e.provider&&r.provider.name===e.provider.name)&&r.type===e.type},r.toModel=function(){return{ExternalId:r.externalId,Id:r.id,IsPrivate:r.isPrivate,MemberCount:r.memberCount,Name:r.name,OwnerId:r.ownerId,OwnerName:r.ownerName,Provider:r.provider?{Name:r.provider.name}:null,BuiltInType:r.builtInType,TypeName:r.typeName}},r},Panopto.Core.ServiceInterface.Rest.Objects.BuiltInGroupType=function(e){return e.None=0,e.AllUsers=1,e.Public=2,e}(Panopto.Core.ServiceInterface.Rest.Objects.BuiltInGroupType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods=function(e){return e.Put="PUT",e.Post="POST",e.Get="GET",e.Delete="DELETE",e}(Panopto.Core.ServiceInterface.Rest.Objects.HttpMethods||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.HttpStatusCode=function(e){return e.BadRequest=400,e.Unauthorized=401,e.NotFound=404,e.InternalError=500,e}(Panopto.Core.ServiceInterface.Rest.Objects.HttpStatusCode||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.MembershipProvider=function(e,t){return{name:e.name||e.Name,isInternal:e.isInternal||e.IsInternal,description:e.description||e.Description,typeName:e.typeName||e.TypeName,unifyAccounts:e.unifyAccounts||e.UnifyAccounts}},Panopto.Core.ServiceInterface.Rest.Objects.InternalProvider=function(e){return Panopto.Core.ServiceInterface.Rest.Objects.MembershipProvider({name:Panopto.Core.Constants.InternalMembershipProviderName,description:Panopto.Core.Constants.InternalMembershipProviderName,isInternal:!0},e)},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.GlobalResources=Panopto.GlobalResources||{},Panopto.Core.ServiceInterface.Rest.Objects.OauthAllowedUri=function(e){var t={};return t.uriId=e.UriId,t.uri=e.Uri,t.uriType=e.UriType,t.clientId=e.ClientId,t.toModel=function(){return{UriId:t.uriId,Uri:t.uri,UriType:t.uriType,ClientId:t.clientId}},t},Panopto.Core.ServiceInterface.Rest.Objects.OauthClientUriType=function(e){return e.CorsOrigin={id:1,name:Panopto.GlobalResources.OauthClient_OauthClientUriType_CorsOrigin},e.PostLogoutRedirect={id:2,name:Panopto.GlobalResources.OauthClient_OauthClientUriType_PostLogoutRedirect},e.Redirect={id:3,name:Panopto.GlobalResources.OauthClient_OauthClientUriType_Redirect},e}(Panopto.Core.ServiceInterface.Rest.Objects.OauthClientUriType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.OauthClient=function(e){var t={};return t.id=e.Id,t.name=e.Name,t.apiKey=e.ApiKey,t.clientUrl=e.ClientURL,t.enabled=e.Enabled,t.oauthFlowType=e.OauthFlowType,t.allowedClientUris=e.AllowedClientUris?_.map(e.AllowedClientUris,function(e){return Panopto.Core.ServiceInterface.Rest.Objects.OauthAllowedUri(e)}):[],t.user=e.User,t.userId=e.UserId,t.clientId=e.ClientId,t.clientSecret=e.ClientSecret,t.tokenDuration=e.TokenDuration,t.oauthAccessTokenType=e.Oauth2AccessTokenTypeId,t.clientTypeId=e.ClientTypeId,t.toModel=function(){return{Id:t.id,Name:t.name,ApiKey:t.apiKey,ClientURL:t.clientUrl,Enabled:t.enabled,OauthFlowType:t.oauthFlowType,AllowedClientUris:t.allowedClientUris,User:t.user,UserId:t.userId,ClientId:t.clientId,ClientSecret:t.clientSecret,TokenDuration:t.tokenDuration,Oauth2AccessTokenTypeId:t.oauthAccessTokenType,ClientTypeId:t.clientTypeId}},t},Panopto.Core.ServiceInterface.Rest.Objects.OauthAccessTokenType=function(e){return e.JWT=0,e.Reference=1,e}(Panopto.Core.ServiceInterface.Rest.Objects.OauthAccessTokenType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.GlobalResources=Panopto.GlobalResources||{},Panopto.Core.ServiceInterface.Rest.Objects.OauthScope=function(e){var t={};return t.scopeId=e.ScopeId,t.clientId=e.ClientId,t.toModel=function(){return{ScopeId:t.scopeId,ClientId:t.clientId}},t},Panopto.Core.ServiceInterface.Rest.Objects.OauthApiScope=function(e){return e.api=1,e.recorderRegistration=3,e.remoteRecorderApi=4,e.recorderApi=5,e}(Panopto.Core.ServiceInterface.Rest.Objects.OauthApiScope||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.PagingParameters=function(t){var o={};return _.each(["page","pageSize","sort","secondarySort","sortDescending","secondarySortDescending","computeTotalCount","computeHasMorePages"],function(e){_.isUndefined(t[e])||(o[e]=t[e])}),o},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Playlist=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id||e.id,t.name=e.Name||e.name,t.viewerUri=e.ViewerUri||e.viewerUri,t.embedViewerTag=e.EmbedViewerTag||e.embedViewerTag,t.typeName=e.TypeName||e.typeName,t.description=e.Description||e.description,t.status="number"==typeof e.Status?e.Status:e.status,t.startTime=moment(e.StartTime).toDate()||e.startTime,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.thumbUrl=e.ThumbUrl||e.thumbUrl,t.sessionListId=e.SessionListId||e.sessionListId,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null,Description:t.description,SessionListId:t.sessionListId}},t},Panopto.Core.ServiceInterface.Rest.Objects.Playlist.fromSessionRow=function(e){return Panopto.Core.ServiceInterface.Rest.Objects.Playlist({Id:e.DeliveryID,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.SessionName),ViewerUri:e.ViewerUrl,TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Playlist})},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.PlaylistAccessItem=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id,t.name=e.Name,t.viewerUri=e.ViewerUri,t.embedViewerTag=e.EmbedViewerTag,t.typeName=e.TypeName,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.PlaylistWithItems=function(e){var t={};if(t.playlist=Panopto.Core.ServiceInterface.Rest.Objects.Playlist(e.Playlist),e.Items){var o=[];_.each(e.Items,function(e){o.push(Panopto.Core.ServiceInterface.Rest.Objects.Session(e))}),t.items=o}return t},function(e){var t,o,n;t=e.ServiceInterface||(e.ServiceInterface={}),o=t.Objects||(t.Objects={}),n=function(){function e(e){this.periodStartDate=moment.utc(e.PeriodStartDate).toDate(),this.periodEndDate=moment.utc(e.PeriodEndDate).toDate(),this.deliveredSummary=e.DeliveredSummary?new o.QuotaSummary(e.DeliveredSummary):void 0,this.storedSummary=e.StoredSummary?new o.QuotaSummary(e.StoredSummary):void 0}return e.prototype.getUsedStoredHours=function(){return moment.duration(this.storedSummary.valueSummary.sumTotal,"seconds").asHours()},e.prototype.getMaxStoredHours=function(){return moment.duration(this.storedSummary.modifierSummary.sumTotal,"seconds").asHours()},e.prototype.storedQuotaExceeded=function(){return this.getUsedStoredHours()>=this.getMaxStoredHours()},e.prototype.getUsedDeliveredHours=function(){return moment.duration(this.deliveredSummary.valueSummary.sumTotal,"seconds").asHours()},e.prototype.getMaxDeliveredHours=function(){var e=this.deliveredSummary.modifierSummary.sumBase+this.deliveredSummary.modifierSummary.sumRollover+this.deliveredSummary.modifierSummary.sumReferral;return moment.duration(e,"seconds").asHours()},e.prototype.deliveredQuotaExceeded=function(){return this.getUsedDeliveredHours()>=this.getMaxDeliveredHours()},e}(),o.QuotaDataByPeriod=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.ServiceInterface||(e.ServiceInterface={}),o=t.Objects||(t.Objects={}),n=function(e){this.activePeriod=e.ActivePeriod?new o.QuotaDataByPeriod(e.ActivePeriod):void 0,this.lastPeriod=e.LastPeriod?new o.QuotaDataByPeriod(e.LastPeriod):void 0},o.QuotaDetail=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.ServiceInterface||(e.ServiceInterface={}),o=function(e){this.sumBase=e.SumBase,this.sumRollover=e.SumRollover,this.sumReferral=e.SumReferral,this.sumTotal=e.SumTotal},(t.Objects||(t.Objects={})).QuotaModifierSummary=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o;t=e.ServiceInterface||(e.ServiceInterface={}),o=function(e){this.id=e.Id,this.name=e.Name,this.totalSeconds=e.TotalSeconds,this.sessionWasDeleted=e.SessionWasDeleted},(t.Objects||(t.Objects={})).QuotaSession=o}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.ServiceInterface||(e.ServiceInterface={}),o=t.Objects||(t.Objects={}),n=function(e){this.modifierSummary=e.ModifierSummary?new o.QuotaModifierSummary(e.ModifierSummary):void 0,this.valueSummary=e.ValueSummary?new o.QuotaValueSummary(e.ValueSummary):void 0},o.QuotaSummary=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.ServiceInterface||(e.ServiceInterface={}),o=t.Objects||(t.Objects={}),n=function(e){this.secondsByDay=e.SecondsByDay,this.sumTotal=e.SumTotal,this.topSessions=e.TopSessions?_.map(e.TopSessions,function(e){return new o.QuotaSession(e)}):[]},o.QuotaValueSummary=n}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.RecorderQuestion=function(e){return{user:e.UserName,text:e.Data,time:e.AbsoluteTime}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.recorderScheduleEntry=function(e){var i={id:e.Id,name:e.Name,typeName:e.TypeName,isPrimaryRecorder:e.IsPrimaryRecorder,ownerId:e.OwnerId,recorderId:e.RecorderId,sessionId:e.SessionId,startTime:moment(e.StartTime).toDate(),duration:e.Duration,toModel:function(){return{Id:i.id,Name:i.name,TypeName:i.typeName,IsPrimaryRecorder:i.isPrimaryRecorder,OwnerId:i.ownerId,RecorderId:i.recorderId,SessionId:i.sessionId,StartTime:i.startTime,Duration:i.duration}},isCurrentlyRecording:function(){var e=+new Date;return e-i.startTime<1e3*i.duration&&i.startTime<e},currentUserHasWriteAccess:function(){return i.sessionId!==Panopto.Core.Constants.EmptyGuid},save:function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries.save(i,e,t,o,n)},updateDuration:function(e,t,o,n,r){i.duration=e,i.save(t,o,n,r)},getSession:function(e,t,o){Panopto.Core.ServiceInterface.Rest.Sessions.getOne(i.sessionId,e,t,o)}};return i},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.RemoteRecorder=function(e){var t={id:e.Id,name:e.Name,toRestRemoteRecorder:function(){return Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorder({ID:t.id,Name:t.name})}};return t},Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorderQualitySetting=function(e){return{audioBitrate:e.AudioBitrate,frameRate:e.Framerate,mulipleBitrateCount:e.MulipleBitrateCount,pixelCount:e.PixelCount,videoBitrate:e.VideoBitrate}},Panopto.Core.ServiceInterface.Rest.Objects.RecordingDevice=function(e){var t={audioPreviewUrl:e.AudioPreviewUrl,id:e.DeviceId,height:e.Height,lastPreviewUpdate:moment(e.LastPreviewUpdateDateTime).toDate(),name:e.Name,record:e.Record,type:e.Type,videoPreviewUrl:e.VideoPreviewUrl,width:e.Width,missingData:e.MissingData,shouldBePreviewed:function(){return!!t.videoPreviewUrl&&t.record&&(t.type===Panopto.Core.DeviceMediaType.DV||t.type===Panopto.Core.DeviceMediaType.HDV||t.type===Panopto.Core.DeviceMediaType.Video||t.type===Panopto.Core.DeviceMediaType.Screen)}};return t},Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorder=function(e){var h=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return h.devices=_.map(e.Devices,Panopto.Core.ServiceInterface.Rest.Objects.RecordingDevice),h.id=e.Id,h.lastConnection=new Date(e.LastConnectionDateTime),h.name=Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.Name),h.nextRecording=new Date(e.NextRecordingDateTime),h.primaryAudioDeviceId=e.PrimaryAudioDeviceId,h.primaryRecordingQualitySettings=e.primaryRecordingQualitySettings?Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorderQualitySetting(e.PrimaryRecordingQualitySettings):null,h.primaryVideoDeviceId=e.PrimaryVideoDeviceId,h.recordingType=e.RecordingType,h.secondaryRecordingQualitySettings=e.secondaryRecordingQualitySettings?Panopto.Core.ServiceInterface.Rest.Objects.RemoteRecorderQualitySetting(e.SecondaryRecordingQualitySettings):null,h.state=e.State,h.version=e.Version,h.timeZoneDisplayInfo=e.TimeZoneDisplayInfo?Panopto.Core.ServiceInterface.Rest.Objects.TimeZoneDisplayInfo(e.TimeZoneDisplayInfo):null,h.typeName=e.typeName||Panopto.Core.ServiceInterface.Rest.Objects.TypeName.RemoteRecorder,h.toModel=function(){return{Id:h.id,Name:h.name,TypeName:h.typeName,TimeZoneDisplayInfo:h.timeZoneDisplayInfo?h.timeZoneDisplayInfo.toModel():void 0}},h.getScheduleEntries=function(e,t,o){Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries.getRecorderScheduleEntries({endTimeAfter:(new Date).toISOString(),recorderId:h.id},e,t,o)},h.updateTimeZone=function(e,t,o){Panopto.Core.ServiceInterface.Rest.RemoteRecorders.updateTimeZone(h,e,t,o)},h.updateLastAccessed=function(e,t,o){Panopto.Core.ServiceInterface.Rest.RemoteRecorders.updateLastAccessed(h.id,e,t,o)},h.getConflicts=function(o,n,e,t){h.getScheduleEntries(function(e){var t=new Date;n(_.chain(e).sortBy("startTime").filter(function(e){return e.startTime<=o&&e.startTime>t}).value())},e,t)},h.getNextScheduledEntry=function(o,e,t){h.getScheduleEntries(function(e){var t=new Date;o(_.chain(e).sortBy("startTime").find(function(e){return e.startTime>=t}).value())},e,t)},h.getCurrentScheduledEntry=function(t,e,o){h.getScheduleEntries(function(e){t(_.find(e,function(e){return e.isCurrentlyRecording()}))},e,o)},h.isPreviewable=function(e){return h.state===Panopto.Core.RemoteRecorderState.Previewing||h.state===Panopto.Core.RemoteRecorderState.Recording||h.state===Panopto.Core.RemoteRecorderState.Paused||!!e&&h.state===Panopto.Core.RemoteRecorderState.Disconnected},h.isPreviewCensored=function(){var e=h.getPrimaryAudio();return h.isPreviewable()&&e&&!e.audioPreviewUrl&&!h.accessRoleTypes.Preview},h.getPrimaryVideo=function(){return _.findWhere(h.devices,{id:h.primaryVideoDeviceId})},h.getPrimaryAudio=function(){return _.findWhere(h.devices,{id:h.primaryAudioDeviceId})},h.defaultSessionTitle=function(){var e=moment();return PanoptoTS.StringHelpers.format("{0} {1} {2}",h.name,e.format("l"),e.format("LT"))},h.isRecording=function(){return h.state===Panopto.Core.RemoteRecorderState.Recording},h.startNewRecording=function(e,a,s,c,t,l){var o,n,r,i,d=e.title,u=e.folderId,p=e.isWebcast,f=e.duration,m=e.startTime||new Date;o=function(e){var t,o,n,r,i;t=e,o=s,n=c,r=l,i=Panopto.Core.ServiceInterface.Rest.Objects.recorderScheduleEntry({Name:t.name,TypeName:"RecorderScheduleEntry",StartTime:m,Duration:f,IsPrimaryRecorder:!0,RecorderId:h.id,SessionId:t.id}),Panopto.Core.ServiceInterface.Rest.RecorderScheduleEntries.save(i,a,o,n,r)},n=t,i=Panopto.Core.ServiceInterface.Rest.Objects.Session({Name:d,TypeName:"Session",IsWebcast:p,Parent:{Id:u,TypeName:"Folder"}}),Panopto.Core.ServiceInterface.Rest.Sessions.create(i,o,n,r)},h},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.RestColumns=function(e){return e.GroupColumns=["Name","OwnerName","MemberCount","ProviderName","ProviderId"],e}(Panopto.Core.ServiceInterface.Rest.Objects.RestColumns||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.ResultCode=function(e){return e.Success=0,e.NotFound=1,e.InvalidSource=2,e.InvalidPagingParameters=3,e.InvalidFilter=4,e.Unauthorized=5,e.InvalidMethod=6,e.InternalError=7,e.InvalidIncludeOptions=8,e.InvalidContext=9,e.PreconditionFailed=10,e.PreconditionRequired=11,e.AlreadyExists=12,e}(Panopto.Core.ServiceInterface.Rest.Objects.ResultCode||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.BatchResult=function(e,t){return t=t||function(e){return e},{succeeded:_.map(e.Succeeded,t),failed:_.map(e.Failed,function(e){return Panopto.Core.ServiceInterface.Rest.Objects.FailedItem(e,t)})}},Panopto.Core.ServiceInterface.Rest.Objects.FailedItem=function(e,t){return t=t||function(e){return e},{message:e.Message,resultCode:e.ResultCode,source:e.Source?t(e.Source):null}},Panopto.Core.ServiceInterface.Rest.Objects.RepositoryItemResult=function(e,t){return t=t||function(e){return e},{message:e.Message,resultCode:e.ResultCode,data:t(e.Data)}},Panopto.Core.ServiceInterface.Rest.Objects.PagingResponse=function(e,t,o){return{results:_.map(e,o),hasMorePages:"true"===(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.HasMorePagesKey)||"").toLowerCase(),totalCount:parseInt(t.getResponseHeader(Panopto.Core.ServiceInterface.Rest.Api.ResponseCountKey)||"0",10)}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.TaskState={WaitingForData:1,Unprocessed:0,PullingDataFromServer:8,Processing:2,Transferring:3,Failure:4,Complete:5,Delete:6,PermanentFailure:7,Cancelled:9},Panopto.Core.ServiceInterface.Objects.ServiceTaskTypes={Export:"4f783e75-8042-4d4c-9f95-9866ffafeb25",Merge:"f4622532-bc67-4e91-b98a-3a86abfcaee5",Copy:"1b535a55-869f-4571-8f03-6e75d84ed2de",MachineTranscription:"7af9ac6a-c412-42f9-a8a3-2ca8d845c7d9",MachineTranscription2:"812f640a-d95c-4a14-a13c-bac3c4f9197e",MachineTranscription3:"de1cca53-2476-4723-a9f6-820378ca3066",HumanTranscription:"32ea191b-2718-4fa0-9b94-433755e61c9b",TabletEncode:"027EAD9C-4A94-404D-BD72-45A3EBE6153E",BulkProvisioning:"62BA48F8-D1C5-4FB6-89C1-955D162C455F",UnisonEncode:"e5c27568-406a-4ae7-850f-63923ddbf8e9",UnisonPackaging:"C1776EA1-F296-4C5F-8A3D-77B109DB5F72",DeleteEncodings:"7974E568-E758-4D17-AEC6-10E3ED24512D",SlidePackaging:"569B1050-C57D-4917-B693-61973422F45A",MediaPackaging:"03475304-E5DE-4EBB-AC02-04B011013A8D",PodcastEncode:"56222A4D-6DBE-4607-9652-FDD94C7544D7",ViewerEncode:"79C49367-5B50-4DF3-9975-C81A64C3E786",FastPathViewerEncode:"6FC8AFFF-6D99-4A27-A7DC-83972A115CD2",DeleteUpload:"2BBD2E12-8B76-4E87-B9AA-131C19242C4A",TransferUpload:"0D3A8483-5CD7-4B5C-9081-39783DFC6B65",SendEmail:"B99C68F0-98C5-4f17-B443-6ED22EBD7C18",LegacyRecorderUpload:"4653131B-3AA3-4D65-97ED-472637C91F91",DeleteSessionFiles:"06367CAE-3850-4C86-8DB2-10171E7A33F2",BulkCopyFolderToSite:"E9DA9CD7-3DA1-40E8-8400-C756BC989098",ExternalContextsForUser:"9A30716D-6886-4EC6-AE24-C3F6ED37A8B2",CompleteUpload:"C6572C65-1670-4A4C-B162-3D3A72889B09",EmbedTranscript:"7886EBFE-FABB-4D4E-A2FF-C9073739C644",ConvertToOnDemand:"65739A5A-08BE-448A-BAB3-1914AD21D0C6",DeleteBroadcastFiles:"68A9ABA2-2BC8-4727-852D-39C24AE95D63",TranscriptionPodcastEncode:"F5E1964F-AE73-46D3-94FF-A976016CBFCB"},Panopto.Core.ServiceInterface.Objects.ServiceTaskResourceMapping=function(e){var t=function(e,t,o){return _.contains(t,e.taskName)&&_.contains(o,e.subState)},o={CommonTask_CheckedOutForProcessing:-1,CommonTask_TransferringFilesToTaskProcessor:-2,CommonTask_TransferringFilesToTaskProcessorFailed:-3,CommonTask_PerformingCoreProcessing:-4,CommonTask_PerformingCoreProcessingFailed:-5,CommonTask_PublishingTaskProcessingResults:-6,CommonTask_PublishingTaskProcessingResultsFailed:-7,CommonTask_ParsingServiceTaskDataFailed:-8,CommonTask_PublishingServiceTaskFile:-9,CommonTask_PublishingServiceTaskFileFailed:-10,CommonTask_TaskTimeOutDetected:-11,CommonTask_GraphHungWhileProcessingSourceContent:-100,CommonTask_PowerPointInitializationFailure:-200,CommonTask_PowerPointFileLoadFailure:-201,CommonTask_PowerPointImageExtractionFailure:-202,CommonTask_PowerPointTextExtractionFailure:-203},n={MergeTask_CreateRequested:1,MergeTask_CreateStreamRename:2,MergeTask_CreateEventTargetRename:3,MergeTask_CopyDataContentFailure:4,MergeTask_CopyWebContentFailure:5},r={CopyTask_CreateRequested:1,CopyTask_CopyDataContentFailure:2,CopyTask_CopyWebContentFailure:3},i={UnisonTask_PrimaryImportContainsNoAudioStream:1,UnisonTask_SecondaryImportContainsNoVideoStream:2,UnisonTask_CorruptOrInvalidInputFile:3,UnisonTask_SourceResolutionOutOfRange:4,UnisonTask_OutputFileNotFound:5,UnisonTask_EncodeFailed:6},a={ExportTask_ArchiveXMLCreationFailure:1,ExportTask_MoveWebContentFailure:2,ExportTask_MoveDataContentFailure:3,ExportTask_RemoteExportCopyLocalFailure:4,ExportTask_RemoteExportArchivingFailure:5,ExportTask_RemoteExportArchiveCopyFailure:6},s={DeleteSessionFilesTask_DeleteWebContentFailure:1,DeleteSessionFilesTask_DeleteDataContentFailure:2};return t(e,["Export","Merge","Copy","MachineTranscription","MachineTranscription2","MachineTranscription3","HumanTranscription","TabletEncode","BulkProvisioning","UnisonEncode","UnisonPackaging","DeleteEncodings","SlidePackaging","MediaPackaging","PodcastEncode","ViewerEncode","FastPathViewerEncode","DeleteUpload","TransferUpload","SendEmail","LegacyRecorderUpload","DeleteSessionFiles","BulkCopyFolderToSite","ExternalContextsForUser","EmbedTranscript","ConvertToOnDemand","DeleteBroadcastFiles","CompleteUpload","TranscriptionPodcastEncoding"],o)?_.invert(o)[e.subState]:t(e,["Merge"],n)?_.invert(n)[e.subState]:t(e,["Copy"],r)?_.invert(r)[e.subState]:t(e,["UnisonEncode","UnisonPackaging"],i)?_.invert(i)[e.subState]:t(e,["Export"],a)?_.invert(a)[e.subState]:t(e,["DeleteSessionFiles"],s)?_.invert(s)[e.subState]:e.subState},Panopto.Core.ServiceInterface.Objects.DeliveryStatus=function(e){return{id:e.Key,status:e.Value}},Panopto.Core.ServiceInterface.Objects.ServiceTaskStatus=function(e){return{id:e.ID,relatedDeliveryID:e.RelatedDeliveryID,sessionID:e.SessionID,sourceFilename:e.SourceFilename,state:e.State,subState:e.SubState,progress:e.Progress,taskName:e.ServiceTaskTypeShortName,updatedDate:e.UpdatedDate,isError:function(){return this.state===Panopto.Core.ServiceInterface.Objects.TaskState.Failure||this.state===Panopto.Core.ServiceInterface.Objects.TaskState.PermanentFailure},isComplete:function(){return this.state===Panopto.Core.ServiceInterface.Objects.TaskState.Complete},isProcessing:function(){return this.state===Panopto.Core.ServiceInterface.Objects.TaskState.Processing}}},Panopto.Core.ServiceInterface.Objects.ServiceTaskQuery=function(e){return{Filters:{SessionIDs:e.filters.sessionIDs||[],DeliveryIDs:e.filters.deliveryIDs||[],IncludeDeliverySession:e.filters.includeDeliverySession||!1,ServiceTaskTypeIDs:e.filters.serviceTaskTypeIDs||[],MostRecentServiceTaskTypeIDs:e.filters.mostRecentServiceTaskTypeIDs,TaskStates:e.filters.taskStates||[]}}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.Session=function(e){return{deliveryId:e.Id,sessionId:e.SessionId,name:e.Name,description:e.Description,date:Panopto.Core.TimeHelpers.dateToWin32EpochTime(moment(e.StartTime).toDate()),duration:e.Duration,thumbUrl:e.ThumbUrl?Panopto.Core.ServiceInterface.baseUrl+e.ThumbUrl.substring(e.ThumbUrl.indexOf("/",1)):null,state:e.State,creatorId:e.CreatorId,statusMessage:e.StatusMessage,viewerUrl:e.ViewerUrl,editorUrl:e.EditorUrl,viewable:e.State===Panopto.Core.ServiceInterface.Objects.SessionState.Complete,folder:{id:e.FolderId}}},Panopto.Core.ServiceInterface.Objects.SessionState=function(e){return e.Created=0,e.Scheduled=1,e.Recording=2,e.Broadcasting=3,e.Processing=4,e.Complete=5,e}(Panopto.Core.ServiceInterface.Objects.SessionState||{}),Panopto.Core.ServiceInterface.Rest.Objects.Session=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id||e.id,t.name=e.Name||e.name,t.viewerUri=e.ViewerUri||e.viewerUri,t.embedViewerTag=e.EmbedViewerTag||e.embedViewerTag,t.typeName=e.TypeName||e.typeName,t.isWebcast=e.IsWebcast||e.isWebcast,t.description=e.Description||e.description,t.status="number"==typeof e.Status?e.Status:e.status,t.startTime=moment(e.StartTime).toDate()||e.startTime,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.thumbUrl=e.ThumbUrl||e.thumbUrl,t.presenterFirstNames=e.PresenterFirstNames||e.presenterFirstNames,t.presenterLastNames=e.PresenterLastNames||e.presenterLastNames,t.mostRecentViewTime=e.MostRecentViewTime?moment(e.MostRecentViewTime).toDate():e.mostRecentViewTime,t.isDeleted=void 0!==e.IsDeleted?e.IsDeleted:e.isDeleted,t.isPlaylist=void 0!==e.IsPlaylist?e.IsPlaylist:e.isPlaylist,t.referencedSessions=[],_.each(e.ReferencedSessions,function(e){t.referencedSessions.push(new PanoptoTS.Core.ServiceInterface.Rest.Objects.SessionReference(e))}),t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null,IsWebcast:t.isWebcast,Description:t.description,DefaultThumbnailTime:t.defaultThumbnailTime,IsPlaylist:t.isPlaylist}},t.toSessionRow=function(){return{DeliveryID:t.id,Duration:t.duration,PresenterFirstNames:t.presenterFirstNames,PresenterLastNames:t.presenterLastNames,SessionName:t.name,Status:t.status,StartTime:t.startTime,ViewerUrl:t.viewerUri,ThumbUrl:t.thumbUrl,FolderID:t.parent&&t.parent.id,FolderName:t.parent&&t.parent.name,TypeName:t.typeName}},t},Panopto.Core.ServiceInterface.Rest.Objects.Session.fromSessionRow=function(e){return Panopto.Core.ServiceInterface.Rest.Objects.Session({Id:e.DeliveryID,Name:Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(e.SessionName),ViewerUri:e.ViewerUrl,IsPlaylist:e.PlayableObjectType===Panopto.Core.PlayableObjectType.Playlist,TypeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session,IsDeleted:e.IsDeleted})},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SessionAccessItem=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects.AccessItem(e);return t.id=e.Id,t.name=e.Name,t.viewerUri=e.ViewerUri,t.embedViewerTag=e.EmbedViewerTag,t.typeName=e.TypeName,t.isWebcast=e.IsWebcast,t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,Parent:t.parent?t.parent.toModel():null,IsWebcast:t.isWebcast}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SessionChangeSet=function(e){var t=Panopto.Core.ServiceInterface.Rest.Objects,n={};return n.id=e.id||e.Id,n.sessionId=e.sessionId||e.SessionId,n.cutsToReplace=e.cutsToReplace||_.map(e.CutsToReplace,t.Cut),n.streamsToUpdate=e.streamsToUpdate||_.map(e.StreamsToUpdate,t.Stream),n.slideDecksToDelete=e.slideDecksToDelete||_.map(e.SlideDecksToDelete,t.SlideDeck),n.eventsToAdd=e.eventsToAdd||_.map(e.EventsToAdd,t.Event),n.eventsToUpdate=e.eventsToUpdate||_.map(e.EventsToUpdate,t.Event),n.eventsToDelete=e.eventsToDelete||_.map(e.EventsToDelete,t.Event),n.questionListRevisions=e.questionListRevisions||_.map(e.QuestionListRevisions,function(e){var t=new AutoClientModels.QuestionList;return t.fromRestQuestionList(e),t}),n.questionListIdsToDelete=e.questionListIdsToDelete||e.QuestionListIdsToDelete,n.streamChanges=e.streamChanges||(new AutoClientModels.StreamChanges).fromRestStreamChanges(e.StreamChanges||{}),n.sessionReferences=e.sessionReferences||(new AutoClientModels.SessionReferenceChanges).fromRestSessionReferenceChanges(e.SessionReferences||{}),n.updateDate=e.updateDate||moment.utc(e.UpdateDate).toDate(),n.ownerName=e.ownerName||e.OwnerName,n.ownerId=e.ownerId||e.OwnerId,n.toModel=function(){var e=function(e){return e.toModel()},t=new AutoRestModels.SessionReferenceChanges;t.fromClientSessionReferenceChanges(n.sessionReferences);var o=new AutoRestModels.StreamChanges;return o.fromClientStreamChanges(n.streamChanges),{Id:n.id,SessionId:n.sessionId,CutsToReplace:_.map(n.cutsToReplace,e),StreamsToUpdate:_.map(n.streamsToUpdate,e),SlideDecksToDelete:_.map(n.slideDecksToDelete,e),EventsToAdd:_.map(n.eventsToAdd,e),EventsToUpdate:_.map(n.eventsToUpdate,e),EventsToDelete:_.map(n.eventsToDelete,e),QuestionListRevisions:_.map(n.questionListRevisions,function(e){var t=new AutoRestModels.QuestionList;return t.fromClientQuestionList(e),t}),QuestionListIdsToDelete:n.questionListIdsToDelete,StreamChanges:o,SessionReferences:t}},n},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SessionList=function(e){var t={};return t.id=e.id||e.Id,t.name=e.name||e.Name,t.items=e.items,t.typeName=e.typeName||e.TypeName,t.updateDate=e.updateDate||moment.utc(e.UpdateDate).toDate(),t.specialType=void 0!==e.specialType?e.specialType:e.SpecialType,!t.items&&e.Items&&(t.items=_.map(e.Items,Panopto.Core.ServiceInterface.Rest.Objects.Session)),t.toModel=function(){return{Id:t.id,Name:t.name,TypeName:t.typeName,SpecialType:t.specialType}},t},function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.ServiceInterface||(t.ServiceInterface={}),n=o.Rest||(o.Rest={}),r=n.Objects||(n.Objects={}),i=function(){function n(e){this.referencedSessionId=e.ReferencedSessionId||e.referencedSessionId,this.referencedSessionDuration="number"==typeof e.ReferencedSessionDuration?e.ReferencedSessionDuration:e.referencedSessionDuration,this.start="number"==typeof e.Start?e.Start:e.start,this.order="number"==typeof e.Order?e.Order:e.order,this.repositoryKey=e.RepositoryKey||e.repositoryKey,this.id=e.Id||e.id,this.name=e.Name||e.name,this.typeName=e.TypeName||e.typeName,this.hostSession=e.HostSession?Panopto.Core.ServiceInterface.Rest.Objects.Session(e.HostSession):e.hostSession}return n.prototype.copy=function(e,t){void 0===e&&(e=!0);var o=new n($.extend({},this,t));return o.edited=e,o.streams=this.streams,o.cuts=this.cuts,o.events=this.events,o.slideEvents=this.slideEvents,o.captions=this.captions,o.timelineState=this.timelineState,o},n.prototype.calculateViewerTimes=function(){var t=this;_.each([].concat(this.events||[]).concat(this.slideEvents||[]).concat(this.captions||[]),function(e){e.viewerTime=e.editorTime+t.editorStartTime/Panopto.Core.Constants.TimelineChunkMultiplier})},n.prototype.getTimelineDuration=function(){var e=Panopto.Core.Logic.Timeline.Timeline(this.streams,this.cuts,!0),t=0;return _.each(e.elements(),function(e){e.containsPrimary()&&(t+=e.length())}),t},n}(),r.SessionReference=i}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Slide=function(e){var t={};return t.id=e.Id||e.id,t.name=e.Name||e.name,t.content=e.Content||e.content,t.slideDeckId=e.SlideDeckId||e.slideDeckId,t.slideNumber="number"==typeof e.SlideNumber?e.SlideNumber:e.slideNumber,t.imageUrl=e.ImageUrl||e.imageUrl,t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.SlideDeck=function(e){var t={};return t.id=e.Id||e.id,t.name=e.Name||e.name,t.toModel=function(){return{Id:t.id,Name:t.name}},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.SlideDeck(t)},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.Stream=function(e){var t={};switch(t.id=e.Id||e.id,t.url=e.Url||e.url,t.httpUrl=e.HttpUrl||e.httpUrl,t.absoluteStart="number"==typeof e.AbsoluteStart?e.AbsoluteStart:e.absoluteStart,t.duration="number"==typeof e.Duration?e.Duration:e.duration,t.isPrimary=e.IsPrimary||e.isPrimary,t.thumbnailUrlBase=e.ThumbnailUrlBase||e.thumbnailUrlBase,t.thumbnailInterval=e.ThumbnailInterval||e.thumbnailInterval,t.type="number"==typeof e.Type?e.Type:e.type,t.vrType="number"==typeof e.VRType?e.VRType:e.vrType,t.name=e.Name||e.name,t.type){case Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Audio:t.iconCode=Panopto.Core.Constants.AudioIconCode,t.isAudioOnly=!0;break;case Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Screen:t.iconCode=Panopto.Core.Constants.ScreenIconCode,t.isAudioOnly=!1;break;case Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Camera:default:t.iconCode=Panopto.Core.Constants.ObjectVideoIconCode,t.isAudioOnly=!1}return t.toModel=function(){return{Id:t.id,Url:t.url,HttpUrl:t.httpUrl,AbsoluteStart:t.absoluteStart,Duration:t.duration,IsPrimary:t.isPrimary,Name:t.name,VRType:t.vrType}},t.absoluteEnd=function(){return t.absoluteStart+t.duration},t.copy=function(){return Panopto.Core.ServiceInterface.Rest.Objects.Stream(t)},t},Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType=function(e){return e.Audio=0,e.Screen=1,e.Slide=2,e.Camera=3,e}(Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TimeZoneDisplayInfo=function(e){var t={baseUtcOffset:e.BaseUtcOffset,displayName:e.DisplayName,supportsDST:e.SupportsDST,totalHours:e.TotalHours,toModel:function(){return{DisplayName:t.displayName}}};return t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProvider=function(e){var t={};return t.id=e.id||e.Id,t.providerType=e.providerType||e.ProviderType,t.credentialType=e.credentialType||e.CredentialType,t.companyName=e.companyName||e.CompanyName,t.supportUrl=e.supportUrl||e.SupportUrl,t.isWhiteLabel=e.isWhiteLabel||e.IsWhiteLabel,t.allowSendingFolderName=e.allowSendingFolderName||e.AllowSendingFolderName,t.needsCustomerAccountInfo=e.needsCustomerAccountInfo||e.NeedsCustomerAccountInfo,t.needsCustomerPrivateKey=e.needsCustomerPrivateKey||e.NeedsCustomerPrivateKey,t.needsCustomerUserKey=e.needsCustomerUserKey||e.NeedsCustomerUserKey,t.showInUI=e.showInUI||e.ShowInUI,t.name=e.name||e.Name,t.displayName=e.displayName||e.DisplayName,t.description=e.description||e.Description,t.price=e.price||e.Price,t.toModel=function(){return{Id:t.id,ProviderType:t.providerType,CredentialType:t.credentialType,CompanyName:t.companyName,SupportUrl:t.supportUrl,IsWhiteLabel:t.isWhiteLabel,AllowSendingFolderName:t.allowSendingFolderName,NeedsCustomerAccountInfo:t.needsCustomerAccountInfo,NeedsCustomerPrivateKey:t.needsCustomerPrivateKey,NeedsCustomerUserKey:t.needsCustomerUserKey,ShowInUI:t.showInUI,Name:t.name,DisplayName:t.displayName,Description:t.description,Price:t.price}},t},Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProviderType=function(e){return e.DummyProvider=0,e.Import=1,e.Cielo24Test_Reg=5,e.LegacyAutomaticSyncDeployed=6,e.LegacyAutomaticSyncHosted=7,e.Cielo24Test_Rush=9,e.AutomaticSync_Rush=10,e.ThreePlayMedia_SameDay=12,e.ThreePlayMedia_Rush=13,e.ThreePlayMedia_Expedited=14,e.ThreePlayMedia_Standard=15,e.ThreePlayMedia_Test=16,e.ThreePlayMedia_Extended=17,e.Cielo24_Reg_UserAccount=18,e.Cielo24_Rush_UserAccount=19,e.Cielo24Test_UserAccount=20,e.Cielo24_Critical_UserAccount=21,e.Cielo24_Backlog_UserAccount=22,e.Automatic_Machine_Captioning=23,e.Rev_Reg_UserAccount=24,e.RevTest_UserAccount=25,e.VerbitAi_Reg_UserAcocunt=26,e.VerbitAiTest_Reg_UserAccount=27,e.Panopto_1day_Critical=28,e.Panopto_4day_Extended=29,e.Panopto_2day_Standard=30,e.Panopto_1day_Test_Critical=31,e.Panopto_4day_Test_Extended=32,e}(Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProviderType||{}),Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionCredentialType=function(e){return e.UsernamePassword=1,e.PrivateKey=2,e.UserKey=3,e.None=4,e}(Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionCredentialType||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProviderInstance=function(e){var t={};return t.id=e.id||e.Id,t.provider=e.Provider?Panopto.Core.ServiceInterface.Rest.Objects.TranscriptionProvider(e.Provider):e.provider,t.userKey=e.userKey||e.UserKey,t.username=e.username||e.Username,t.password=e.password||e.Password,t.privateKey=e.privateKey||e.PrivateKey,t.creatorsCanRequest=e.creatorsCanRequest||e.CreatorsCanRequest,t.enabled=e.enabled||e.Enabled,t.sendFolderName=e.sendFolderName||e.SendFolderName,t.name=e.name||e.Name,t.displayName=e.displayName||e.DisplayName,t.havePassword=e.havePassword||e.HavePassword,t.havePrivateKey=e.havePrivateKey||e.HavePrivateKey,t.haveUserKey=e.haveUserKey||e.HaveUserKey,t.toModel=function(){return{Id:t.id,Provider:t.provider,UserKey:t.userKey,Username:t.username,Password:t.password,PrivateKey:t.privateKey,CreatorsCanRequest:t.creatorsCanRequest,Enabled:t.enabled,SendFolderName:t.sendFolderName,Name:t.name,DisplayName:t.displayName}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Rest.Objects.TypeName=function(e){return e.Group="Group",e.User="User",e.Access="Access",e.Folder="Folder",e.FolderAccessItem="FolderAccessItem",e.RemoteRecorder="RemoteRecorder",e.Session="Session",e.SessionAccessItem="SessionAccessItem",e.SessionReference="SessionReference",e.Stream="Stream",e.Cut="Cut",e.Playlist="Playlist",e.PlaylistAccessItem="PlaylistAccessItem",e}(Panopto.Core.ServiceInterface.Rest.Objects.TypeName||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Rest=Panopto.Core.ServiceInterface.Rest||{},Panopto.Core.ServiceInterface.Rest.Objects=Panopto.Core.ServiceInterface.Rest.Objects||{},Panopto.Core.ServiceInterface.Objects.User=function(e){return{id:e.UserId,key:e.UserKey,firstName:e.FirstName,lastName:e.LastName}},Panopto.Core.ServiceInterface.Rest.Objects.User=function(e){var r={};return r.id=e.id||e.Id,r.key=e.key||e.Key,r.name=e.name||e.Name||e.Key,r.email=e.email||e.Email,r.typeName=e.typeName||e.TypeName,r.isExternalSuggestion=function(){return!r.id&&!r.email},r.isInviteRequest=function(){return!r.id&&!!r.email&&r.name&&r.name===r.email},r.joinGroups=function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.Users.joinGroups(r,e,t,o,n)},r.getGroups=function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.Groups.getGroups({MemberId:r.id,page:e},t,o,n)},r.leaveGroup=function(e,t,o,n){Panopto.Core.ServiceInterface.Rest.Groups.removeGroupMember(e,r.id,t,o,n)},r.toModel=function(){return{Id:r.id,Key:r.key,Name:r.name,Email:r.email,TypeName:r.typeName}},r},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.UserAccessDetails=function(e){return{userId:e.UserId}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.ServiceInterface.Objects.ViewerClientLogEntry=function(e){var t={};return t.type="number"==typeof e.Type?e.Type:e.type,t.position="number"==typeof e.Position?e.Position:e.position,t.timestamp=e.Timestamp||e.timestamp,t.detail=e.Detail||e.detail,t.toModel=function(){return{Type:t.type,Position:t.position,Timestamp:t.timestamp,Detail:t.detail}},t},Panopto.Core.ServiceInterface.Objects.ViewerClientLog=function(e){var t={};return t.deliveryParams=e.DeliveryParams||e.deliveryParams,t.entries=_.map(e.Entries||e.entries||[],Panopto.Core.ServiceInterface.Objects.ViewerClientLogEntry),t.toModel=function(){return{DeliveryParams:t.deliveryParams,Entries:_.map(t.entries,function(e){return e.toModel()})}},t},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Accessibility=function(e){e.slider=function(e,o,t){var n=e.find(".ui-slider-handle");n.attr("role","slider"),n.attr("aria-label",t),n.attr("aria-valuemin",e.slider("option","min")),n.attr("aria-valuemax",e.slider("option","max")),n.attr("aria-valuenow",e.slider("option","value")),n.attr("aria-valuetext",o(e.slider("option","value"))),e.bind("slidechange",function(e,t){n.attr("aria-valuenow",t.value),n.attr("aria-valuetext",o(t.value))}),e.mousedown(function(){n.addClass("clicked")}),n.blur(function(){n.removeClass("clicked")}),n.keydown(function(e){33<=e.keyCode&&e.keyCode<=40&&e.stopPropagation()})},e.tab=function(t,e){var o=t.closest("[role=tablist]");return t.attr("role","tab"),t.attr("aria-controls",e[0].id),t.attr("aria-selected",!1),e.attr("role","tabpanel"),e.attr("aria-labelledby",t[0].id),{selected:function(e){(t.attr("aria-selected",e),e)&&(o.find("[role=tab]").attr("tabindex","-1"),t.attr("tabindex","0"))}}},e.checkbox=function(t){t.keydown(function(e){e.keyCode===Panopto.Core.Key.Enter&&t.click()})},e.trapFocus=function(e){m.length||document.addEventListener("focusin",o,!0);var t=m.indexOf(e);-1===t?m.push(e):m.splice(t+1)},e.releaseFocus=function(e){_.contains(m,e)&&m.splice(m.indexOf(e)),m.length||document.removeEventListener("focusin",o,!0)};var p=0,f=1,m=[],o=function(e){var t=_.last(m),o=$(e.target),n=$(e.relatedTarget);if(!o.is(document)&&!o.closest(t).length){var r=h(t),i=C(r,p),a=C(r,f),s=void 0;if(n.length){var c=v(n[0]),l=v(o[0]),d=n[0].compareDocumentPosition(o[0])===Node.DOCUMENT_POSITION_FOLLOWING,u=l!==c?c<l:d;(s=C(r,u?p:f,c)).length||(s=u?i:a)}else s=i;e.stopPropagation(),s.focus()}},h=function(e){return e.find([":tabbable","iframe:visible:not([tabindex^='-'])"].join(","))},v=function(e){return Number(e.getAttribute("tabindex"))||1/0},C=function(e,o,n){var t=$();for(_.isNumber(n)&&(e=e.filter(function(e,t){return o===p?v(t)>n:v(t)<n}));e.length&&(o===p?t=(t=$(_.min(e,v)))[0]===1/0?e.first():t:o===f&&(t=$(_.max(e.get().reverse(),v))),t.is("iframe"));){var r=t[0],i=$();try{var a=h($(r.contentDocument));i=C(a,o)}catch(e){window.console&&console.warn("Trap focus skipping iframe (probably cross-origin.")}if(i.length){t=i;break}e=e.not(t)}return t};return e}(Panopto.Core.UI.Accessibility||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Animations=function(e){return e.zoomInAndFade=function(e,t,o,n,r,i){(i=i||{}).fadeOutDuration=i.fadeOutDuration||350,i.fadeInDuration=i.fadeInDuration||600,i.zoomDuration=i.zoomDuration||450,i.targetsize=i.targetsize||.9,e.fadeOut(i.fadeOutDuration),n.fadeIn(i.fadeInDuration),o.zoomTo({root:t,targetsize:i.targetsize,duration:i.zoomDuration,animationendcallback:function(){r&&r()}})},e.zoomOutAndFade=function(e,t,o,n,r,i){(i=i||{}).fadeInDuration=i.fadeInDuration||400,i.fadeOutDuration=i.fadeOutDuration||250,i.zoomDuration=i.zoomDuration||550,i.targetsize=i.targetsize||.9,e.show().css("opacity",0),o.zoomTo({root:t,targetsize:i.targetsize,duration:50,animationendcallback:function(){e.animate({opacity:1},i.fadeInDuration),n.fadeOut(i.fadeOutDuration),t.zoomTo({root:t,targetsize:1,duration:i.zoomDuration,animationendcallback:function(){r&&r()}})}})},e}(Panopto.Core.UI.Animations||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.BatchHelpers=function(s){return s.errorTemplate=_.template("<div class='batch-error-text' style='display:none;'><div class='batch-error-message'><@= error.message @></div><@ if (error.retry) { @><a class='batch-error-retry' tabindex='0'><@= error.retryText @></a><span class='batch-error-retrying' style='display:none;'><@= error.retryingText @></span><@ } @><@ if (error.cancel) { @><a class='batch-error-cancel' tabindex='0'><@= error.cancelText @></a><@ } @></div>"),s.uploadRowTemplate=_.template("<@ _.each(files, function (file) { @><div class='batch-animate' style='display:none;'><div id='<@= file.Id @>' class='batch-row' tabindex='0'><div class='index-cell'><@= file.Index @></div><div class='processing-cell'></div><div class='check-cell'></div><div class='icon-cell ext-<@- file.Extension @>'></div><div class='name-cell'><input type='text' class='name-input' data-init='<@- file.Name @>' tabindex='0'></input><div class='total-bytes'><@= file.ReadableSize @></div><div class='progress-bar' style='display:none;'></div><div class='status-text ellipsis' style='display:none;'></div></div><div class='upload-action-list' style='display:none;'></div><div class='remove-cell' title='<@= Panopto.GlobalResources.BatchUpload_Remove @>' tabindex='0'></div><div class='spinner-cell' style='display:none;'></div></div></div><@ }); @>"),s.batchRowTemplate=_.template("<@ _.each(batchItems, function (batchItem, index) { @><div class='batch-animate'><div id='<@= batchItem.DeliveryID @>' class='batch-row' tabindex='0'><div class='index-cell'><@= index + 1 @></div><div class='check-cell'></div><div class='name-cell'><div class='name-text ellipsis'><@- Panopto.Core.TextHelpers.cleanTextWithoutHighlighting(batchItem.SessionName) @></div><div class='progress-bar' style='display:none;'></div></div><div class='remove-cell' data-id='<@= batchItem.DeliveryID @>' title='<@= Panopto.GlobalResources.BatchEdit_Remove @>' tabindex='0'></div></div></div><@ }); @>"),s.removeBatchItemRow=function(e,t,o,n){var r=$("#"+e).closest(".batch-animate");r.nextAll(".batch-animate").each(function(e,t){var o=$(t).find(".index-cell");o.text(parseInt(o.text(),10)-1)}),r.animate({height:0,opacity:0},o,function(){r.remove(),n&&n()}),s.removeError(e,o,t)},s.renderFolderVisibility=function(e,t,o,n,r){var i="folderShareLink",a=$("#folderVisibility");r=r?r.replace(/&#39;/g,"'"):"",n=n?n.replace(/&#39;/g,"'"):"",o?(a.html(n.format("<a id='"+i+"' tabindex='0'>"+r+"</a>")),Panopto.Core.UI.Handlers.button($("#"+i),function(){parent.Panopto.Application.defaultInstance.updateState({modalPage:"FolderShare",modalHeader:Panopto.Core.TextHelpers.innerText(t),modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({id:e})})})):a.text(n.format(r))},s.renderError=function(e,t,o,n){var r,i=$("#"+e),a=i.prev(".batch-error-text");t.retryText=t.retryText||Panopto.GlobalResources.BatchHelpers_Retry,t.retryingText=t.retryingText||Panopto.GlobalResources.BatchHelpers_Retrying,t.cancelText=t.cancelText||Panopto.GlobalResources.BatchHelpers_Cancel,i.toggleClass(o,!0,n),i.find(".spinner-cell").hide(),i.find("input").attr("disabled","disabled").toggleClass(o,!0,n),r=s.errorTemplate({error:t}),a.length?(a=a.replaceWith(r),(a=i.prev(".batch-error-text")).show()):(a=i.before(r),(a=i.prev(".batch-error-text")).fadeIn({duration:n,queue:!1}).css("display","none").slideDown(n)),t.retry&&Panopto.Core.UI.Handlers.button(a.find(".batch-error-retry"),function(e){$(e).hide(),a.find(".batch-error-cancel").hide(),a.find(".batch-error-retrying").show(),t.retry()}),t.cancel&&Panopto.Core.UI.Handlers.button(i.prev().find(".batch-error-cancel"),function(){s.removeError(e,n,o),t.cancel()})},s.removeError=function(e,t,o){var n=$("#"+e);if(n.hasClass(o)){n.toggleClass(o,!1,t),n.find("input").removeAttr("disabled").toggleClass(o,!1,t);var r=n.prev(".batch-error-text");r.animate({height:0,opacity:0},t,function(){r.remove()})}},s}(Panopto.Core.UI.BatchHelpers||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Color=function(h){return h.parse=function(e){var t=[{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){var t=parseInt(e[1],16).toString(16);return 1==t.length&&(t="0"+t),e[1],[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=function(e){if(2!=e.length)return!0;var t=parseInt(e,16).toString(16);return 1==t.length&&(t="0"+t),t==e},r=function(e){var t=e.r/255,o=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},i=function(e,t){var o=r(e),n=r(t);return Math.abs((n+.05)/(o+.05))},a=function(n){n.sanitize=function(){this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:Math.round(this.r),this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:Math.round(this.g),this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:Math.round(this.b)},n.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},n.toRGBa=function(e){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"},n.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),o=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==o.length&&(o="0"+o),"#"+e+t+o},n.clone=function(){var e={};return e.r=this.r,e.g=this.g,e.b=this.b,e.ok=this.ok,a(e),e},n.getSafety=function(){var e=n.clone(),t=h.parse("ffffff"),o=i(e,t);if(4.5<=o)return e;for(;o<4.5;)e.r=Math.max(0,Math.floor(.99*e.r)),e.g=Math.max(0,Math.floor(.99*e.g)),e.b=Math.max(0,Math.floor(.99*e.b)),o=i(e,t);return e},n.multiply=function(e){var t={ok:!1};return this.ok&&((t=this.clone()).r=t.r*e,t.g=t.g*e,t.b=t.b*e,t.ok=!0,t.sanitize()),t}},n={ok:!1};"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();for(var s=0,c=t;s<c.length;s++){var l=c[s],d=l.re,u=l.process,p=d.exec(e),f=!/[g-z]/g.test(e);if(p&&o(p[1])&&o(p[2])&&o(p[3])){var m=u(p);n.r=m[0],n.g=m[1],n.b=m[2],n.ok=f}}return a(n),n.sanitize(),n},h}(Panopto.Core.UI.Color||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.Key=Panopto.Core.Key||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Handlers=function(r){var n=Panopto.Core.Constants,i=Panopto.Core.Key;return r.key=function(e,t,o,n){(n=n||{}).keyEvent=n.keyEvent||"keydown",n.preserveExisting||e.unbind(n.keyEvent),e.bind(n.keyEvent,function(e){_.contains(o,e.keyCode)&&(n.allowDefault||e.preventDefault(),n.allowPropagation||e.stopPropagation(),t.call(n.context||e.currentTarget,e.currentTarget,e))})},r.button=function(e,t,o){(o=_.defaults(o||{},{allowDefault:!1,allowDefaultSpaceBar:!1,allowPropagation:!1,pointerEvent:"click",context:void 0,preserveExisting:!1})).preserveExisting||e.unbind(o.pointerEvent+" mousedown blur"),e.on(o.pointerEvent,function(e){o.allowDefault||e.preventDefault(),o.allowPropagation||e.stopPropagation(),t.call(o.context||e.currentTarget,e.currentTarget,e)}),r.key(e,t,[i.Enter].concat(o.allowDefaultSpaceBar?[]:[i.Space]),o),e.mousedown(function(e){return $(e.currentTarget).addClass(n.ClickedClass)}),e.blur(function(e){return $(e.currentTarget).removeClass(n.ClickedClass)})},r.hoverable=function(e,t){e.focus(function(e){return t(e,!0)}).blur(function(e){return t(e,!1)}),e.hover(function(e){t(e,!0)},function(e){t(e,!1)})},r.hoverableParent=function(e,t,o,n){o=o||function(e){t&&t.css("visibility",e?"visible":"hidden")},(n=n||{}).preserveExisting||e.unbind("mouseenter mouseleave focusin focusout"),e.hover(function(){o(!0)},function(){o(!1)}),e.focusin(function(){o(!0)}),r.focusOut(e,function(){o(!1)}),o(!1)},r.noLongerHoverableParent=function(e,t,o){e.unbind("mouseenter mouseleave focusin focusout"),t.css("visibility",o?"visible":"hidden")},r.hoverableChild=function(e,t,o,n){(n=n||{}).preserveExisting||t.unbind("mouseenter mouseleave focus blur"),t.focus(function(){o(!0)}).blur(function(){o(!1)}),t.hover(function(){o(!0)},function(){o(!1)})},r.hoverOrDrag=function(e,t){var o=!1,n=!1;r.captureDrag(e,function(){n=!0},function(){n=!1,o||t(!1)}),r.hoverableParent(e,null,function(e){(o=e)?t(!0):n||t(!1)})},r.captureDrag=function(e,t,o){var n=!1,r=!1;e.mousedown(function(){n=!0}),e.mousemove(function(){n&&!r&&(r=!0,$("body").css("pointer-events","none"),e.css("pointer-events","auto"),t())}),document.addEventListener("mouseup",function(){n=!1,r&&(r=!1,$("body").css("pointer-events",""),e.css("pointer-events",""),o())},!0)},r.focusOut=function(t,o){t.focusout(function(e){e.relatedTarget&&$(e.relatedTarget).closest(t).length||o(e)})},r}(Panopto.Core.UI.Handlers||{}),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=function(){function e(e,t,o,n){this.$input=e,this.cultureCode=t,this.date=o,this.handler=n,this.wrapInput();var r=$.extend({},$.datepicker.regional[t],{showOn:"button",buttonImage:Panopto.cacheRoot+"/Styles/Less/Application/Images/DateFilter/date_icon_calendar.png",buttonImageOnly:!1,showButtonPanel:!0,onClose:this.removeAria,onChangeMonthYear:this.onChangeMonthYear});this.$input.datepicker(r),$(".ui-datepicker-trigger").attr("aria-describedby","datepickerLabel"),this.makeAccessible(),o&&this.$input.datepicker("setDate",o),n&&(this.$input.change(n),Panopto.Core.UI.Handlers.key(this.$input,n,Panopto.Core.Key.Enter,{preserveExisting:!0}))}return e.prototype.makeAccessible=function(){var t=this;$(".ui-datepicker-trigger").unbind("click.accessibledatepicker").bind("click.accessibledatepicker",function(){setTimeout(function(){var e=$(".ui-datepicker-today a")[0];e||(e=$(".ui-state-active")[0]||$(".ui-state-default")[0]),$(".ui-datepicker-calendar").attr("role","presentation"),$("main").attr("id","dp-container"),$("#dp-container").attr("aria-hidden","true"),$("#skipnav").attr("aria-hidden","true"),$(".ui-datepicker-current").hide(),e.focus(),t.datePickHandler(),$(document).on("click","#ui-datepicker-div .ui-datepicker-close",function(){t.closeCalendar()})},0)})},e.prototype.wrapInput=function(){this.$input.wrap('<span class="accessible-datepicker"></span>')},e.prototype.datePickHandler=function(){var s,c=this,l=document.getElementById("ui-datepicker-div");if(l&&this.$input){l.setAttribute("role","application"),l.setAttribute("aria-label","Calendar view date-picker");var d=$(".ui-datepicker-prev",l)[0],u=$(".ui-datepicker-next",l)[0];u.href="javascript:void(0)",d.href="javascript:void(0)",u.setAttribute("role","button"),u.removeAttribute("title"),d.setAttribute("role","button"),d.removeAttribute("title"),this.appendOffscreenMonthText(u),this.appendOffscreenMonthText(d),$(u).on("click",function(){c.handleNextClicks()}),$(d).on("click",function(){c.handleNextClicks()}),this.monthDayYearText(),$(l).on("keydown",function(e){var t=e.which,o=e.target,n=c.getCurrentDate(l);if(n||(n=$("a.ui-state-default")[0],c.setHighlightState(n,l)),27===t)return e.stopPropagation(),c.closeCalendar();if(9===t&&e.shiftKey)e.preventDefault(),$(o).hasClass("ui-datepicker-close")?$(".ui-datepicker-prev")[0].focus():$(o).hasClass("ui-state-default")?$(".ui-datepicker-close")[0].focus():$(o).hasClass("ui-datepicker-prev")?$(".ui-datepicker-next")[0].focus():$(o).hasClass("ui-datepicker-next")&&(s=$(".ui-state-highlight")||$(".ui-state-active")[0])&&s.focus();else if(9===t)e.preventDefault(),$(o).hasClass("ui-datepicker-close")?(s=$(".ui-state-highlight")||$(".ui-state-active")[0])&&s.focus():$(o).hasClass("ui-state-default")?$(".ui-datepicker-next")[0].focus():$(o).hasClass("ui-datepicker-next")?$(".ui-datepicker-prev")[0].focus():$(o).hasClass("ui-datepicker-prev")&&$(".ui-datepicker-close")[0].focus();else if(37===t)!$(o).hasClass("ui-datepicker-close")&&$(o).hasClass("ui-state-default")&&(e.preventDefault(),c.previousDay(o));else if(39===t)!$(o).hasClass("ui-datepicker-close")&&$(o).hasClass("ui-state-default")&&(e.preventDefault(),c.nextDay(o));else if(38===t)!$(o).hasClass("ui-datepicker-close")&&$(o).hasClass("ui-state-default")&&(e.preventDefault(),c.upHandler(o,l,d));else if(40===t)!$(o).hasClass("ui-datepicker-close")&&$(o).hasClass("ui-state-default")&&(e.preventDefault(),c.downHandler(o,l,u));else if(13===t)$(o).hasClass("ui-state-default")?setTimeout(function(){c.closeCalendar()},100):$(o).hasClass("ui-datepicker-prev")?c.handlePrevClicks():$(o).hasClass("ui-datepicker-next")&&c.handleNextClicks();else if(32===t)($(o).hasClass("ui-datepicker-prev")||$(o).hasClass("ui-datepicker-next"))&&o.click();else if(33===t)e.preventDefault(),c.moveOneMonth(o,"prev");else if(34===t)e.preventDefault(),c.moveOneMonth(o,"next");else if(36===t){var r=$(o).closest("tbody").find(".ui-state-default")[0];r&&(r.focus(),c.setHighlightState(r,$("#ui-datepicker-div")[0]))}else if(35===t){var i=$(o).closest("tbody").find(".ui-state-default"),a=i[i.length-1];a&&(a.focus(),c.setHighlightState(a,$("#ui-datepicker-div")[0]))}$(".ui-datepicker-current").hide()})}},e.prototype.closeCalendar=function(){var e=$("#ui-datepicker-div");$(e).off("keydown"),this.$input.datepicker("hide"),this.$input.focus()},e.prototype.removeAria=function(){$("#dp-container").removeAttr("aria-hidden"),$("#skipnav").removeAttr("aria-hidden")},e.prototype.isOdd=function(e){return e%2},e.prototype.moveOneMonth=function(e,t){var n=this,o="next"===t?$(".ui-datepicker-next")[0]:$(".ui-datepicker-prev")[0];if(o){var r="#ui-datepicker-div tbody td:not(.ui-state-disabled)",i=$(r),a=$.inArray(e.parentNode,i);o.click(),setTimeout(function(){n.updateHeaderElements();for(var e=$(r),t=e[a],o=t&&$(t).find("a")[0];!o&&0<=a;)o=(t=e[--a])&&$(t).find("a")[0];n.setHighlightState(o,$("#ui-datepicker-div")[0]),o.focus()},0)}},e.prototype.handleNextClicks=function(){var e=this;setTimeout(function(){e.updateHeaderElements(),e.prepHighlightState(),$(".ui-datepicker-next").focus(),$(".ui-datepicker-current").hide()},0)},e.prototype.handlePrevClicks=function(){var e=this;setTimeout(function(){e.updateHeaderElements(),e.prepHighlightState(),$(".ui-datepicker-prev").focus(),$(".ui-datepicker-current").hide()},0)},e.prototype.previousDay=function(e){var t=document.getElementById("ui-datepicker-div");if(e){var o=$(e).closest("td");if(o){var n=$(o).prev(),r=$("a.ui-state-default",n)[0];n&&r?(this.setHighlightState(r,t),r.focus()):this.handlePrevious(e)}}},e.prototype.handlePrevious=function(e){var t=this,o=document.getElementById("ui-datepicker-div");if(e){var n=$(e).closest("tr");if(n){var r=$(n).prev();if(r&&0!==r.length){var i=$("td a.ui-state-default",r),a=i[i.length-1];a&&setTimeout(function(){t.setHighlightState(a,o),a.focus()},0)}else this.previousMonth()}}},e.prototype.previousMonth=function(){var n=this,e=$(".ui-datepicker-prev")[0],r=document.getElementById("ui-datepicker-div");e.click(),setTimeout(function(){var e=$("tr",r),t=$("td a.ui-state-default",e[e.length-1]),o=t[t.length-1];n.updateHeaderElements(),n.setHighlightState(o,r),o.focus()},0)},e.prototype.nextDay=function(e){var t=document.getElementById("ui-datepicker-div");if(e){var o=$(e).closest("td");if(o){var n=$(o).next(),r=$("a.ui-state-default",n)[0];n&&r?(this.setHighlightState(r,t),r.focus()):this.handleNext(e)}}},e.prototype.handleNext=function(e){var t=document.getElementById("ui-datepicker-div");if(e){var o=$(e).closest("tr"),n=$(o).next();if(n&&0!==n.length){var r=$("a.ui-state-default",n)[0];r&&(this.setHighlightState(r,t),r.focus())}else this.nextMonth()}},e.prototype.nextMonth=function(){var t=this,e=$(".ui-datepicker-next")[0],o=document.getElementById("ui-datepicker-div");e.click(),setTimeout(function(){t.updateHeaderElements();var e=$("a.ui-state-default",o)[0];t.setHighlightState(e,o),e.focus()},0)},e.prototype.upHandler=function(l,d,e){var u=this;e=$(".ui-datepicker-prev")[0];var t=$(l).closest("tr");if(t){var p=$("td",t),o=$("a.ui-state-default",t),n=$.inArray(l,o),r=$(t).prev(),i=$("td",r)[n],a=$("a.ui-state-default",i)[0];r&&i&&a?(this.setHighlightState(a,d),a.focus()):(e.click(),setTimeout(function(){u.updateHeaderElements();var e=$("tr",d),t=e[e.length-1],o=$("td",t),n=$.inArray(l.parentNode,p),r=o[n],i=$("a.ui-state-default",r)[0];if(t&&r&&i)u.setHighlightState(i,d),i.focus();else{var a=e[e.length-2],s=$("td",a)[n],c=$("a.ui-state-default",s)[0];c&&(u.setHighlightState(c,d),c.focus())}},0))}},e.prototype.downHandler=function(e,a,t){var s=this;t=$(".ui-datepicker-next")[0];var o=$(e).closest("tr");if(o){var n=$("td",o),c=$.inArray(e.parentNode,n),r=$(o).next(),i=$("td",r)[c],l=$("a.ui-state-default",i)[0];r&&i&&l?(this.setHighlightState(l,a),l.focus()):(t.click(),setTimeout(function(){s.updateHeaderElements();var e=$("tbody tr",a),t=$("td",e[0])[c],o=$("a.ui-state-default",t)[0];if(t&&o)s.setHighlightState(o,a),o.focus();else{var n=e[1],r=$("td",n)[c],i=$("a.ui-state-default",r)[0];n&&i&&(s.setHighlightState(i,a),i.focus())}},0))}},e.prototype.onCalendarHide=function(){this.closeCalendar()},e.prototype.monthDayYearText=function(){var t=this,u=document.getElementById("ui-datepicker-div");if(u){var e=$("a.ui-state-default",u);$(e).attr("role","button").on("keydown",function(e){32===e.which&&(e.preventDefault(),e.target.click(),setTimeout(function(){t.closeCalendar()},100))}),$(e).each(function(e,t){var o=$(t).closest("tr"),n=$("td",o),r=$.inArray(t.parentNode,n),i=$("thead tr th",u)[r],a=$("span",i)[0],s=$(".ui-datepicker-month",u)[0].innerHTML,c=$(".ui-datepicker-year",u)[0].innerHTML,l=t.innerHTML;if(a&&s&&l&&c){var d=a.title+" "+t.innerHTML+" "+s+" "+c;t.setAttribute("aria-label",d)}})}},e.prototype.updateHeaderElements=function(){var e=this,t=document.getElementById("ui-datepicker-div");if(t){var o=$(".ui-datepicker-prev",t)[0],n=$(".ui-datepicker-next",t)[0];n.href="javascript:void(0)",o.href="javascript:void(0)",n.setAttribute("role","button"),o.setAttribute("role","button"),this.appendOffscreenMonthText(n),this.appendOffscreenMonthText(o),$(n).on("click",function(){e.handleNextClicks()}),$(o).on("click",function(){e.handlePrevClicks()}),this.monthDayYearText()}},e.prototype.prepHighlightState=function(){var e,t=document.getElementById("ui-datepicker-div");(e=$(".ui-state-highlight",t)[0]||$(".ui-state-default",t)[0])&&t&&this.setHighlightState(e,t)},e.prototype.setHighlightState=function(e,t){var o=this.getCurrentDate(t);$(o).removeClass("ui-state-highlight"),$(e).addClass("ui-state-highlight")},e.prototype.getCurrentDate=function(e){return $(".ui-state-highlight",e)[0]},e.prototype.appendOffscreenMonthText=function(e){var t,o=$(e).hasClass("ui-datepicker-next"),n=$.datepicker.regional[this.cultureCode],r=null;r=n?n.monthNames.map(function(e){return e.toLowerCase()}):["january","february","march","april","may","june","july","august","september","october","november","december"];var i=$(".ui-datepicker-title .ui-datepicker-month").text().toLowerCase(),a=$.inArray(i.toLowerCase(),r),s=+$(".ui-datepicker-title .ui-datepicker-year").text().toLowerCase(),c=o?a+1:a-1;o&&"december"===i?(s+=1,c=0):o||"january"!==i||(s-=1,c=r.length-1),t=o?"Next Month, "+this.firstToCap(r[c])+" "+s:"Previous Month, "+this.firstToCap(r[c])+" "+s,$(e).find(".ui-icon").html(t)},e.prototype.firstToCap=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.prototype.onChangeMonthYear=function(){setTimeout(function(){$(".ui-datepicker-calendar").attr("role","presentation")},0)},e}(),n.AccessibleDatepicker=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.AccessList=function(e,i,t,o,a){var s,c=o.availableRoles,n=o.accessHeader,l=o.usesReceiverSuggestions,d=o.applicationInstance,u=o.restSpinner,r=t.getAccessList,p=t.getSearchResult,f=_.template("<div class='error'><@= message @></div>"),m=_.template("<option value='<@= roleType @>'><@= roleName @></option>"),h=_.template("<div class='modal-title'><@= resources.title @></div><div class='access-container'><div class='no-results-message modal-setting modal-instructions' style='display: none'><@= resources.noResults @></div><div class='modal-instructions modal-setting access-instructions'><@= resources.instructions @></div><div class='access-table-wrapper' style='display: none'><table class='modal-table compact-table hover-feedback'><thead><tr><th><@= resources.name @></th><th><@ if (accessHeader === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session) { @><@= resources.folder @><@ } else { @><@= resources.role @><@ } @></th><th class='remove-column'></th></tr></thead><tbody class='list-tbody'></tbody></table><div class='error-container error' style='display: none'></div></div><div class='loading-indicator' style='display: none'><@= resources.loading @></div></div><div class='search-container modal-section-break'><div class='access-title'><@= resources.grantDescription @></div><div class='message-list'></div><ul class='access-search'></ul><select class='access-roles' tabindex='0' style='display: none'></select><div class='submit-container' style='display: none'><button class='standard-button branded-button submit'><@= resources.save @></button><button class='standard-button cancel'><@= resources.cancel @></button></div></div>"),v=[];$(h({resources:a,accessHeader:n})).appendTo(e);var C=e.find(".access-table-wrapper"),P=e.find("table"),S=e.find(".list-tbody"),g=e.find(".no-results-message"),y=e.find(".access-instructions"),I=e.find(".error-container"),b=e.find(".message-list"),T=e.find(".access-search"),R=e.find(".submit-container"),w=R.find(".cancel"),A=R.find(".submit"),E=e.find(".access-roles"),M=function(e,n){_.each(e,function(e){var t=l?e.receiver:e.item,s=l?e.receiver.typeName:e.item.typeName,o=$(_.template("<tr class='access-row' data-row-id='<@= access.id @>'><td><@ if (typeName === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User) { @><div class='access-icon user'></div><@ } else if (typeName === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Group) { @><div class='access-icon group'></div><@ } @><@ if (Panopto.user.isAdmin) { @><a data-id='<@= item.id @>'data-name='<@- item.name @>'class='access-link'tabindex='0'title='<@- item.name @>'><@- item.name @></a><@ } else { @><span title='<@- item.name @>'><@- item.name @></span><@ } @></td><td><@ if (typeName === Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session) { @><@- item.parent.name @><@ } else { @><@= roleName @><@ } @></td><td class='remove-column'><@ if (access.isEditable) { @><a title='<@= resources.removeRow @>'data-id='<@= access.id @>'tabindex='0'alt='delete'class='remove-link remove-icon'></a><@ } @></td></tr>")({access:e,item:t,roleName:Panopto.Data.AclRoleType.getDisplayName(e.role),typeName:s,resources:a}));Panopto.Core.UI.Handlers.hoverableParent(o,null,function(e){o.toggleClass("hovering",e)}),o.appendTo(n),Panopto.Core.UI.Handlers.button(n.find(".access-row:last .remove-link"),function(e){confirm(a.confirmRemove)&&function(e){Panopto.leavePageConfirmationMessage=Panopto.GlobalResources.ModalPopup_PossibleUnsavedChanges;var t=$(e).attr("data-id");Panopto.Core.ServiceInterface.Rest.Access.deleteAccess(t,function(){n.find(PanoptoTS.StringHelpers.format("[data-row-id='{0}']",t)).remove(),v=_.reject(v,function(e){return e.id===t}),k()},function(){alert(a.removalError)},u.showUntilComplete(function(){return Panopto.leavePageConfirmationMessage=null}))}(e)}),Panopto.user.isAdmin&&Panopto.Core.UI.Handlers.button(n.find(".access-row:last .access-link"),function(e){var t,o,n,r,i,a;t=e,o=s,n=$(t).attr("data-id"),r=$(t).attr("data-name"),i=o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User?Panopto.Core.StringHelpers.serializeObjectToInitParams({publicId:n}):Panopto.Core.StringHelpers.serializeObjectToInitParams({id:n}),a=o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Folder||o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.FolderAccessItem?"FolderInfo":o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session||o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionAccessItem?"SessionInfo":o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.RemoteRecorder?"RemoteRecorderPreview":o===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User?"UserInfo":"GroupInfo",d.updateState({modalPage:a,modalHeader:r,modalParams:i})})})},k=function(){C.toggle(!!v.length),y.toggle(!!v.length),g.toggle(!v.length)},D=function(){b.empty().hide(),clearTimeout(s)},U=function(e){switch(e){case Panopto.Data.AclRoleType.Viewer:return a.viewer;case Panopto.Data.AclRoleType.Creator:return a.creator;case Panopto.Data.AclRoleType.Publisher:return a.publisher;case Panopto.Data.AclRoleType.Admin:return a.admin}},x=function(){e.find(".access-row").remove(),O.start()},O=Panopto.Core.UI.Components.infiniteScroll(C,C,P.find(".loading-indicator"),r,{onSuccess:function(e,t){v=v.concat(e.results),0===t&&k(),M(e.results,S)},onFailure:function(){C.show(),I.show(),Panopto.Core.UI.Components.renderErrors(I,[a.serverError])},spinner:u.showUntilComplete}),F=Panopto.Core.UI.Components.tagSearch(T,p,{initialPlaceholder:a.initialPlaceholder},{onChange:function(e){R.toggle(!!e),D()}});return 1<c.length&&_.each(c,function(e){$(m({roleType:e,roleName:U(e)})).appendTo(E),E.show()}),Panopto.Core.UI.Handlers.button(w,function(){F.clear()}),Panopto.Core.UI.Handlers.button(A,function(){Panopto.leavePageConfirmationMessage=Panopto.GlobalResources.ModalPopup_PossibleUnsavedChanges;var n=[],r=1<c.length?parseInt(E.val(),10):_.first(c);_.each(F.getModels(),function(e){var t=l?i:e,o=l?e:i;n.push(Panopto.Core.ServiceInterface.Rest.Objects.Access({item:t,receiver:o,role:r}))}),Panopto.Core.ServiceInterface.Rest.Access.batchCreate(n,!1,null,function(e){var t,o;F.clear(),e.succeeded.length&&x(),t=e,o=r,D(),_.each(t.failed,function(e){var t;t="Object already exists"===e.message?String.format(a.redundantError,i.name,U(o),e.source.item.name):e.source&&e.source.item?String.format(a.serverErrorAddingAccess,e.source.item.name):a.internalServerError,$(f({message:t})).appendTo(b)}),t.failed.length&&(b.show(),clearTimeout(s),s=setTimeout(function(){b.fadeOut(Panopto.Core.Constants.FadeOutSpeed,b.empty)},Panopto.Core.Constants.MessageTimeout))},function(){alert(a.errorAddingAccess)},u.showUntilComplete(function(){return Panopto.leavePageConfirmationMessage=null}))}),O.start(),{refresh:x}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.UI.Components=function(e){var y=Panopto.Core.ServiceInterface.Objects,I=y.ApprovalActionType,b=y.ApprovalResult;return e.approvalStatus=function(o,i,e,n,a){var s="data-actionType",c="approval-action",l="instructions",d="ok-button",t="cancel-button",r="<div class='"+l+"'></div><textarea tabindex='0'></textarea><div><a class='"+d+"' tabindex='0'>"+i.ApprovalStatus_OK+"</a><a class='"+t+"' tabindex='0'>"+i.ApprovalStatus_Cancel+"</a></div>",u=e.$container,p=e.$statusText||$(),f=e.$metadata,m=e.$error,h=e.$actions,v=e.$messagePopup,C={},P=function(e,t,o){Panopto.Util.callWebMethod({methodName:e,params:t,onSuccess:function(e){C=y.ApprovalState(e),g(o)},onFailure:function(){C={availableActions:[],result:b.UnknownError},g(o)}})},S=function(e,t){P("UpdateApprovalState",y.ApprovalRequest(o,C.actionId,e,t),void 0)},g=function(e){var t,o,r=[];C.result===b.NoAccess||C.result===b.ApprovalsDisabledForFolder?u.hide():(t=i[PanoptoTS.StringHelpers.format("ApprovalStatus_Status_{0}",_.invert(I)[C.actionType])],o=moment(Panopto.Core.TimeHelpers.toLocalPanoptoTime(C.date,n)).format("LLL"),p.text(C.actionType===I.Cancel?t:i.ApprovalStatus_StatusAndDate.format(t,o)),_.each(I,function(e,t){var o=e===I.Request&&C.actionType===I.Reject;_.contains(C.availableActions,e)&&r.push({type:e,name:i[PanoptoTS.StringHelpers.format("ApprovalStatus_Action_{0}",o?"Resubmit":t)],className:t,requiresMessage:e===I.Reject||o})}),h.html(_.template("<@ _.each(actions, function (action) { @><a class='approval-action <@= action.className @>' data-actionType='<@= action.type @>' tabindex='0'><@= action.name @></a><@ }); @>")({actions:r})),Panopto.Core.UI.Handlers.button(h.find("."+c),function(t){var o,n,e=_.find(r,function(e){return e.type===parseInt($(t).attr(s),10)});e.requiresMessage?(o=e.type,(n=v.find("textarea")).val(""),v.find("."+d).hide(),v.find("."+l).text((o===I.Reject?i.ApprovalStatus_Instructions_Reject:i.ApprovalStatus_Instructions_Resubmit)+":"),h.hide(),v.show(),Panopto.Core.UI.Handlers.button(v.find("."+d),function(){var e=Panopto.Core.TextHelpers.cleanTextWithoutHighlighting($.trim(n.val()));e&&S(o,e)})):S(e.type,void 0)}),C.displayUser=PanoptoTS.StringHelpers.format("{0}: {1}",C.isPublisherAction?i.ApprovalStatus_Role_Publisher:i.ApprovalStatus_Role_Owner,C.username),f.html(_.template("<div class='action-message'><@- state.message @></div><div class='action-user'><@= state.displayUser @></div>")({state:C})),f.toggle(!!C.message),m.text(i[PanoptoTS.StringHelpers.format("ApprovalStatus_Error_{0}",_.invert(b)[C.result])]||""),u.show(),v.hide(),h.show(),C.result!==b.Success||e||a())};v.html(r),Panopto.Core.UI.Handlers.button(v.find("."+t),function(){h.show(),v.hide()}),v.find("textarea").keyup(function(e){var t=Panopto.Core.TextHelpers.cleanTextWithoutHighlighting($.trim($(e.currentTarget).val()));v.find("."+d).toggle(!!t)}),u.hide(),P("GetApprovalState",y.ApprovalRequest(o),!0)},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.carousel=function(e,t){var o,n,r,i,a,s,c=e.find(".left-button"),l=e.find(".right-button"),d=e.find(".carousel"),u=e.find(".viewable-area"),p="not-selectable",f=function(){o=_.reduce(e.find(".selection"),function(e,t){return e+$(t).outerWidth(!0)},2),d.innerWidth(o),n=Math.clamp(o-u.width(),0,o),r=u.innerWidth()/2,i=-n},m=function(){return parseInt(d.css("left"),10)},h=function(){var e=m();l.toggleClass("shown",e!==i),c.toggleClass("shown",0!==e),a=u.offset().left,s=a-n,d.draggable("option","containment",[s,0,a,0])},v=function(e){var t=e?r:-r,o=function(){return d.css("left",Math.clamp(m()+t,i,0))};Panopto.Core.Browser.isCssSupported("transition")?(d.draggable("disable"),o().one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){d.draggable("enable"),d.css("transition","all 0s ease 0s"),h()}).css("transition",".2s")):(o(),h())};return f(),t.onModalResize.push(f),t.onModalResize.push(h),Panopto.Core.UI.Handlers.button(c,function(){v(!0)}),Panopto.Core.UI.Handlers.button(l,function(){v(!1)}),d.draggable({axis:"x",distance:10,start:function(){d.addClass(p)},stop:function(){d.removeClass(p),h()}}),h(),{refresh:function(){f(),h()},isSelectable:function(){return!d.hasClass(p)}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.confirmDialog=function(r,i){var e="confirm-dialog",a="cancel-button";return{open:function(e,t,o,n){n=n||{},t.cancelHandler=t.cancelHandler||$.noop,t.showHandler=t.showHandler||function(){r.show()},t.hideHandler=t.hideHandler||function(){r.hide()},r.html(_.template("<div class='confirm-wrapper'><div class='confirm-dialog'><div class='confirm-content'><@= content @></div><div class='confirm-buttons'><div class='confirm-button ok-button' tabindex='0'><@= okText @></div><div class='confirm-button cancel-button' tabindex='0' style='display:none;'><@= cancelText @></div></div></div></div>")({content:e,okText:n.okText||i.okText,cancelText:n.cancelText||i.cancelText})),r.keydown(function(e){e.stopPropagation()}),r.height(r.parent().height()),Panopto.Core.UI.Handlers.focusOut(r,function(){o?t.cancelHandler():t.okHandler(),t.hideHandler()}),Panopto.Core.UI.Handlers.button(r.find(".ok-button"),function(){t.okHandler(),t.hideHandler()}),o&&(Panopto.Core.UI.Handlers.button(r.find("."+a),function(){t.cancelHandler(),t.hideHandler()}),r.find("."+a).show()),t.showHandler()},$getDialog:function(){return r.find("."+e)}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components.CopyrightNotice=function(o,e,t){var n,r=_.template('\n        <div class ="centered-message">\n            <div id="copyrightNoticeText"></div>\n            <div id="copyrightNoticeTimer"></div>\n        </div>'),i=!1;return o.empty().html(r()).hide(),e&&$("#copyrightNoticeText",o).html(Panopto.Core.TextHelpers.displayLineBreaks(e)),n=new PanoptoTS.Core.UI.Components.RadialTimer($("#copyrightNoticeTimer",o),t,{size:38,fill:"transparent",stroke:"white",strokeWidth:2}),{showNotice:function(t){i||(n.onElapsed(function(){return e=t,i=!1,o.hide(),"function"==typeof e&&e(),!1;var e}),i=!0,o.show(),n.start())},isShowingNotice:function(){return i}}},(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.DateFilter=function(e,t,o,n){n=n||{};var r,i,a=(o=o||{}).startDate||null,s=o.endDate||null,c=o.datepickerOptions||{},l=o.lang,d=n.changedDate||$.noop,u="start-date-text-box",p="end-date-text-box",f=function(){var e,t=r.datepicker("getDate"),o=i.datepicker("getDate");t&&o&&o<t&&(e=t,t=o,o=e,r.datepicker("setDate",t),i.datepicker("setDate",o)),d(t,o)};return e.html(_.template("<div class='date-row'><div class='label'><@= resources.from @></div><input class='start-date-text-box' type='text'/></div><div class='date-row second-row'><div class='label'><@= resources.to @></div><input class='end-date-text-box' type='text'/></div>")({resources:t})),r=e.find("."+u),i=e.find("."+p),new PanoptoTS.Core.UI.Components.AccessibleDatepicker(r,l,a),new PanoptoTS.Core.UI.Components.AccessibleDatepicker(i,l,s),_.each(_.pairs(c),function(e){var t,o;t=e[0],o=e[1],r.datepicker("option",t,o),i.datepicker("option",t,o)}),r.on("change",function(){f()}),i.on("change",function(){f()}),{getStartDate:function(){return r.datepicker("getDate")},getEndDate:function(){return i.datepicker("getDate")},setStartDate:function(e){r.datepicker("setDate",e)},setEndDate:function(e){i.datepicker("setDate",e)},toggleDisableDates:function(e){r.prop("disabled",e),i.prop("disabled",e)}}},function(e){var t,o;t=e.Core||(e.Core={}),function(e){var r,t;(t=r=e.DateFilterItem||(e.DateFilterItem={}))[t.All=0]="All",t[t.Today=1]="Today",t[t.Yesterday=2]="Yesterday",t[t.LastWeek=3]="LastWeek",t[t.LastMonth=4]="LastMonth",t[t.LastThreeMonths=5]="LastThreeMonths",t[t.Custom=6]="Custom";var o=function(){function o(){}return o.toDateRange=function(e){var t,o=new Date,n=o;switch(e){case r.All:t=n=null;break;case r.Today:t=moment(o).startOf("day").toDate();break;case r.Yesterday:n=moment(o).startOf("day").toDate(),t=moment(n).subtract(1,"days").toDate();break;case r.LastWeek:t=moment(o).subtract(7,"days").toDate();break;case r.LastMonth:t=moment(o).subtract(30,"days").toDate();break;case r.LastThreeMonths:t=moment(o).subtract(90,"days").toDate();break;default:throw"Invalid DateFilterItem passed to DateFilterItemExtensions.toDateRange"}return{start:t,end:n}},o.toUnboundedDateRange=function(e){var t=o.toDateRange(e);return e!==r.Yesterday&&(t.end=null),t},o}();e.DateFilterItemExtensions=o}((o=t.UI||(t.UI={})).Components||(o.Components={}))}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.editableSetting=function(e,t,o,r){var i,n=o.revertSetting,a=o.saveSetting,s="prompt",c="Admin_Settings_Error_{0}",l=_.template("<div class='editable-setting' datasetting-id='<@- item.Id @>' datasetting-originalvalue='<@- item.Value @>'><@ if (item.InputType === Panopto.Core.SettingInputType.MultiLine || item.InputType === Panopto.Core.SettingInputType.SingleLine) { @><textarea class='value-edit' tabindex='0' rows='4'><@- item.Value @></textarea><@ } else if (item.InputType === Panopto.Core.SettingInputType.Numeric || item.InputType === Panopto.Core.SettingInputType.Password) { @><input type=<@ if (item.InputType === Panopto.Core.SettingInputType.Password) { print('password'); } else { print('text'); } @> tabindex='0' class='value-edit' value='<@- item.Value @>'/><@ } else if (item.InputType === 'Boolean') { @><input type='checkbox' tabindex='0' class='value-edit' /><@ } else if (item.InputType === Panopto.Core.SettingInputType.DropDown) { @><select class='value-edit' tabindex='0'><@ _.each(item.PossibleValues, function (possValue) { @><option value='<@- possValue.Value @>' <@ if (possValue.Value === item.Value) { print('selected') } @>><@- possValue.Name @></option><@ }); @></select><@ } @><br /> <div class='edit-controls'><div class='save-edit active-edit' tabindex='0' style='display:none'><@= resources.Save @></div><div class='cancel-edit active-edit' tabindex='0' style='display:none'><@= resources.Cancel @></div><div class='revert-to-default-setting' tabindex='0' style='display:none'><@= resources.Admin_Settings_UseDefault @></div></div><div class='default-block'><div class='default-label'><@= resources.Admin_Settings_DefaultLabel @></div>&nbsp;<div class='default-value-display'><@- item.DefaultValueDisplay @></div><div class='default-value'><@- item.DefaultValue @></div></div><div class='error' style='display:none'></div></div>"),d=function(){var e=i.find(".default-value").text(),t=i.find(".value-edit").val();i.find(".default-block").toggle(e!==t&&0<e.length),i.find(".revert-to-default-setting").toggle(e!==t),e.length||i.find(".revert-to-default-setting").text(r.Admin_Settings_ClearValue)},u=function(e){var t=r[PanoptoTS.StringHelpers.format(c,e)]||r.Admin_Settings_Error_UnknownError;i.find(".error").text(t).show(),p()},p=function(){i.find(".value-edit").val(i.attr("datasetting-originalvalue")),h()},f=function(e){var t=i.find(".value-edit");i.attr("datasetting-originalvalue",e.Value),t.val(e.Value),d(),h()},m=function(){var e={settingId:i.attr("datasetting-id")};n(e,function(e){e.ErrorCode?u(e.ErrorCode):f(e)},u)},h=function(){var e=i.find(".value-edit");i.find(".active-edit").toggle(!1),e.blur()},v=function(){var e=i.find(".value-edit").val()!==i.attr("datasetting-originalvalue");i.find(".active-edit").toggle(e),i.find(".error").hide()},C=function(){var e=i.find(".value-edit"),t={settingId:i.attr("datasetting-id"),newValue:$.trim(e.val())};a(t,function(e,t){t&&f(e)},u)};return i=$(l({item:t,resources:r})),e.append(i),function(){var t=i.find(".value-edit"),o=i.find(".save-edit"),e=i.find(".revert-to-default-setting"),n=i.find(".cancel-edit");i.find(".setting-description");d(),Panopto.Core.UI.Components.placeholder(t.filter("input[type=text], textarea"),r.Admin_Settings_SetValue,s),Panopto.Core.UI.Handlers.button(e,m),Panopto.Core.UI.Handlers.button(o,C),Panopto.Core.UI.Handlers.button(n,p),i.mousedown(function(e){e.target!==t[0]&&(e.preventDefault(),e.stopPropagation(),t.focus())}),t.filter("select").change(v),t.keyup(function(e){if(13==e.which||27==e.which)return e.preventDefault(),13==e.which?C():p(),void t.blur();o.is(":visible")||t.val()===i.attr("datasetting-originalvalue")||v()})}(),{}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI.Components=function(e){return e.externalScrollbar=function(e,t,o,r,n){var i,a,s="external-scroll-frame",c="external-scroll-pane",l="<div class='"+s+" "+(r?"horizontal":"vertical")+"'><div class='"+c+"'></div></div>",d=function(){r?(a.width(o.width()),i.scrollLeft(-parseFloat(o.css("left")))):(a.height(o.height()),i.scrollTop(-parseFloat(o.css("top"))))},u=function(){if(r){var e=i.scrollLeft();o.css("left",-e),n&&n({left:e})}else{var t=i.scrollTop();o.css("top",-t),n&&n({top:t})}};return e.html(l),i=e.find("."+s),a=e.find("."+c),i.scroll(u),t.on("wheel",function(e){var t,o=1===e.originalEvent.deltaMode,n=r?o?e.originalEvent.deltaX*(100/3):e.originalEvent.deltaX:o?e.originalEvent.deltaY*(100/3):e.originalEvent.deltaY;Math.abs(n)&&(i.stop(!0,!0),r?(t=i.scrollLeft(),i.animate({scrollLeft:t+n},200)):(t=i.scrollTop(),i.animate({scrollTop:t+n},200))),e.preventDefault()}),d(),{resize:d,scroll:u}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(C){return C.filteringPopup=function(n,e,t,o){var r,i,a,s,c=(o=o||{}).filtersList||[],l=o.selectedFilters||[],d=o.zIndex||1,u=o.onSubmit,p=!0,f=_.template("<div style='display:none;' class='filtering-popup'><div class='filter-select-all filter-row'><input type='checkbox' data-id='filterAll' class='select-all-checkbox' /><div data-for='filterAll' class='filter-name'>"+t.FilterPopup_SelectAll+"</div></div><@ _.each(filters, function(filter) { @><div class='filter-row'><input type='checkbox' id='filter-<@= filter.id @>' data-id='<@= filter.id @>' /><div data-for='<@= filter.id @>' class='filter-name'><@= filter.name @></div></div><@ }); @><div class='buttons-container'><div class='submit' tabindex='0'>"+t.FilterPopup_Submit+"</div><div class='cancel' tabindex='0'>"+t.FilterPopup_Cancel+"</div><div class='clear-floats'></div></div></div>"),m=function(){var e=n.find("input[type='checkbox']:checked").not(".select-all-checkbox");s.prop("checked",e.length===c.length),s.prop("indeterminate",e.length&&e.length<c.length),p=e.length,i.toggleClass("disabled",!p)},h=function(){n.find("input[type='checkbox']").prop("checked",!1),_.each(l,function(e){$("#filter-"+e).prop("checked",!0)}),m()},v=function(){h(),r.hide()};return(r=$(f({filters:c}))).css("z-index",d),n.html(r),C.popup(r,e,null,v),i=n.find(".submit"),a=n.find(".cancel"),s=n.find(".select-all-checkbox"),n.find(".filter-name").on("click",function(e){var t=$(e.target).attr("data-for"),o=n.find("input[data-id='"+t+"']");o.prop("checked",!o.prop("checked")),o.change()}),s.on("change",function(e){n.find(".select-all-checkbox").prop("checked")?n.find("input[type='checkbox']").not(".select-all-checkbox").prop("checked",!0):n.find("input[type='checkbox']").not(".select-all-checkbox").prop("checked",!1)}),n.find("input[type='checkbox']").on("change",function(){m()}),Panopto.Core.UI.Handlers.button(i,function(){if(p){var e=n.find("input[type='checkbox']:checked").not(".select-all-checkbox"),t=_.map(e,function(e){return $(e).attr("data-id")});l=t,u&&u(t),r.hide()}}),Panopto.Core.UI.Handlers.button(a,v),h(),{selectedFilters:function(e){return e&&(l=e,h()),l}}},C}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.ServiceInterface.Objects=Panopto.Core.ServiceInterface.Objects||{},Panopto.Core.UI.Components=function(ye){var Ie=Panopto.Core.Constants,be=Panopto.Core.ServiceInterface.Rest.Objects,Te=be.Folder.SortOrder;return ye.FolderPickerStyles={Header:"header",Inline:"inline",Box:"box",ModalSetting:"modal-setting-picker"},ye.folderPicker=function(a,i,e){var d,u,n,p,f,r,s,c,l,m,h,t,o=(e=e||{}).childIndent||20,v=e.excludedFolders||[],C=e.allowNoSelection,P=e.noSelectionClass,S=e.onChange||$.noop,g=e.selectedFolderId||null,y=e.selectedFolderName,I=e.pickerStyle,b=e.createSessionAccess,T=e.createFolderAccess,R=e.includeSandboxes,w=e.includeMySandbox,A=Panopto.user.sandboxFolderId,E=T?Panopto.Core.FolderSet.AllFolderCreationFolders:b?Panopto.Core.FolderSet.AllSessionCreationFolders:Panopto.Core.FolderSet.AllFolders,M={depth:null,parent:null,rendered:!1,expanded:!1,nextChildPage:0,pausedDescendants:[]},k=0,D=1,U={},x=_.extend({},M,{depth:-1}),O=!1,F=$(),N=0,j=$(),B=k,V=0,H=0,L=$("<div class='input-controls'><input type='text' autocomplete='off' class='ellipsis' placeholder='"+i.instructions+"' /><div class='folder-spinner'></div><div class='dropdown-open-icon'></div></div><div class='dropdown-list tree-view' style='display:none;'><div class='tree-list'><div class='tree-recent'><div class='tree-subtitle'><i class='material-icons md-18'>&#xE192;</i><span>"+i.quickAccess+"</span></div></div><div class='tree-all'><div class='tree-subtitle'><i class='material-icons md-18'>&#xE2C8;</i><span>"+i.allFolders+"</span></div></div><div class='message' style='display:none;'>"+i.loading+"</div></div><div class='search-list'><div class='message'></div></div></div>"),G=_.template("<div class='folder-wrapper tree-folder-<@= id @>'><div class='folder' data-public-id='<@= id @>' tabindex='0' style='padding-left: <@= depth * "+o+" @>px'><div class='expand-spacer'></div><div class='folder-title'><@- name @></div></div><div class='folder-children children-<@= id @>' style='display:none'></div></div>"),Q=_.template("<div class='folder-wrapper list-folder-<@= id @>'><div class='folder' data-public-id='<@= id @>' tabindex='0'><div class='expand-spacer'></div><div class='folder-title'><@= name @></div><div class='parent-folder-text'><@- parentText @></div></div></div>"),W=function(e){return U[e.id]||(e.id===A&&(e.parent=null),U[e.id]={id:e.id,name:e.name||i.privateFolder,isRecordable:!!e.userCanCreateSessions,isMyFolder:e.id===A,disabled:!e.isEnumerable||b&&!e.userCanCreateSessions||T&&!e.userCanCreateFolders||_.contains(v,e.id),parentId:e.parent?e.parent.id:null,parentName:e.parent?e.parent.name:"",hasChildren:!!e.hasAccessibleChildren}),U[e.id]},z=function(e){var o=(e=e||{}).parentId,t=e.query,n=Te.getName(e.sort||Te.Depth),r=!_.isUndefined(e.sortDescending)&&e.sortDescending,i=w&&(_.isUndefined(e.includeMyFolder)||e.includeMyFolder),a=e.index||0,s=e.size,c=e.onSuccess||$.noop;K(1);var l=be.FolderFilter({parentId:o,folderSet:E,includeMyFolder:i,includePersonalFolders:R,searchTerm:t}),d=be.PagingParameters({page:a,pageSize:s,sort:n,sortDescending:r});Panopto.Core.ServiceInterface.Rest.Folders.getFolders(_.extend(l,d),function(e){var t={folders:_.map(e.results,W),parentId:o,index:a,hasMorePages:e.hasMorePages};c(t)},function(e,t,o){window.console&&console.log(o)},function(){K(-1)})},K=function(e){V+=e,t.find(".loading-block").toggle(0<V)},q=function(){U={},f.find(".folder-wrapper").remove(),r.hide(),l.text(i.loading).show(),s.hide(),c.hide(),Z();var e=Y(),t=J(),o=X();$.when(e,t,o).done(function(){function e(){s.show(),c.show(),c.find(".folder-wrapper").length||l.text(i.noFolders).show()}g?ee(g).done(e):e()})},Z=function(){if(C){var e=W({id:Ie.EmptyGuid,name:i.noSelectionText,isEnumerable:!0,userCanCreateSessions:!0,userCanCreateFolders:!0});oe(e,void 0).prependTo(f).find(".folder").addClass("no-selection").addClass(P),g||ee(Ie.EmptyGuid)}},Y=function(){var o=$.Deferred();return z({sort:Te.RecentlyUsed,sortDescending:!0,size:3,onSuccess:function(e){var t=_.where(e.folders,{disabled:!1});t.length&&(r.show(),_.each(t,function(e){oe(e,void 0).appendTo(s)}),ge(void 0)),o.resolve()}}),o.promise()},J=function(){var o=$.Deferred();return A&&w?z({parentId:A,onSuccess:function(e){var t=W({id:A,name:i.myFolder,isEnumerable:!0,userCanCreateSessions:!0,userCanCreateFolders:!0,parent:null,hasAccessibleChildren:!!e.folders.length});re([t]),ie(t),ne(e,void 0),o.resolve()}}):o.resolve(),o.promise()},X=function(){var t=$.Deferred();return z({parentId:null,includeMyFolder:!1,onSuccess:function(e){ne(e,function(){l.hide()}),t.resolve()}}),t.promise()},ee=function(t){g=t;var e,o,n=$.Deferred(),r=U[t];return r?n.resolve(r):(e=g,o=function(e){g===A&&(e.name=i.myFolder),n.resolve(e)},K(1),Panopto.Core.ServiceInterface.Rest.Folders.getOne(e,function(e){var t=W(e);o(t)},function(e,t,o){window.console&&console.log(o)},function(){K(-1)})),$.when(n).done(function(e){g===t&&(y=e.name,me(),O&&te(e))}),n.promise()},te=function(e){var t=$();(t=B===k&&e.id===F.data("publicId")?F.closest(".folder-wrapper"):f.find(PanoptoTS.StringHelpers.format(".list-folder-{0}",e.id))).length||(t=oe(e,void 0).insertAfter(s.find(".tree-subtitle"))),r.toggle(!!s.find(".folder").length),f.find("."+Ie.SelectedClass).removeClass(Ie.SelectedClass),t.find("> .folder").addClass(Ie.SelectedClass),ge(void 0)},oe=function(e,t){var o=t?Panopto.Core.TextHelpers.highlightMatches(e.name,t,"search-match"):_.escape(e.name),n=e.parentName?i.inFolder.format(e.parentName):"",r=$(Q({id:e.id,name:o,parentText:n}));return r.find(".folder-title").toggleClass("creator",e.isRecordable),r.find(".folder-title").toggleClass("myFolder",e.isMyFolder),Panopto.Core.UI.Handlers.button(r,function(){he(r.find(".folder"))}),r},ne=function(e,t){var o=e.parentId?U[e.parentId]:x;if(o.nextChildPage===e.index){re(e.folders);var n=e.folders.length?e.folders[e.folders.length-1].id:null,r=n?U[n].depth:o.depth+1,i=e.hasMorePages?r-1:r;if(_.each(e.folders,function(e){e.rendered||((e.depth<=i||e.depth===o.depth+1)&&ie(e),e.depth<=i&&(e.parent.nextChildPage=null))}),ge(void 0),i<o.depth+1){o.nextChildPage=e.index+1,o.allPagesComplete=t;for(var a=o;a&&a.expanded;)a=a.parent;a?a.pausedDescendants.push(o):le(o)}else t&&t()}},re=function(e){_.each(e,function(e){e.rendered||(U[e.id]=_.extend(e,M),e.parent=U[e.parentId]||x,e.depth=e.parent.depth+1)})},ie=function(e){var t=$(G(e)),o=t.find(".folder"),n=o.find(".expand-spacer"),r=o.find(".folder-title");o.toggleClass(Ie.SelectedClass,!1).toggleClass(Ie.DisabledClass,e.disabled),n.toggleClass("expandable",e.hasChildren),r.toggleClass("myFolder",e.isMyFolder),r.toggleClass("creator",e.isRecordable&&!e.isMyFolder),Panopto.Core.UI.Handlers.button(o,function(){he(o)}),e.hasChildren&&(Panopto.Core.UI.Handlers.button(n,function(){se(o,void 0),ve(o)}),n.mousedown(function(e){e.preventDefault()})),e.isMyFolder?t.insertAfter(c.find(".tree-subtitle")):e.parent===x?t.appendTo(c):a.find(".children-"+e.parent.id).append(t),e.rendered=!0},ae=function(e,o){e.data("publicId");se(e,o),e.siblings(".folder-children").find("> .folder-wrapper > .folder").each(function(e,t){ae($(t),o)})},se=function(e,t){var o=U[e.data("publicId")];if(o.hasChildren){o.expanded=void 0===t?!o.expanded:t;var n=c.find(".children-"+o.id);n.siblings(".folder").find(".expandable").toggleClass("showing-children",o.expanded),n.toggle(o.expanded),o.expanded&&ce(o),ge(void 0)}},ce=function(e){null!==e.nextChildPage&&le(e),_.each(e.pausedDescendants,function(e){le(e)}),e.pausedDescendants=[]},le=function(t){for(var e=t;e&&!e.isMyFolder;)e=e.parent;var o=!!e&&e.isMyFolder;z({parentId:t.id,includeMyFolder:o,index:t.nextChildPage,onSuccess:function(e){ne(e,t.allPagesComplete)}})},de=function(e){B===k&&e===D&&(F=$());var t=(B=e)===k;p.toggleClass("tree-view",t),p.toggleClass("search-view",!t),d=t?f:m,(x.expanded=t)?(u.val("").focus(),Ce(F=j,!0),O&&ce(x)):(H++,m.find(".folder-wrapper").remove(),h.text(i.searchingText).show()),ge(void 0)},ue=_.debounce(function(o){var n=H;z({query:o,onSuccess:function(e){if(H===n&&B===D){var t=_.where(e.folders,{disabled:!1});h.toggle(!t.length).html(i.noResultsText.format(Panopto.Core.TextHelpers.highlightMatches(o,o,"search-match"))),_.each(t,function(e){oe(e,o).appendTo(m).find(".expand-spacer").hide()}),ge(void 0)}}})},250),pe=function(){u.css("width",""),a.toggleClass("dropdown-visible",!0),p.show(),de(k),O||(q(),O=!0),ge(void 0)},fe=function(){x.expanded=!1,a.toggleClass("dropdown-visible",!1),p.hide(),u.blur(),me()},me=function(){var e;if(!a.is(".dropdown-visible")&&(u.val(y),I===ye.FolderPickerStyles.Header)){e=Panopto.Core.ElementHelpers.measureText(u,u.val())+5;var t=parseInt(u.css("padding-left"),10)+parseInt(u.css("padding-right"),10);e=Math.clamp(e,0,a.width()-t-10),u.width(e)}},he=function(e){ve(e);var t=U[e.data("publicId")];if(!t.disabled){ee(t.id),fe();var o=_.pick(t,"id","name");o.id=o.id===Ie.EmptyGuid?null:o.id,S(o)}},ve=function(e){e&&e.length&&(Ce(F=e,void 0),F.focus(),B===k&&(j=F))},Ce=function(e,t){var o,n,r,i,a,s;e.length&&(n=(o=e.offset().top)+(r=e.height()),a=(i=p.offset().top)+(s=p.prop("clientHeight")),(o<i||a<n)&&(t?p[0].scrollTop+=o-i-s/2+r/2:o<i?p[0].scrollTop+=o-i:a<n&&(p[0].scrollTop+=n-a)))},Pe=function(){F.length||(F=d.find(".folder").first()),ve(F)},Se=function(e,t){var o,n=a.find(".folder").filter(":visible");F.length?(o=n.index(F)+e,t&&(o=Math.max(0,Math.min(o,n.length-1)))):o=0<=e?0:n.length-1;var r=n.eq(o%n.length),i=(o<0||o>n.length-1)&&(new Date).getTime()-N<500;r.length&&!i&&(N=(new Date).getTime(),ve(r))},ge=function(e){if(a.is(".dropdown-visible"))if(e||p.prop("clientWidth")&&p.prop("clientHeight")){var t=d.height()>p.prop("clientHeight");p.css("overflow-y",t?"scroll":"");var o=0;if(Panopto.Core.Browser.isIE||Panopto.Core.Browser.isIE11){var n=u.outerWidth();p.prop("clientWidth")&&(o=p.innerWidth()-p.prop("clientWidth")),p.css("min-width",n-o),p.css("max-width",n-o)}var r=$("body").prop("clientWidth")-p.offset().left-o-10;p.css("max-width",r)}else setTimeout(function(){return ge(!0)},100)};return function(){a.addClass(I),L.appendTo(a),u=a.find("input"),n=a.find(".dropdown-open-icon"),p=a.find(".dropdown-list"),f=a.find(".tree-list"),r=f.find(".tree-subtitle"),s=f.find(".tree-recent"),c=f.find(".tree-all"),l=f.find(".message"),m=a.find(".search-list"),h=m.find(".message"),t=a.find(".folder-spinner"),Panopto.Core.UI.Components.spinner($(".folder-spinner"),Panopto.Core.Browser.isCssSupported("animation")),d=f,$(window).resize(ge),Panopto.Core.UI.Handlers.button(u.add(n),function(e,t){p.is(":visible")?t.target===n[0]&&fe():pe()},{allowDefaultSpaceBar:!0}),u.focus(function(){p.is(":visible")||pe()}),Panopto.Core.UI.Handlers.focusOut(a,function(){p.is(":visible")&&fe()}),p.focus(Pe),u.add(p).keydown(function(e){e.keyCode===Panopto.Core.Key.Esc&&(B===k?(fe(),j=$()):de(k),e.stopPropagation())}),u.keydown(function(e){var t;switch(e.keyCode){case Panopto.Core.Key.Tab:t=!e.shiftKey;break;case Panopto.Core.Key.Home:case Panopto.Core.Key.End:t=!u.val();break;case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.PageUp:case Panopto.Core.Key.PageDown:t=!0}t&&(Pe(),F.length&&(e.keyCode!==Panopto.Core.Key.PageUp&&e.keyCode!==Panopto.Core.Key.PageDown&&e.keyCode!==Panopto.Core.Key.Home&&e.keyCode!==Panopto.Core.Key.End||o(e),e.preventDefault()))});var o=function(e){var t,o,n,r,i,a=d.find(".folder").first().height(),s=!!F.closest(".tree-all").length;switch(e.keyCode){case Panopto.Core.Key.Tab:e.shiftKey?(u.focus(),e.preventDefault()):d.find(".folder:visible").last().focus();break;case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:t=e.keyCode===Panopto.Core.Key.DownArrow,e.ctrlKey?p[0].scrollTop+=a*(t?1:-1):F.is("."+Ie.ClickedClass)||Se(t?1:-1,void 0),e.preventDefault();break;case Panopto.Core.Key.LeftArrow:case Panopto.Core.Key.RightArrow:o=e.keyCode===Panopto.Core.Key.RightArrow,e.ctrlKey?e.shiftKey?p.prop("scrollLeft",o?d.width():0):p[0].scrollLeft+=a*(o?1:-1):B===k&&s&&(n=F.siblings(".folder-children").is(":visible"),o||n?o&&n?(r=F.siblings(".folder-children").find(".folder").first(),ve(r)):se(F,void 0):((i=F.closest(".folder-children",f).siblings(".folder")).length||(i=f.find(".folder").first()),ve(i))),e.preventDefault();break;case Panopto.Core.Key.PageUp:case Panopto.Core.Key.PageDown:t=e.keyCode===Panopto.Core.Key.PageDown;var c=p.prop("clientHeight"),l=(Math.floor(c/a)-1)*(t?1:-1);e.ctrlKey?p[0].scrollTop+=l*a:Se(l,!0),e.preventDefault();break;case Panopto.Core.Key.Home:case Panopto.Core.Key.End:o=e.keyCode===Panopto.Core.Key.End,e.ctrlKey?p.prop("scrollTop",o?d.height():0):Se(1/0*(o?1:-1),!0),e.preventDefault();break;case Panopto.Core.Key.Plus:case Panopto.Core.Key.Minus:case Panopto.Core.Key.KeypadPlus:case Panopto.Core.Key.KeypadMinus:s&&(n=e.keyCode===Panopto.Core.Key.Plus||e.keyCode===Panopto.Core.Key.KeypadPlus,se(F,n)),e.preventDefault();break;case Panopto.Core.Key.Asterisk:case Panopto.Core.Key.KeypadAsterisk:s&&(n=e.keyCode===Panopto.Core.Key.Asterisk===e.shiftKey,ae(F,n)),e.preventDefault();break;case Panopto.Core.Key.ForwardSlash:u.focus(),e.preventDefault()}F.removeClass(Ie.ClickedClass)};p.on("keydown",".folder",o),ye.liveInput(u,function(e){var t=u.val();2<=t.length&&(de(D),ue(t)),t||de(k)}),fe(),g&&ee(g)}(),{refresh:q,setFolder:function(e){(e||C)&&(e=e||Ie.EmptyGuid,ee(e))},getFolder:function(){return g===Ie.EmptyGuid?null:g},headerReflow:me,enabled:function(e){if(void 0===e)return!u.prop("disabled");!e!==u.prop("disabled")&&(fe(),u.prop("disabled",!e),n.css("visibility",e?"":"hidden"))}}},ye}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.infiniteScroll=function(o,e,n,r,t){var i,a,s,c=(t=t||{}).onSuccess||$.noop,l=t.onFailure||$.noop,d=t.onFinish||$.noop,u=t.onComplete||$.noop,p=t.spinner||$.noop,f=0,m=function(){var e=o[0],t=e.scrollHeight-e.clientHeight;return!t||50<=100*e.scrollTop/t},h=function(){var t=f,o=function(){s=!1,n&&n.hide()};i++,n&&n.show(),s=!0,r(i,function(e){t===f&&(c(e,i),o(),(a=e.hasMorePages)?m()&&h():d())},function(e){o(),l(e)},p(u))};return e.scroll(function(){!s&&a&&m()&&h()}),{start:function(){i=-1,s=!(a=!0),f+=1,h()},destroy:function(){e.off("scroll")}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){var d=Panopto.Core.Constants;return e.liveInput=function(o,n){var r=o.val();o.bind("input propertychange selectionchange keyup keydown",function(e){var t=o.val();t!==r&&(r=t,n(e))}),Panopto.Core.ElementHelpers.silenceInputValuePropertyChange(o[0],function(e){r=e})},e.editableLabel=function(t,e,o,n){n=n||d.InitAttribute;var r=t.attr(n),i=t.attr(n),a=$.Callbacks(),s=$.Callbacks(),c=function(){t.val()!==r&&(e&&e(t.val()),a.fire(t.val()),r=t.val()),s.fire()},l=function(){t.height(1),t.height(t[0].scrollHeight)};return $(document).ready(function(){t.val(t.attr(n)),t.keydown(function(e){13===e.keyCode?(e.preventDefault(),t.blur()):27===e.keyCode&&(t.val(r),t.blur()),e.stopPropagation()}),t.focus(function(){t.select()}),t.blur(c)}),o&&t.keydown(function(e){_.defer(l)}),{save:function(){i=t.val()},revert:function(){t.val(i),r=i},resize:function(){o&&l()},resetValue:function(e){void 0===e&&(e=""),t.attr(n,e),i=r=e,t.val(e),t.toggleClass(d.PlaceholderClass,""===e)},focus:function(){t.focus()},onChanged:a,onBlur:s}},e.placeholder=function(e,t,o){return o=o||d.PlaceholderClass,e.unbind("."+o),e.hasClass(o)?e.val(t):jQuery.trim(e.val())||e.is(":focus")||e.val(t).toggleClass(o,!0),e.bind("focus."+o,function(){e.hasClass(o)&&e.val("").toggleClass(o,!1)}).bind("blur."+o,function(){jQuery.trim(e.val())||e.val(t).toggleClass(o,!0)}),{val:function(){return e.hasClass(o)?"":$.trim(e.val())}}},e.timepicker=function(e,t,o){var n="enterPressed";e.timepicker({lang:o,typeaheadHighlight:!1}),t&&e.timepicker("setTime",t),e.keydown(function(e){var t=$(e.target),o=t.data(n);if(e.keyCode===Panopto.Core.Key.Enter){if(o)return!1;t.data(n,!0)}else o&&(t.data(n,!1),t.focus())})},e}(Panopto.Core.UI.Components||{}),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=function(){function o(e,t){this.$parent=e,this.style=t,this.$parent.html(o.template(this.style))}return o.prototype.start=function(){this.currentPercent=0,this.render()},o.prototype.updateStatus=function(e){0<=e&&(this.currentPercent=Math.min(e,99)),this.render()},o.prototype.render=function(){this.$parent.find(".radial-loading-indicator-text").text(this.currentPercent.toString()+"%");var e=this.currentPercent/100;if(e<=1){var t=this.getArcData(2*e*Math.PI);this.$parent.find(".radial-loading-indicator-arc").attr("d",t)}},o.prototype.getArcData=function(e){var t=this.style.strokeWidth/2,o=this.style.size/2,n=o-t;return"M "+o.toString()+" "+t.toString()+" A "+n.toString()+" "+n.toString()+" 0 "+(e<Math.PI?"0":"1")+" 1 "+(t+n*(1+Math.sin(e))).toString()+" "+(t+n*(1-Math.cos(e))).toString()},o.template=_.template('\n            <div class="loading-block">\n                <svg height="<@= size @>" width="<@= size @>">\n                    <path class="radial-loading-indicator-arc" stroke="<@= stroke @>" stroke-width="<@= strokeWidth @>" fill="<@= fill @>"></path>\n                    <text class="radial-loading-indicator-text" x="50%" y="50%" text-anchor="middle" alignment-baseline="middle" font-family="\'Arial\'" font-size="15" font-color="green"></text>\n                </svg>\n            </div>'),o}(),n.KollectiveRadialLoadIndicator=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.linkToggle=function(e,t,o){var n,r,i="link-input",a="link-toggle",s=function(e){n.val(e?o:t),r.toggleClass("selected",e)};e.html(_.template("<input class='link-input' type='text' readonly tabindex='0' /><div class='link-toggle' tabindex='0'>&lt/&gt</div>")),n=e.find("."+i),r=e.find("."+a),n.focus(function(){n.select()}),Panopto.Core.UI.Handlers.button(r,function(){s(!r.hasClass("selected")),n.focus()}),s(!1)},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.modalScroll=function(e,t,o,n){var r=e.removeItem,i=e.getItems,a=e.updateNoRowsMessage,s=e.modalInstance,c=(e.applicationInstance,t.$noRowsMessage,t.$section),l=t.$loading,d=t.$errorContainer,u=t.$rowTemplate,p=o.confirmRemove,f=o.removeError,m=o.pagingError,h=!1!==(n=n||{}).isEditable,v=n.showModal||$.noop,C=n.spinner||$.noop,P=c.find("tbody"),S=(c.find("table"),function(e){r(e,function(){a(),P.find("#"+e).remove(),s.flagChanges(!0)},function(){Panopto.Core.UI.Components.renderErrors(d,[f])})}),g=function(e){!function(o,e){if(e.length){var n=_.template(u.html());_.each(e,function(e){var t=$(n({row:e,isEditable:h}));Panopto.Core.UI.Handlers.button(t.find(".remove-row"),function(e){confirm(p)&&(S($(e).attr("data-id")),s.flagChanges(!0))}),Panopto.Core.UI.Handlers.button(t.find(".item-link"),function(e){var t=$(e).attr("data-id"),o=$(e).attr("data-name");v(t,o)}),Panopto.Core.UI.Handlers.hoverableParent(t,null,function(e){t.toggleClass(Panopto.Core.Constants.HoveringClass,e)}),t.appendTo(o)})}}(P,e)},y=Panopto.Core.UI.Components.infiniteScroll(Panopto.Core.Browser.isWebkit?$("body"):$("html"),Panopto.Core.Browser.isIE8?$(window):$(document),l,i,{onSuccess:function(e,t){0===t&&a(),g(e.results)},onFailure:function(e){Panopto.Core.UI.Components.renderErrors(d,[m])},spinner:C});return{start:function(){$(".item-row").remove(),y.start()}}},e}(Panopto.Core.UI.Components||{}),function(e){var t,o,r,i,n,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),r=o.Components||(o.Components={}),a=function(){function e(e,t,o,n,r,i,a,s,c){var l=this;this.playlistWithSessionsService=c,this.toggleAnimationDuration=200,this.selectedItemIndex=0,this.playItemHandlers=[],this.toggleHandlers=[],this.autoHideDelay=2e3,this.playHideDelay=1e3,this.template=_.template('\n            <div class="header">\n                <div class="icon">\n                    <i class="material-icons" role="button" tabindex="0"\n                       aria-label="<@- Panopto.GlobalResources.PlaylistOverlay_ClosePlaylistMenu @>">\n                        &#xE05F;\n                    </i>\n                </div>\n                <div class="header-text">\n                    <div class="name ellipsis">\n                        <@- name @>\n                    </div>\n                    <div class="current-position"></div>\n                </div>\n                <div class="skip-buttons">\n                    <i class="previous-button material-icons disabled" role="button"\n                       aria-label="<@- Panopto.GlobalResources.PlaylistOverlay_Previous @>">\n                        &#xE045;\n                    </i>\x3c!-- collapse whitespace\n                 --\x3e<i class="next-button material-icons disabled" role="button"\n                       aria-label="<@- Panopto.GlobalResources.PlaylistOverlay_Next @>">\n                        &#xE044;\n                    </i>\n                </div>\n            </div>\n            <div class="session-list-container">\n                <table class="session-list">\n                    <@ _.each(items, function(session, index) { @>\n                        <tr role="menuitem" data-id="<@= session.id @>" data-index="<@= index @>" tabindex="-1">\n                            <td class="thumbnail">\n                                <div class="thumbnail-container"\n                                     style="background-image: url(<@= session.thumbUrl @>)">\n                                    <div class="countdown-placeholder"></div>\n                                    <@ if (session.duration) { @>\n                                        <div class="duration">\n                                            <@= Panopto.Util.displayDuration(session.duration) @>\n                                        </div>\n                                    <@ } @>\n                                </div>\n                            </td>\n                            <td class="details">\n                                <div class="name ellipsis"><@- session.name @></div>\n                                <@ if (session.parent) { @>\n                                    <div class="folder">\n                                        <i class="material-icons">&#xE2C7;</i>\n                                        <div class="folder-text ellipsis"><@- session.parent.name @></div>\n                                    </div>\n                                <@ } @>\n                            </td>\n                        </tr>\n                    <@ }); @>\n                </table>\n            </div>'),this.countdownTemplate=_.template('\n            <div class="thumbnail-overlay">\n                <div class="countdown-container">\n                    <div class="icon-background"></div>\n                    <div class="timer"></div>\n                    <i class="play-icon material-icons">&#xE037;</i>\n                </div>\n            </div>'),this.upNextTemplate=_.template('\n            <div class="up-next">\n                <@- Panopto.GlobalResources.PlaylistOverlay_UpNext @>\n                <span class="cancel-button" role="button" tabindex="0">\n                    <@- Panopto.GlobalResources.PlaylistOverlay_Cancel @>\n                </span>\n            </div>'),this.$container=e,this.$trigger=t,this.skin=r,this.isVisible=a,this.$trigger.attr("role","button"),this.$trigger.attr("aria-haspopup",!0),this.$container.attr("role","menu"),this.$container.attr("aria-label",Panopto.GlobalResources.PlaylistOverlay_PlaylistMenu),this.$container.addClass("playlist-overlay"),this.$container.toggle(a),this.playlistWithSessionsService.getPlaylist(o,i).then(function(e){l.playlist=e,l.render(),n&&(l.selectedItemIndex=_.findIndex(l.playlist.items,function(e){return e.id===n})),l.renderSelection(),s&&(n?l.playItem(l.selectedItemIndex,{useAutoHideDelay:!0}):l.queueItem(l.selectedItemIndex))})}return e.prototype.onPlayItem=function(e){this.playItemHandlers.push(e)},e.prototype.onToggle=function(e){this.toggleHandlers.push(e)},e.prototype.queueNextItem=function(){this.queueItem(this.selectedItemIndex+1)},e.prototype.hide=function(){this.toggle(!1)},e.prototype.visible=function(){return this.isVisible},e.prototype.cancelCountdown=function(){this.selectionTimer&&(this.selectionTimer.stop(),this.selectionTimer=void 0),this.$container.find(".thumbnail-overlay").remove(),this.$container.find(".up-next").remove(),this.$container.find(".queued").removeClass("queued")},e.prototype.render=function(){var o=this,e=this.template(this.playlist);this.$container.html(e);var t=i[this.skin].toLowerCase();this.$container.addClass(t);var n=this.$trigger.add(this.$container.find(".icon"));Panopto.Core.UI.Handlers.button(n,function(){o.toggle()}),n.mousedown(function(e){return e.preventDefault()});var r=this.$container.find("tr");r.first().attr("tabindex",0),Panopto.Core.UI.Handlers.key(n,function(){o.isVisible?r.filter("[tabindex=0]").focus():o.$trigger.focus()},[Panopto.Core.Key.Enter,Panopto.Core.Key.Space],{preserveExisting:!0}),r.focus(function(e){r.attr("tabindex",-1),$(e.currentTarget).attr("tabindex",0)}),Panopto.Core.UI.Handlers.button(this.$container.find(".skip-buttons i"),function(e){var t=$(e).is(".next-button")?1:-1;o.playItem(o.selectedItemIndex+t)}),this.$container.on("mousedown",".skip-buttons i",function(e){return e.preventDefault()}),Panopto.Core.UI.Handlers.button(this.$container.find("tr"),function(e){o.playItem($(e).data("index"))}),this.$container.add(this.$trigger).keydown(function(e){return o.handleKeys(e)})},e.prototype.handleKeys=function(e){var t=!0;switch(e.which){case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.LeftArrow:case Panopto.Core.Key.RightArrow:var o=[Panopto.Core.Key.DownArrow,Panopto.Core.Key.RightArrow],n=_.contains(o,e.which)?1:-1;this.moveItemFocus(n);break;case Panopto.Core.Key.Esc:this.hide(),this.$trigger.focus();break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())},e.prototype.moveItemFocus=function(e){var t=this.$container.find("tr"),o=t.index(document.activeElement),n=-1!==o?o+e:this.$container.find("tr[tabindex=0]").index();t.eq(n%t.length).focus()},e.prototype.renderSelection=function(){var e=Panopto.Core.Constants,t=this.selectedItemIndex,o=$(this.$container.find("tr")[t]),n=this.playlist.items.length,r=Panopto.GlobalResources.PlaylistOverlay_CurrentPositionFormat.format(t+1,n);this.$container.find(".current-position").text(r);var i=0!==t;this.$container.find(".previous-button").toggleClass(e.DisabledClass,!i).attr("tabindex",i?0:-1);var a=t<n-1;this.$container.find(".next-button").toggleClass(e.DisabledClass,!a).attr("tabindex",a?0:-1),this.$container.find("tr."+e.SelectedClass).removeClass(e.SelectedClass),o.addClass(e.SelectedClass)},e.prototype.toggle=function(e){var t=this;void 0===e&&(e=!this.isVisible),e||this.cancelCountdown(),e!==this.isVisible&&(this.isVisible=e,this.$container[e?"slideDown":"slideUp"](this.toggleAnimationDuration),e?this.$trigger.attr("aria-expanded",!0):this.$trigger.removeAttr("aria-expanded"),_.each(this.toggleHandlers,function(e){return e(t.isVisible)}))},e.prototype.queueItem=function(e){var t=this;if(!(e<0||e>=this.playlist.items.length)){this.cancelCountdown(),this.toggle(!0);var o=$(this.$container.find("tr")[e]),n=$(this.countdownTemplate()).insertAfter(o.find(".countdown-placeholder")).find(".timer");this.selectionTimer=new r.RadialTimer(n,8,{size:38,fill:"transparent",stroke:"white",strokeWidth:2}),$(this.upNextTemplate()).appendTo(this.skin===i.Interactive?o.find(".thumbnail-overlay"):o.find(".details")),o.addClass("queued"),Panopto.Core.UI.Handlers.button(o.find(".cancel-button"),function(){return t.cancelCountdown()}),this.selectionTimer.onElapsed(function(){return t.playItem(e)}),this.selectionTimer.start()}},e.prototype.playItem=function(e,t){var o=this,n=(void 0===t?{}:t).useAutoHideDelay,r=void 0!==n&&n;if(!(e<0||e>=this.playlist.items.length)){this.cancelCountdown(),this.selectedItemIndex=e,this.renderSelection();var i=$(this.$container.find("tr")[e]).data("id");_.each(this.playItemHandlers,function(e){return e(i)});var a=r?this.autoHideDelay:this.playHideDelay;_.delay(function(){return o.toggle(!1)},a)}},e}(),r.PlaylistOverlay=a,(n=i=r.PlaylistOverlaySkin||(r.PlaylistOverlaySkin={}))[n.Interactive=0]="Interactive",n[n.Embedded=1]="Embedded"}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.PlayResumption=function(e){return e.calculateStartTime=function(e,t){e=parseInt(e,10),t=parseInt(t,10);var o=parseInt(Panopto.viewer.resumeViewerPlaybackMaxPercentageViewed,10),n=parseInt(Panopto.viewer.resumeViewerPlaybackMinSecondsRemaining,10),r=e;return isNaN(e)||isNaN(t)||isNaN(o)||isNaN(n)?r=0:t*o/100<e?r=0:t-e<n&&(r=0),r},e}(Panopto.Core.PlayResumption||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(r){return r.popup=function(o,n,e,t){var r=e||function(){o.show()},i=t||function(){o.hide()};function a(e){$(e.target).closest(n.add(o)).length||i()}Panopto.Core.UI.Handlers.button(n,function(e,t){o.is(":visible")?(i(),n.focus()):(r(),_.defer(function(){o.find(":tabbable").first().focus().toggleClass(Panopto.Core.Constants.ClickedClass,"mousedown"===t.type).one("focusout",function(e){$(e.currentTarget).removeClass(Panopto.Core.Constants.ClickedClass)})}))},{pointerEvent:"mousedown"}),$(document).mouseup(a),Panopto.isModal&&parent.Panopto.ModalPopup.defaultInstance.attachDocumentHandler(a,"mouseup"),Panopto.Core.UI.Handlers.focusOut(o,function(e){e.relatedTarget&&!$(e.relatedTarget).is("body")&&o.is(":visible")&&i()}),Panopto.Core.UI.Handlers.key(o,function(){i(),n.focus()},[Panopto.Core.Key.Esc])},r.flyout=function(e){var a,s=e.$element,c=e.$trigger,t=e.timeout,l=e.expandLeft,d=e.expandUp,u=e.fadeInterval,p=e.condition,f=e.showCallback,o=e.hideCallback;function n(){s.fadeOut(u),o&&o()}r.popup(s,c,function(){var e,t,o,n,r,i;p&&!p()||(e=s,t=c,n=d,r=(o=l)?t.parent().outerWidth()-(t.offset().left-t.parent().offset().left)-t.outerWidth():t.offset().left-t.parent().offset().left,i=n?window.innerHeight-t.offset().top:t.offset().top,e.css(o?"right":"left",r),e.css(n?"bottom":"top",i),s.fadeIn(u),f&&f(),a&&clearTimeout(a))},function(){n()}),Panopto.Core.UI.Handlers.button(s.find(".flyout-close"),function(){n(),c.focus()}),s.mouseleave(function(){a&&clearTimeout(a),a=setTimeout(function(){n()},t)}),s.mouseenter(function(){a&&clearTimeout(a)})},r}(Panopto.Core.UI.Components||{}),function(e){var t,o,n,i,r;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),i=e.Models.VoidCallback,r=function(){function r(e){var t=this;this._onOpened=new i,this._onClosed=new i,this.menuOpen=!1,this.lastFocusChange=0,_.defaults(this,e,{focusWrapDelay:r.defaultFocusWrapDelay}),Panopto.Core.UI.Components.popup(this.menu,this.menuButton,function(){return t.toggleMenu(!0)},function(){return t.toggleMenu(!1)}),this.menu.on("click keydown",this.itemSelector,function(e){("click"===e.type&&e.which===Panopto.Core.MouseButton.Left||"keydown"===e.type&&_.contains([Panopto.Core.Key.Enter,Panopto.Core.Key.Space],e.which))&&t.toggleMenu(!1)});var o=this.ensureId(this.menu,r.menuIdPrefix),n=this.ensureId(this.menuButton,r.menuButtonIdPrefix);this.menuButton.attr({role:"button",tabindex:0,"aria-haspopup":"menu","aria-controls":o}),this.menu.attr({role:"menu","aria-labelledby":n}),this.menu.find(this.itemSelector).attr("role","menuitem"),this.menuButton.on("keydown",function(e){return t.handleMenuButtonKey(e)}),this.menu.on("keydown",this.itemSelector,function(e){return t.handleMenuKey(e)})}return Object.defineProperty(r.prototype,"onOpened",{get:function(){return this._onOpened},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"onClosed",{get:function(){return this._onClosed},enumerable:!0,configurable:!0}),r.prototype.toggleMenu=function(e){if(e!==this.menuOpen)if(this.menu.toggle(e),this.menuOpen=e){this.menuButton.attr("aria-expanded","true");var t=this.menu.find(this.itemSelector).filter(":visible").first();this.focusItem(t),this._onOpened.fire()}else this.menuButton.removeAttr("aria-expanded"),this._onClosed.fire()},r.prototype.handleMenuButtonKey=function(e){var t=!0;switch(e.which){case Panopto.Core.Key.DownArrow:this.toggleMenu(!0);break;case Panopto.Core.Key.UpArrow:this.toggleMenu(!0),this.focusItem(this.getVisibleItems().last());break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())},r.prototype.handleMenuKey=function(e){var t=!0,o=!0,n=this.getVisibleItems();switch(e.which){case Panopto.Core.Key.DownArrow:case Panopto.Core.Key.RightArrow:this.moveItemFocus(1);break;case Panopto.Core.Key.UpArrow:case Panopto.Core.Key.LeftArrow:this.moveItemFocus(-1);break;case Panopto.Core.Key.Home:this.focusItem(n.first());break;case Panopto.Core.Key.End:this.focusItem(n.last());break;case Panopto.Core.Key.Enter:case Panopto.Core.Key.Space:t=!1;break;default:t=o=!1}o&&e.stopPropagation(),t&&e.preventDefault()},r.prototype.moveItemFocus=function(e){var t=this.getVisibleItems(),o=this.menu.find(document.activeElement),n=t.index(o)+e,r=t.eq(n%t.length),i=(n<0||n>t.length-1)&&+new Date-this.lastFocusChange<this.focusWrapDelay;r.length&&!i&&(this.lastFocusChange=+new Date,this.focusItem(r))},r.prototype.focusItem=function(e){this.menu.find(this.itemSelector).attr("tabindex",-1),e&&(e.attr("tabindex",0),e.focus())},r.prototype.ensureId=function(e,t){var o=e.attr("id");return o||(o=_.uniqueId(t),e.attr("id",o)),o},r.prototype.getVisibleItems=function(){return this.menu.find(this.itemSelector).filter(":visible")},r.menuButtonIdPrefix="ariaMenuButton",r.menuIdPrefix="ariaMenu",r.defaultFocusWrapDelay=500,r}(),n.PopupMenuBehavior=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=function(){function e(e,t){this.template='\n<table class="private-session-playlist">\n    <@ _.each(sessions, function(session) { @>\n        <tr class="row">\n            <td class="cell thumbnail">\n                <div class="thumbnail-container <@ if (session.isViewable) { @>viewable<@ } @>">\n                    <a class="thumbnail-link" href="<@= session.link @>" target="_blank">\n                        <img class="thumbnail-img" title="<@= thumbnailTitle @>" src="<@= session.thumbnail @>" />\n                    </a>\n                    <span class="thumbnail-span">\n                        <img class="thumbnail-img" title="<@= thumbnailTitle @>" src="<@= session.thumbnail @>" />\n                    </span>\n                </div>\n            </td>\n            <td class="cell title <@ if (session.isViewable) { @>viewable<@ } @>">\n                <a class="title-link" href="<@= session.link @>" target="_blank">\n                    <@- session.name @>\n                </a>\n                <span class="title-span">\n                    <@- session.name @>\n                </span>\n            </td>\n            <td class="cell status" >\n                <@ if(session.isFixable) { @>\n                <div title="<@= fixedTooltip @>" class="playlist-access-issue-fixed">\n                    <i class="material-icons check-icon">&#xE5CA;</i>\n                </div>\n                <@ } else if (session.role === Panopto.Data.AclRoleType.Viewer) { @>\n                <div title="<@= noAccessTooltip @>">\n                    <i class="material-icons warning-icon">&#xE002;</i>\n                </div>\n                <@ } else { @>\n                <div title="<@= incompatibleAccessTooltip @>">\n                    <i class="material-icons warning-icon">&#xE002;</i>\n                </div>\n                <@ } @>\n            </td>\n        </tr>\n    <@ }); @>\n</table>';var o=this.transform(t),n=this.render(o);e.html(n)}return e.prototype.render=function(e){return _.template(this.template)({sessions:e,fixedTooltip:Panopto.GlobalResources.Playlists_Access_FixedTooltip,noAccessTooltip:Panopto.GlobalResources.Playlists_Access_NoAccessTooltip,incompatibleAccessTooltip:Panopto.GlobalResources.Playlists_Access_IncompatibleAccessTooltip,thumbnailTitle:Panopto.GlobalResources.Playlists_Access_ThumbnailTitle})},e.prototype.transform=function(e){for(var t=[],o=0,n=e;o<n.length;o++){var r=n[o];t.push({thumbnail:r.thumbnail,name:r.name,link:r.link,isFixable:r.isFixable||!1,isViewable:r.isViewable||!1,role:r.role})}return t},e}(),n.PrivateSessionPlaylistView=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=function(){function n(e,t,o){this.elapsedHandlers=[],this.$parent=e,this.durationSeconds=t,this.style=o,this.$parent.html(n.template(this.style))}return n.prototype.start=function(){var e=this;this.intervalHandle&&this.stop(),this.startTime=new Date,this.intervalHandle=setInterval(function(){return e.render()},n.updateIntervalMillis),this.render()},n.prototype.stop=function(){this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},n.prototype.onElapsed=function(e){this.elapsedHandlers.push(e)},n.prototype.render=function(){var e=((new Date).getTime()-this.startTime.getTime())/1e3/this.durationSeconds;if(e<1){var t=this.getArcData(2*e*Math.PI);this.$parent.find(".radial-timer-arc").attr("d",t)}else this.stop(),_.each(this.elapsedHandlers,function(e){return e()})},n.prototype.getArcData=function(e){var t=this.style.strokeWidth/2,o=this.style.size/2,n=o-t;return"M "+o.toString()+" "+t.toString()+" A "+n.toString()+" "+n.toString()+" 0 "+(e<Math.PI?"0":"1")+" 1 "+(t+n*(1+Math.sin(e))).toString()+" "+(t+n*(1-Math.cos(e))).toString()},n.template=_.template('\n            <svg height="<@= size @>" width="<@= size @>">\n                <path class="radial-timer-arc" stroke="<@= stroke @>" stroke-width="<@= strokeWidth @>" fill="<@= fill @>"></path>\n            </svg>'),n.updateIntervalMillis=30,n}(),n.RadialTimer=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI.Components=function(e){return Panopto.Core.UI.Components.restSpinner=function(t){var o=0;return{showUntilComplete:function(e){e=e||$.noop;return o++,t(!0),function(){t(--o),e.apply(this,arguments)}}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){var r=Panopto.Core.Constants;return e.scrollingHighlight=function(a,s,e,c){var l;c=c||r.HighlightedClass;var t,d=!1,o="scrollAnimating";s?jQuery.fx.step.scrollTop=function(e){$(e.elem).data(o,!0),e.elem.scrollTop=e.now}:jQuery.fx.step.scrollLeft=function(e){$(e.elem).data(o,!0),e.elem.scrollLeft=e.now};var n=function(){t&&clearTimeout(t),d=!0,t=setTimeout(function(){d=!1},e)};return a.focusin(n),a.scroll(function(e){a.data(o)||n(),a.data(o,!1)}),{highlight:function(e,t,o){var n,r,i;l&&(a.find("#"+l.id).toggleClass(c,!1),a.find("#"+l.id).removeAttr("aria-current")),e&&((n=a.find("#"+e.id)).toggleClass(c,!0),n.attr("aria-current",!0),!a.is(":visible")||d&&!t||(s?(r=(a.height()-n.height())/2,i=n.offset().top-a.offset().top+a.scrollTop()-r,o?a.scrollTop(i):a.stop(!0).animate({scrollTop:i})):(r=(a.width()-n.width())/2,i=n.offset().left-a.offset().left+a.scrollLeft()-r,o?a.scrollLeft(i):a.stop(!0).animate({scrollLeft:i})))),l=e,t&&t(l)}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(c){return c.sessionList=function(e,r,i,t,a){var s={SessionRow:"session-row",SessionName:"session-name",More:"more",SessionActions:"session-actions",ExtraActions:"extra-actions",SessionRating:"session-rating",SessionUpload:"session-upload"},o="<@ _.each(sessions, function (session) { @><div class='"+s.SessionRow+"'><div class='thumbnail-cell'><div class='thumbnail-wrapper'><img class='thumbnail' src='<@= session.thumbUrl @>' />"+((a=a||{}).inlineDuration?"":"<div class='session-duration'><@= session.friendlyDuration @></div>")+"</div></div><div class='session-data'><@ if (session.viewable) { @><a href='<@= session.viewerUrl @>' class='"+s.SessionName+" ellipsis' target='_blank'><@- session.name @></a><@ } else { @><div class='"+s.SessionName+" ellipsis'><@- session.name @></div><@ } @><div class='session-folder'><@- session.folderText @></div>"+(a.combinedFolderDate?"":"<div class='session-date'><@= session.friendlyDate @></div>")+(a.showDescription?"<div class='session-description'><@- session.description @></div>":"")+(a.inlineDuration?"<div class='session-misc'><div class='session-inline-duration'><@= session.friendlyDuration @></div><div class='"+s.SessionRating+"'></div></div>":"")+"<div class='"+s.SessionActions+"'><@ _.each(_.filter(actions, function (action) { return action.available(session); }), function (action) { @><div class='session-action <@= action.cssClass @>'><@= action.name @></div><@ }); @></div><div class='"+s.ExtraActions+"' style='display:none;'><@ _.each(_.filter(extraActions, function (action) { return action.available(session); }), function (action) { @><div class='session-extra-action <@= action.cssClass @>'><@= action.name @></div><@ }); @></div><div class='"+s.SessionUpload+"'></div></div></div><@ }); @>";return _.each(r,function(e){e.friendlyDuration=e.duration?Panopto.Core.TimeHelpers.formatDuration(e.duration,t.timeSeparator):"",e.friendlyDate=e.date?moment.utc(Panopto.Core.TimeHelpers.formatWin32EpochTimeToDate(e.date)).local().format("LL"):"",e.folderText=e.folder?a.combinedFolderDate?t.folderDateText.format(e.friendlyDate,e.folder.name):t.folderText.format(e.folder.name):""}),_.some(i,function(e){return e.isExtra})&&(i=i.concat([{name:t.moreActionName,cssClass:s.More,handler:function(e,t){var o=t.find("."+s.More);t.find("."+s.ExtraActions).css({right:$(window).width()-(t.offset().left+t.outerWidth()),top:o.offset().top+o.outerHeight()}).toggle()}}])),_.each(i,function(e){e.available=e.available||function(){return!0}}),e.html(_.template(o)({sessions:r,actions:_.filter(i,function(e){return!e.isExtra}),extraActions:_.filter(i,function(e){return e.isExtra}),params:a})),e.find("."+s.SessionRow).each(function(e,t){var o=$(t),n=r[e];_.some(i,function(e){return e.isExtra})&&c.popup(o.find("."+s.ExtraActions),o.find("."+s.More)),a.viewHandler&&Panopto.Core.UI.Handlers.button(o.find("a."+s.SessionName),function(){a.viewHandler(n)}),a.inlineDuration&&n.rating&&Panopto.Core.UI.Components.starRating(o.find("."+s.SessionRating)).value(n.rating)}),_.each(i,function(o){Panopto.Core.UI.Handlers.button($("."+o.cssClass),function(e){var t=$(e).closest("."+s.SessionRow);t.find("."+s.ExtraActions).hide(),o.handler(r[t.index()],t)})}),{getClassNames:function(){return s}}},c}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){var c=Panopto.Core.Constants;return e.starRating=function(r,n,i,t,a){a=a||c.DefaultMaxRating;var e,o="<div class='empty-stars'></div><div class='filled-stars star-accent-background'></div>"+(t?"<div class='hovering-stars'></div>":""),s=0;for(r.addClass("rating"),r.html(_.template(o,{})),e=1;e<=a;e++)r.find(".empty-stars, .filled-stars, .hovering-stars").append(_.template("<div class='star' data-value='<@= value @>'>")({value:e}));return t&&(r.find(".hovering-stars .star").each(function(e,t){var o=parseInt($(t).attr("data-value"),10);$(t).attr("tabindex",0).attr("title",1===o?n:i.format(o))}),Panopto.Core.UI.Handlers.button(r.find(".hovering-stars .star"),function(e){t(parseInt($(e).attr("data-value"),10))}),Panopto.Core.UI.Handlers.hoverable(r.find(".hovering-stars .star"),function(e,t){var o=parseInt($(e.currentTarget).attr("data-value"),10),n=t?o:s;r.find(".filled-stars").width(Math.floor(r.width()*n/a))})),{value:function(e){if(void 0===e)return s;s=e,r.find(".filled-stars").width(Math.floor(r.width()*e/a))}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).user=Panopto.user||{},Panopto.Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.SubfolderList=function(i,a,n,r){var d,u,e=function(e){c=e.folderId,m=e.folderType===Panopto.Core.FolderType.Normal,l=e.addFolderEnabled,h=p,S.set_data(e.subfolders)},p=4,s={"Folder creation failed with Folder Result:NameAlreadyExists":n.DuplicateFolderName,"Folder creation failed with Folder Result:NameTooLong":n.FolderNameTooLong},f=$(i).find(".subfolder-list"),c=null,l=!1,m=!0,h=p,v=0,C=function(n,e){var r,t,o,i,a,s,c,l=S.get_data()?S.get_data().length:0;(n!=d||e)&&(o=f.find(".show-all-subfolders").first(),a=f.find(".new-subfolder").first(),i=f.find(".show-less-subfolders").first(),(c=a.add(o)).detach(),r=n<=l-a.length,t=h!=p&&p*u<=l-a.length,_.each(f.children(),function(e,t){var o=t<n-(r?c:a).length;$(e).toggle(o)}),r?(s=f.children().eq(n-c.length-1),o.insertAfter(s),a.insertAfter(s),s.offset()&&f.offset()&&f.css("max-height",s.offset().top+s.outerHeight()-f.offset().top)):(c.insertBefore(i),f.css("max-height","auto")),o.toggle(r),i.toggle(t),l,d=n)},P=function(e,t){var o,n,r=f.children();0<r.length?(o=$(i).width(),n=r.eq(0).outerWidth(!0),o&&n?($(a).height()<$(a).prop("scrollHeight")?v=Math.max(v,$(a).width()-$(a).prop("scrollWidth")):o-=v,u=Math.floor(o/n),f.css("width",u*n)):u=0):u=0,C(h*u,e),t&&setTimeout(function(){P(void 0,void 0)})};$(window).resize(function(){P(void 0,void 0)});var S=Sys.create.dataView($(i).find(".subfolder-list")[0],{rendering:function(e,t){d||$(i).find(".subfolder-list").css("max-height",0),$(i).find(".show-all-subfolders, .new-subfolder, .show-less-subfolders").remove(),$(i).find(".new-subfolder-error").hide()},itemRendered:function(e,t){$(t.get(".subfolder-icon")).toggleClass("creator",t.dataItem.IsCreator||Panopto.user.isVidegrapher),r.onFolderClick&&t.dataItem.ID&&Panopto.Core.UI.Handlers.button($(t.get(".subfolder-item")),function(){r.onFolderClick(t.dataItem.ID)})},rendered:function(e,t){var o,n,r;o=$(i).find(".show-all-subfolders-template").clone().removeClass("show-all-subfolders-template").addClass("show-all-subfolders").appendTo(f),n=$(i).find(".show-less-subfolders-template").clone().removeClass(".show-less-subfolders-template").addClass("show-less-subfolders").appendTo(f),Panopto.Core.UI.Handlers.button(o.find("div"),_.partial(g,!0)),Panopto.Core.UI.Handlers.button(n.find("div"),_.partial(g,!1)),Panopto.Core.UI.Handlers.key(o.find("div").add(n.find("div")),function(){$(i).find(".show-all-subfolders div, .show-less-subfolders div").not(":focus").focus()},[Panopto.Core.Key.Enter,Panopto.Core.Key.Space],{preserveExisting:!0}),l&&(r=$(i).find(".new-subfolder-template").clone().removeClass("new-subfolder-template").addClass("new-subfolder").appendTo(f),Panopto.Core.UI.Handlers.button(r.find(".subfolder-item"),function(e){$(e).addClass("active").find(".new-subfolder-label").hide().siblings(".new-subfolder-input").show().focus().siblings(".new-subfolder-input-cancel").show()}),Panopto.Core.UI.Handlers.key(r.find(".new-subfolder-input"),_.partial(y,{keyboardNavigation:!0}),[Panopto.Core.Key.Enter]),Panopto.Core.UI.Handlers.key(r.find(".new-subfolder-input"),$.noop,[Panopto.Core.Key.Space],{allowDefault:!0,preserveExisting:!0}),Panopto.Core.UI.Handlers.button(r.find(".new-subfolder-input-cancel"),I),Panopto.Core.UI.Handlers.key(r.find(".new-subfolder-input-cancel"),_.partial(I,{keyboardNavigation:!0}),[Panopto.Core.Key.Enter,Panopto.Core.Key.Space]),Panopto.Core.UI.Handlers.key(r.find(".subfolder-item"),_.partial(I,{keyboardNavigation:!0}),[Panopto.Core.Key.Esc],{preserveExisting:!0}),Panopto.Core.UI.Handlers.focusOut(r,function(){$(i).find(".new-subfolder .new-subfolder-input").val()||I(void 0)})),d?P(!0,void 0):setTimeout(function(){P(!1,!0)})}}),g=function(e){C((h=e?1024:p)*u,void 0)},y=function(o){o=o||{};var e=$(i).find(".new-subfolder .new-subfolder-input").val();if(e){$(i).find(".new-subfolder-error").hide(),$("#loadingMessage").show();var t=Panopto.Core.ServiceInterface.Rest.Objects.FolderAccessItem({Name:e,Parent:{Id:c,TypeName:"FolderAccessItem"},IsInheritingAccess:m});Panopto.Core.ServiceInterface.Rest.FolderAccessItems.create(t,function(e){var t=Array.clone(S.get_data());t.push({Name:e.name,ID:e.id,IsCreator:!0}),S.set_data(t),t.length>d-f.find(".new-subfolder").first().length&&g(!0),o.keyboardNavigation&&$(i).find(".new-subfolder .subfolder-item").focus(),r.onFolderAdded&&r.onFolderAdded(e)},function(e){var t=s[e.responseJSON]||n.ErrorAddingFolder;$(i).find(".new-subfolder-error").text(t).show()},function(){$("#loadingMessage").hide()})}else I(o)},I=function(e){e=e||{},$(i).find(".new-subfolder .subfolder-item").removeClass("active").find(".new-subfolder-input").val("").hide().siblings(".new-subfolder-input-cancel").hide().siblings(".new-subfolder-label").show(),$(i).find(".new-subfolder-error").hide(),e.keyboardNavigation&&$(i).find(".new-subfolder .subfolder-item").focus()};return r.data&&e(r.data),{show:function(e){$(i).toggle(!1!==e)},setData:e,adjustCutoff:P}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.ServiceInterface=Panopto.Core.ServiceInterface||{},Panopto.Core.UI.Components=function(e){return e.tagSearch=function(d,e,u,t){var p,o,s,c,l,n,f=[],m="tag-data",h="pending-tag",r="initial-state",i=(t=t||{}).tabIndex||0,v=t.onChange||$.noop,C=t.suggestProviders||!1,P=t.passesBulkAddRestrictions||function(){return!0},a="tag-search-container",S=_.template("<li class='user-menu-item'><a><span class='label-container'><div class='ellipsis'><div class='suggest-icon <@= iconClass @>'></div><div class='suggestion-text'><@= name @><@ if (user.key !== user.name) { @> (<@= key @>)<@ } @></div></div></span><span class='autocomplete-additional <@= additionalCss @>'><div class='ellipsis'><@= additionalText @></div></span></a></li>"),g=_.template("<li><a><div class='ellipsis'><div class='suggest-icon group'></div><@= label @></div></a></li>"),y=_.template("<li><a><div class='ellipsis'><@= label @></div></a></li>"),I=function(){var e=d.find("input[type='text']"),t=d.find(".tagit-new");d.tagit("assignedTags").length?(n=Panopto.Core.UI.Components.placeholder(e,""),t.toggleClass(r,!1)):(n=Panopto.Core.UI.Components.placeholder(e,u.initialPlaceholder),t.toggleClass(r,!0))},b=new Panopto.Core.JobQueue({maxDegreeOfParallelism:4,maxAttempts:1,autoStart:!0}),T=function(r,i){e(r,function(e){var t=null,o=_.filter(e,function(e){return e.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User}),n=_.filter(e,function(e){return e.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Group});o.length&&(t=_.find(o,function(e){return e.model.key.toLowerCase()===r.toLowerCase()||e.model.name.toLowerCase()===r.toLowerCase()||e.model.email&&e.model.email.toLowerCase()===r.toLowerCase()})),!t&&n.length&&(t=_.find(n,function(e){return e.model.name.toLowerCase()===r.toLowerCase()})),!t&&o.length&&Panopto.features.selectFirstUserResultOnShareAutocomplete&&(t=o[0]),i(t)},function(){i(null)})},R=function(e){_.each(e.suggestions,function(e){d.tagit("createTag",e.value)})};d.addClass(a).tagit({autocomplete:{response:function(e,t){t.content&&t.content.length&&(p=t.content[0])},open:function(e,t){o.menu.element.find("li:first").length&&o.menu.focus(e,o.menu.element.find("li:first"))},focus:function(e,t){p=t.item,e.preventDefault()},source:function(i,a){i.term!==s?e(i.term,function(e){var o,t,n,r;s=i.term,(c=e.slice(0,Panopto.Core.Constants.MaxSuggestionResults)).length===Panopto.Core.Constants.MaxSuggestionResults||1===$.trim(s).split(" ").length?a(c):C&&(o=s,t=a,n=function(n){var e=_.uniq($.trim(o).split(" ")),t=_.uniq($.trim(o).split(","));P(e.length+t.length)?n.suggestions=_.map(e,function(e){var t=n.model.unifyAccounts?Panopto.Core.Constants.UnifiedMembershipProviderName:n.model.name,o=n.model.isInternal?e:PanoptoTS.StringHelpers.format("{0}\\{1}",t,e);return{value:o,tagId:o,model:Panopto.Core.ServiceInterface.Rest.Objects.User({key:o,name:o,typeName:Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User})}}):l=[]},r=function(){_.each(l,n),c=c.concat(l),1===l.length&&1===c.length&&1<l[0].suggestions.length?(R(l[0]),t([])):t(c)},l?r():Panopto.Core.ServiceInterface.Rest.MembershipProviders.getAllProviders(u,function(e){e.sort(function(e,t){return e.isInternal===t.isInternal?0:e.isInternal?-1:1}),l=_.map(e,function(e){var t=u.providerSuggestionText.format(e.name);return{value:t,tagId:t,model:e}}),r()},function(){l=[]}))}):a(c)},position:{my:"left top",at:"left bottom",of:d},minLength:Panopto.Core.Constants.MinSearchCharacters},animate:!1,allowSpaces:!0,allowDuplicates:!0,tabIndex:i,beforeTagAdded:function(e,o){var n=!1,t=p,r=o.tagLabel.trim().split(/\s+/g),i=o.tagLabel.trim().split(",");if(!P(i.length+r.length))return!1;var a,s,c=function(e){o.tagLabel=e.value,o.tag.find(".tagit-label").text(e.value),o.tag.attr(m,e.tagId)},l=function(e,t){var o=$(PanoptoTS.StringHelpers.format("[{0}='{1}']",m,e.tagId));return o.length>t&&o.effect("highlight"),o.length>t};return t?t.suggestions?(n=!0,p=null,R(t)):(c(t),(n=l(t,0))||f.push(t)):1<i.length?(n=!0,_.each(i,function(e){e.includes("<")&&e.includes(">")&&(e=e.trim().split(" ").pop().slice(1,-1)),d.tagit("createTag",e.trim())})):2<r.length?(n=!0,_.each(r,function(e){d.tagit("createTag",e.trim())})):(o.tag.addClass(h),a=o.tagLabel,s=function(e,t){o.tag.removeClass(h),t?(c(t),(n=l(t,1))?o.tag.remove():f.push(t)):o.tag.addClass("error-tag"),v(f.length)},b.queueJob({attempt:function(t){T(a,function(e){s(a,e),t()})}})),!n},afterTagAdded:function(){I(),v(f.length)},afterTagRemoved:function(e,t){var o=t.tag.attr(m);f=_.reject(f,function(e){return e.tagId===o}),I(),v(f.length)}}),(o=d.data("ui-tagit").tagInput.data("ui-autocomplete")).menu.element.on("menufocus",function(e,t){o.menu.element.find("a").removeClass("selected"),t.item.find("a").addClass("selected")});var w=d.find("input");w.on("focus",function(){w.val()&&0<w.val().length&&w.val()!=u.initialPlaceholder&&o.search()}),w.on("keydown",function(e){s!==n.val()&&(c=s=p=null)}),Panopto.features.autoCreateSharingTagsOnPaste&&w.bind("paste",function(){setTimeout(function(){var e=w.val().replace(/"/g,"");d.tagit("createTag",e)},100)});var A=function(e){return e=e||"",Panopto.Core.TextHelpers.highlightMatches(e,o.term,"match")};return o._renderItem=function(e,t){return t.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.User?(a=e,s=t.model,c=A(s.name),l=A(s.key),d=A(s.email),$(S({user:s,iconClass:s.isInviteRequest()?"invite":"user",additionalCss:s.isInviteRequest()||s.isExternalSuggestion()?"grey-additional":"",name:c,key:l,additionalText:s.isInviteRequest()?u.inviteRequest:s.isExternalSuggestion()?u.suggestedUser:d})).appendTo(a)):t.model.typeName===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Group?(r=e,i=A(t.label),$(g({label:i})).appendTo(r)):(o=e,n=A(t.label),$(y({label:n})).appendTo(o));var o,n,r,i,a,s,c,l,d},o._resizeMenu=function(){var e=$("."+a),t=$(".ui-autocomplete"),o=t[0].offsetWidth-t[0].clientWidth,n=e.width()-$(".autocomplete-additional").outerWidth()-10-o;$(".label-container .ellipsis").outerWidth(n),this.menu.element.outerWidth(e.outerWidth())},I(),{getModels:function(){return _.pluck(f,"model")},clear:function(){d.tagit("removeAll"),f.length=0},$getInput:function(){return d.data("ui-tagit").tagInput},hasPendingTags:function(){return 0<d.find("."+h).length}}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.uploadIndicator=function(o,i,e){var n,a,s,c,l,r=(e=e||{}).pingInterval||200,t=e.toggleUploadFunction,d=e.pollUploadProgressFunction,u=e.uploadCompleted,p=$("<div class='upload-indicator'><div class='indicator-box'><div class='progress'></div></div><div class='pause-link' tabindex='0'>"+i.pauseText+"</div><div class='done-text'>"+i.completeText+"</div></div>"),f=function(e,t,o){var n=Math.clamp(100*e,0,100)+"%",r=t?i.resumeText:i.pauseText;a=t,s.css("width",n),c.text(r),o&&(m(void 0),c.hide(),l.show(),u&&u())},m=function(e){e&&o.hide(),n&&(clearInterval(n),n=null)};return o.append(p),s=o.find(".progress"),c=o.find(".pause-link"),l=o.find(".done-text"),s.css("transition",r+"ms"),Panopto.Core.UI.Handlers.button(c,function(){t(a),a=!a}),{update:function(e,t,o){f(e,t,o)},start:function(e,t){t=t||0,e&&o.show(),n||(c.show(),l.hide(),f(t,!1,!1),n=setInterval(function(){d(f)},r))},stop:m}},e}(Panopto.Core.UI.Components||{}),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.volumePreview=function(e,t,o){var n,r,i,a,c,l,s,d,u,p,f,m,h,v,C,P=(o=o||{}).horizontal,S=o.zIndex||20,g=o.microphoneName,y=o.pingInterval||200,I=o.granularity||100,b=o.pollVolumeFunction,T=_.template("<div class='vertical'><div class='mercury' style='z-index: <@= zIndex @>'><div class='level'></div><div class='mic-name'><@= microphoneName @></div></div><div class='scale'><div class='loud'></div><div class='quiet'></div></div><div class='legend'><div class='volume-loud'><div>"+t.VolumePreview_TooLoud+"</div></div><div class='volume-adjusted'><div>"+t.VolumePreview_JustRight+"</div></div><div class='volume-quiet'><div>"+t.VolumePreview_TooQuiet+"</div></div></div></div>"),R=_.template("<div class='volume-preview horizontal'><div class='mercury' style='z-index: <@= zIndex @>'></div><div class='scale'><div class='quiet'><div class='bulb'></div></div><div class='volume-space'></div><div class='goldilocks'></div><div class='volume-space'></div><div class='loud'><div class='bulb'></div></div></div></div>"),w=function(){var e=window.innerHeight;s!==e&&(s=e,r=p.offset().top-n,i=r+p.innerHeight(),a=(i-r)/I,c=h.offset().top+h.innerHeight()-n,l=v.offset().top-n)},A=function(e){var t=Math.clamp(e*I,0,I);P||(t=I-t),function(e){var t,o=0,n=1,r=2,i={loud:"area-loud",quiet:"area-quiet",goldilocks:"area-goldilocks"},a="current-volume",s=function(e){_.each(i,function(e){u.removeClass(e)}),u.addClass(e)};switch(u.css("transition",y+"ms"),P?(t=c<e?o:e<l?n:r,u.css("left",e+"px")):(w(),t=e<c?o:l<e?n:r,u.css("top",e+"px")),t){case o:v.removeClass(a),h.addClass(a),s(i.loud);break;case n:h.removeClass(a),v.addClass(a),s(i.quiet);break;default:h.removeClass(a),v.removeClass(a),s(i.goldilocks)}}(t*a+r)},E=function(){d=setInterval(function(){b(A)},y)};return e.empty(),(C=P?$(R({zIndex:S})):$(T({microphoneName:g,zIndex:S}))).appendTo(e),u=C.find(".mercury"),p=C.find(".scale"),f=C.find(".loud"),m=C.find(".quiet"),h=C.find(".volume-loud"),v=C.find(".volume-quiet"),P?(n=Math.round(u.outerWidth()/2),r=$(".quiet .bulb").offset().left,i=$(".loud .bulb").offset().left,a=(i-r)/I,u.css("left",r),c=f.offset().left-n,l=m.offset().left+m.outerWidth()-n):(n=u.find(".level").offset().top-u.offset().top,w(),u.css("top",u.offset().top)),E(),{update:function(e){A(e)},start:E,stop:function(){clearInterval(d)}}},e}(Panopto.Core.UI.Components||{}),function(l){var e,t,o;e=l.UI||(l.UI={}),t=e.Components||(e.Components={}),o=function(){function c(e,t,n,o,r,i,a){var s=this;this.waveform=o,this.dataViewport=new l.Data.ArrayViewport(e,t,n),this.viewport=new l.Data.VisualViewport(r,i,0,a,a,{expandFactor:c.expandFactor,positionChanged:function(e){s.waveform.canvas.style.left=e+"px"},widthChanged:function(e){s.waveform.width=e,s.waveform.canvas.width=e},draw:function(e){var t=e.getDrawnLeftPosition()*n/e.getVisualWidth(),o=e.getDrawnWidth()*n/e.getVisualWidth();s.dataViewport.setRangeViewport(t,t+o),s.updateWaveform(e)}})}return c.prototype.getViewport=function(){return this.viewport},c.prototype.updateWaveform=function(e){var t=e.getDrawnWidth();if(0<t){var o=l.Data.ArrayMath.averageReduce(this.dataViewport.getData(),t),n=this.waveform.container.clientHeight;this.waveform.height=n,this.waveform.canvas.height=n,this.waveform.update({data:o,interpolate:o.length<t})}},c.expandFactor=2,c}(),t.WaveformViewport=o}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=function(e){return e.progressBar=function(e,t){e.addClass("progress-bar"),e.html(_.template(t.encouragingText?"<div class='percentage-bar' style='width:<@= item.percentage @>%;'></div><div class='encouraging-text'><@= item.encouragingText @></div>":"<div class='bar-start'></div><div class='percentage-bar' style='width:<@= item.percentage @>%;'></div><div class='progress-text'><@= item.progressText @></div><div class='remaining-text'><@= item.remainingText @></div><div class='bar-end'></div>")({item:t}))},e.spinner=function(e,t){var o=t?"spinner-background":"",n=t?"branded-animation":"",r="<div class='loading-block'>"+PanoptoTS.StringHelpers.format("<div class='branding-color-holders {0}'></div>",o)+PanoptoTS.StringHelpers.format("<div class='loading-indicator {0}'></div>",n)+"</div>";e.html(_.template(r))},e.nextDelivery=function(e,t,o,n,r,i){var a="<a href='#' class='watch-again'>"+n+"</a>";t.durationText=t.isLive?i:t.duration,e.html(_.template("<div class='next-delivery-control'><div class='video-ended'><@= nextDeliveryText @></div><div class='next-delivery-info' tabindex='0'><div class='thumb-wrapper'><img class='next-delivery-thumb' src='<@= deliveryData.thumbUrl @>'></div><div class='next-delivery-data'><div class='next-delivery-title'><span><@= deliveryData.title @></span></div><div class='next-delivery-description'><span><@= deliveryData.description @></span></div><div class='next-delivery-duration'><span><@= deliveryData.durationText @></span></div></div></div></div>")({deliveryData:t,nextDeliveryText:o.format(a,t.folderName)})),Panopto.Core.UI.Handlers.button($(".next-delivery-info"),function(){window.location.href=t.url}),Panopto.Core.UI.Handlers.button($(".watch-again"),function(){r()})},Panopto.Core.UI.Components.renderErrors=function(e,t){var o=_.template("<ul class='error-list'><@ _.each(errorList, function (error) { @><li><@= error @></li><@ }); @></ul>");e.html(o({errorList:t}))},e}(Panopto.Core.UI.Components||{}),function(e){var t,o,n,r,i,a,s;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=e.Models.VoidCallback,a="disabled",s=function(){function o(e){var t=this;this._addStreamClicked=new i,this._addClipClicked=new i,this._addQuizClicked=new i,this._addYouTubeClicked=new i,this._addWebpageClicked=new i,this._canAddContent=!0,this._canAddClip=!0,this._canAddEmbedEvent=!0,this._element=$(o.template({resources:e})),this.addStreamButton=this._element.find(".add-stream"),this.addClipButton=this._element.find(".add-clip"),this.addQuizButton=this._element.find(".add-quiz"),this.addYouTubeButton=this._element.find(".add-youtube"),this.addWebpageButton=this._element.find(".add-webpage"),Panopto.Core.UI.Handlers.button(this.addStreamButton,function(){t.addStreamButton.hasClass(a)||(t.toggle(),t._addStreamClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addClipButton,function(){t.addClipButton.hasClass(a)||(t.toggle(),t._addClipClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addQuizButton,function(){t.addQuizButton.hasClass(a)||(t.toggle(),t._addQuizClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addYouTubeButton,function(){t.addYouTubeButton.hasClass(a)||(t.toggle(),t._addYouTubeClicked.fire())}),Panopto.Core.UI.Handlers.button(this.addWebpageButton,function(){t.addWebpageButton.hasClass(a)||(t.toggle(),t._addWebpageClicked.fire())})}return Object.defineProperty(o.prototype,"addStreamClicked",{get:function(){return this._addStreamClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addClipClicked",{get:function(){return this._addClipClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addQuizClicked",{get:function(){return this._addQuizClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addYouTubeClicked",{get:function(){return this._addYouTubeClicked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"addWebpageClicked",{get:function(){return this._addWebpageClicked},enumerable:!0,configurable:!0}),o.prototype.updateAddButtonAvailabilities=function(){this.addStreamButton.toggleClass(a,!this._canAddContent),this.addClipButton.toggleClass(a,!this._canAddContent||!this._canAddClip),this.addQuizButton.toggleClass(a,!this._canAddContent||!this._canAddEmbedEvent),this.addYouTubeButton.toggleClass(a,!this._canAddContent||!this._canAddEmbedEvent),this.addWebpageButton.toggleClass(a,!this._canAddContent)},Object.defineProperty(o.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),o.prototype.toggle=function(e){this._element.toggle(e)},Object.defineProperty(o.prototype,"isVisible",{get:function(){return this._element.is(":visible")},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canAddContent",{set:function(e){this._canAddContent=e,this.updateAddButtonAvailabilities()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canAddClip",{set:function(e){this._canAddClip=e,this.updateAddButtonAvailabilities()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canAddEmbedEvent",{set:function(e){this._canAddEmbedEvent=e,this.updateAddButtonAvailabilities()},enumerable:!0,configurable:!0}),o.template=_.template('\n            <div class="add-content-expansion">\n                <div\n                    class="add-content-row add-stream"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_AddContentStream @>">\n                    <div class="icon"><i class="material-icons">play_circle_outline</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_AddContentStream @></div>\n                </div>\n                <div\n                    class="add-content-row add-clip"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_AddClip @>">\n                    <div class="icon"><i class="material-icons">vertical_align_center</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_AddClip @></div>\n                </div>\n                <div\n                    class="add-content-row add-quiz"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_QuizTooltip @>">\n                    <div class="icon"><i class="material-icons">assignment_turned_in</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_QuizTooltip @></div>\n                </div>\n                <div\n                    class="add-content-row add-youtube"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_YouTubeTooltip @>">\n                    <div class="icon"><div class="custom-icon"></div></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_YouTubeTooltip @></div>\n                </div>\n                <div\n                    class="add-content-row add-webpage"\n                    tabindex="0"\n                    role="button"\n                    title="<@= resources.ViewerPlus_Edit_WebpageTooltip @>">\n                    <div class="icon"><i class="material-icons">link</i></div>\n                    <div class="label"><@= resources.ViewerPlus_Edit_WebpageTooltip @></div>\n                </div>\n            </div>'),o}(),r.AddContentExpansionControl=s}(PanoptoTS||(PanoptoTS={})),function(n){var l,e,t;l=n.Core||(n.Core={}),e=l.UI||(l.UI={}),function(p){var f=n.Models.TypedCallback,m=n.Models.VoidCallback,e=function(){function u(e,t,o,n,r,i,a){var s=this;this.container=e,this.timelineView=o,this.snapService=n,this._targetId=i,this._targetType=a,this._onExecuting=new f,this._onExecuted=new m,this.resizing=!1,this.handleDragStart=function(){s.lastSavedCutStart=s.leftMarker.containerRelativeTime,s._onExecuting.fire(s)},this.handleDragStop=function(){s.timelineView.resizeCut(s,s.lastSavedCutStart),s.toggleMarkers(!1),s._onExecuted.fire()},this.handleDragLeftHandle=function(e,t){var o=s.snapService.snap(s.timeFromPixels(t.position.left)+s.targetStart),n=Math.min(o,s.rightMarker.sessionRelativeTime);t.position.left=s.pixelsFromTime(n-s.targetStart),s.toggleMarkers(!0),s.leftMarker.sessionRelativeTime=n,s.refresh()},this.handleDragRightHandle=function(e,t){var o=s.snapService.snap(s.timeFromPixels(t.position.left)+s.targetStart),n=Math.max(o,s.leftMarker.sessionRelativeTime);t.position.left=s.pixelsFromTime(n-s.targetStart),s.toggleMarkers(!0),s.rightMarker.sessionRelativeTime=n,s.refresh()};var c=_.uniqueId("cut"),l="cutLeftBound"+c,d="cutRightBound"+c;this.leftMarker=new p.Marker(e,t,r,{accented:!0,expandsLeft:!0}),this.rightMarker=new p.Marker(e,t,r,{accented:!0}),e.append(u.template({id:c,leftHandleId:l,rightHandleId:d})),this.cut=e.find("#"+c),this.leftHandle=e.find("#"+l),this.rightHandle=e.find("#"+d),this.leftHandle.hide(),this.rightHandle.hide(),this.leftHandle.css("position","absolute"),this.rightHandle.css("position","absolute"),this.leftHandle.draggable({axis:"x"}),this.rightHandle.draggable({axis:"x"}),this.leftHandle.mousedown(function(e){e.stopPropagation()}),this.rightHandle.mousedown(function(e){e.stopPropagation()}),this.leftHandle.on("dragstart",this.handleDragStart),this.rightHandle.on("dragstart",this.handleDragStart),this.leftHandle.on("dragstop",this.handleDragStop),this.rightHandle.on("dragstop",this.handleDragStop),this.leftHandle.on("drag",this.handleDragLeftHandle),this.rightHandle.on("drag",this.handleDragRightHandle),Panopto.Core.ElementHelpers.removePointerEvents(this.cut,["mousemove","mousedown"]),this.refresh(),this.toggleMarkers(!1)}return Object.defineProperty(u.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"targetId",{get:function(){return this._targetId},set:function(e){this._targetId=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"targetType",{get:function(){return this._targetType},set:function(e){this._targetType=e},enumerable:!0,configurable:!0}),u.prototype.refresh=function(){this.leftMarker.refresh(),this.rightMarker.refresh();var e=this.leftMarker.left-this.leftMarker.width/2,t=this.rightMarker.left-this.leftMarker.left+this.leftMarker.width;this.cut.css({left:e,width:t}),this.leftHandle.css({left:e+1}),this.rightHandle.css({left:e+t-1})},u.prototype.remove=function(){this.cut.remove(),this.leftHandle.remove(),this.rightHandle.remove(),this.leftMarker.remove(),this.rightMarker.remove()},u.prototype.setContainerTime=function(e,t){this.targetStart=e,this.duration=t,this.leftMarker.setContainerTime(e,t),this.rightMarker.setContainerTime(e,t)},u.prototype.toggle=function(e){this.toggleMarkers(e),this.cut.toggle(e),this.leftHandle.toggle(this.resizing&&e),this.rightHandle.toggle(this.resizing&&e),this.cut.is(":visible")&&this.refresh()},u.prototype.toggleMarkers=function(e){this.leftMarker.toggle(this.hiddenSide!==l.Position.Left&&e),this.rightMarker.toggle(this.hiddenSide!==l.Position.Right&&e),this.leftMarker.toggleTimestamp(this.leftMarker.sessionRelativeTime!==this.rightMarker.sessionRelativeTime&&this.hiddenSide!==l.Position.Left&&e)},u.prototype.timeFromPixels=function(e){return e*this.duration/this.container.width()},u.prototype.pixelsFromTime=function(e){return e*this.container.width()/this.duration},u.prototype.activateCutControl=function(){var e=this.leftMarker.sessionRelativeTime,t=this.rightMarker.sessionRelativeTime;this.leftHandle.css("visibility",0===e?"hidden":"visible"),this.rightHandle.css("visibility",t===this.targetStart+this.duration?"hidden":"visible"),this.resizing=!0,this.cut.is(":visible")&&(this.leftHandle.show(),this.rightHandle.show())},u.prototype.deactivateCutControl=function(e){this.resizing=!1,this.leftHandle.hide(),this.rightHandle.hide()},u.prototype.overlaps=function(e){return this._targetId===e._targetId&&e.relativeEditorEnd>=this.relativeEditorStart&&e.relativeEditorStart<=this.relativeEditorEnd},u.prototype.contains=function(e){return this._targetId===e._targetId&&e.relativeEditorStart>=this.relativeEditorStart&&e.relativeEditorEnd<=this.relativeEditorEnd},Object.defineProperty(u.prototype,"relativeEditorStart",{get:function(){return this.leftMarker.containerRelativeTime},set:function(e){this.leftMarker.containerRelativeTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"relativeEditorEnd",{get:function(){return this.rightMarker.containerRelativeTime},set:function(e){this.rightMarker.containerRelativeTime=e},enumerable:!0,configurable:!0}),u.template=_.template("\n            <div id='<@= id @>' class='timeline-cut'></div>\n            <div id='<@= leftHandleId @>' class='timeline-cut-handle left-handle' tabindex='0'>\n                <div class=\"timeline-cut-handle-visible\"></div>\n            </div>\n            <div id='<@= rightHandleId @>' class='timeline-cut-handle right-handle' tabindex='0'>\n                <div class=\"timeline-cut-handle-visible\"></div>\n            </div>"),u}(),t=function(c){function e(e,t,o,n,r,i,a){var s=c.call(this,e,t,o,n,r,i,a)||this;return s.cut.css("border-left","none"),s.leftHandle.css("visibility","hidden"),s.hiddenSide=l.Position.Left,s.leftMarker.toggleTimestamp(!1),s}return __extends(e,c),e}(p.CutView=e);p.TopCutView=t;var o=function(c){function e(e,t,o,n,r,i,a){var s=c.call(this,e,t,o,n,r,i,a)||this;return s.cut.css("border-right","none"),s.rightHandle.css("visibility","hidden"),s.hiddenSide=l.Position.Right,s.rightMarker.toggleTimestamp(!1),s}return __extends(e,c),e}(e);p.TailCutView=o}((t=e.Components||(e.Components={})).Editor||(t.Editor={}))}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a,s;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=e.Models.VoidCallback,a=e.Models.TypedCallback,s=function(){function e(e,t,o,n){this.targetElement=e,this.snapService=t,this.temporaryMarker=o,this.temporaryCutView=n,this._onExecuting=new a,this._cutCreated=new a,this._onExecuted=new i}return Object.defineProperty(e.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutCreated",{get:function(){return this._cutCreated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),e.prototype.getTimeFromMouseEvent=function(e){return Math.round((e.pageX-this.targetElement.offset().left)/this.targetElement.width()*this.targetElementDuration)},e.prototype.applyState=function(e,t,o,n){this.targetStart=e,this.targetElementDuration=t,this.cutTargetId=o,this.cutTargetType=n},e.prototype.activateCutControl=function(){this.unbindInactiveCutMouseEvents(),this.unbindActiveCutMouseEvents(),this.bindInactiveCutMouseEvents()},e.prototype.deactivateCutControl=function(e){e!==this&&(this.unbindInactiveCutMouseEvents(),this.temporaryMarker.toggle(!1))},e.prototype.bindInactiveCutMouseEvents=function(){var o=this;this.targetElement.mousemove(function(e){var t=o.getTimeFromMouseEvent(e);o.temporaryMarker.containerRelativeTime=t,o.temporaryMarker.toggle(!0)}),this.targetElement.mouseout(function(){o.temporaryMarker.toggle(!1)}),this.targetElement.one("mousedown",function(e){o.temporaryMarker.toggle(!1);var t=o.getTimeFromMouseEvent(e);o.temporaryCutView.relativeEditorStart=t,o.temporaryCutView.relativeEditorEnd=t,o.temporaryCutView.toggle(!0),o.unbindInactiveCutMouseEvents(),o.bindActiveCutMouseEvents(t),o._onExecuting.fire(o)})},e.prototype.unbindInactiveCutMouseEvents=function(){this.targetElement.off("mousemove"),this.targetElement.off("mouseout"),this.targetElement.off("mousedown")},e.prototype.bindActiveCutMouseEvents=function(r){var i=this;this.targetElement.mousemove(function(e){var t=i.snapService.snap(i.getTimeFromMouseEvent(e)+i.targetStart)-i.targetStart,o=Math.min(r,t),n=Math.max(r,t);i.temporaryCutView.relativeEditorStart=o,i.temporaryCutView.relativeEditorEnd=n,i.temporaryCutView.toggleMarkers(!0),i.temporaryCutView.refresh()}),this.targetElement.mouseout(function(e){var t=i.getTimeFromMouseEvent(e);t<0?(i.temporaryCutView.relativeEditorStart=0,i.temporaryCutView.refresh()):t>i.targetElementDuration&&(i.temporaryCutView.relativeEditorEnd=i.targetElementDuration,i.temporaryCutView.refresh())}),$(document).one("mouseup",function(){i.unbindActiveCutMouseEvents(),i.finishCut()})},e.prototype.unbindActiveCutMouseEvents=function(){this.targetElement.off("mousemove"),this.targetElement.off("mouseout")},e.prototype.finishCut=function(){var e=this.temporaryCutView.relativeEditorStart,t=this.temporaryCutView.relativeEditorEnd;e!==t&&this._cutCreated.fire({relativeEditorStart:e,relativeEditorEnd:t,cutTargetId:this.cutTargetId,cutTargetType:this.cutTargetType}),this.temporaryCutView.toggle(!1),this._onExecuted.fire()},e}(),r.CutViewCreateController=s}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=function(){function e(){}return e.prototype.mergeCuts=function(e,t){var o={toRemove:[],toAdd:[]},n=[e.relativeEditorStart,e.relativeEditorEnd,t.relativeEditorStart,t.relativeEditorEnd],r=Math.min.apply(Math,n),i=Math.max.apply(Math,n);return o.toRemove.push(e),o.toRemove.push(t),o.toAdd.push({relativeEditorStart:r,relativeEditorEnd:i,targetId:e.targetId,targetType:e.targetType}),o},e.prototype.splitCuts=function(e,t){var o={toRemove:[],toAdd:[]};return o.toRemove.push(e),o.toRemove.push(t),e.relativeEditorStart!==t.relativeEditorStart&&o.toAdd.push({relativeEditorStart:e.relativeEditorStart,relativeEditorEnd:t.relativeEditorStart,targetId:e.targetId,targetType:e.targetType}),e.relativeEditorEnd!==t.relativeEditorEnd&&o.toAdd.push({relativeEditorStart:t.relativeEditorEnd,relativeEditorEnd:e.relativeEditorEnd,targetId:e.targetId,targetType:e.targetType}),o},e.prototype.resolveOverlappingCuts=function(e,i,a){var s=this,c={toRemove:[],toAdd:[]},l=!1,d=!1;return _.each(e,function(e){var t,o,n;if(e!==i){if(a&&!l&&e.contains(i)){l=!0;var r=s.splitCuts(e,i);(t=c.toRemove).push.apply(t,r.toRemove),(o=c.toAdd).push.apply(o,r.toAdd)}!l&&e.overlaps(i)&&(d=!0,r=s.mergeCuts(e,i),(n=c.toRemove).push.apply(n,r.toRemove),i.relativeEditorStart=r.toAdd[0].relativeEditorStart,i.relativeEditorEnd=r.toAdd[0].relativeEditorEnd)}}),!l&&d&&c.toAdd.push({relativeEditorStart:i.relativeEditorStart,relativeEditorEnd:i.relativeEditorEnd,targetId:i.targetId,targetType:i.targetType}),c},e}(),r.CutViewOperationController=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a,s;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=e.Models.TypedCallback,a=e.Models.VoidCallback,s=function(){function e(e,t,o){this.topCut=e,this.tailCut=t,this.regularCuts=o,this._onExecuting=new i,this._onExecuted=new a,this.handledCutViews=[]}return Object.defineProperty(e.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),e.prototype.applyState=function(e,t,o){this.containerDuration=e,this.targetId=t,this.targetType=o},e.prototype.activateCutControl=function(){var t=this,e=_.filter([this.topCut].concat(this.regularCuts.sort(function(e,t){return e.relativeEditorStart-t.relativeEditorStart})).concat([this.tailCut]),function(e){return void 0!==e&&e.targetId===t.targetId});_.each(e,function(e){e.activateCutControl(),_.contains(t.handledCutViews,e)||(e.onCutControlExecuting.add(function(e){return t._onExecuting.fire(e)}),e.onCutControlExecuted.add(function(){return t._onExecuted.fire()}),t.handledCutViews.push(e))}),void 0!==this.topCut&&(this.topCut.relativeEditorStart=0,this.topCut.relativeEditorEnd=0,this.topCut.toggle(0!==e[1].relativeEditorStart),this.topCut.toggleMarkers(!1)),void 0!==this.tailCut&&(this.tailCut.relativeEditorStart=this.containerDuration,this.tailCut.relativeEditorEnd=this.containerDuration,this.tailCut.toggle(e[e.length-2].relativeEditorEnd<this.containerDuration),this.tailCut.toggleMarkers(!1))},e.prototype.deactivateCutControl=function(e){void 0!==this.topCut&&this.topCut!==e&&this.topCut.deactivateCutControl(),void 0!==this.tailCut&&this.tailCut!==e&&this.tailCut.deactivateCutControl();for(var t=0,o=this.regularCuts;t<o.length;t++)o[t].deactivateCutControl(e);void 0===e&&(this.topCut&&this.topCut.toggle(!1),this.tailCut&&this.tailCut.toggle(!1))},e}(),r.CutViewResizeController=s}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),(i=r.EditorMode||(r.EditorMode={})).Default="Default",i.Pointer="Pointer",i.Cut="Cut",i.Focus="Focus"}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,s,r;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),s=n.Editor||(n.Editor={}),r=function(){function e(e,t,o,n){this.streamId=n;var r=new s.Marker(e,t,o,{accented:!0,expandsLeft:!0}),i=new s.Marker(e,t,o,{accented:!0});this.id=_.uniqueId("focus"),this.markers=[r,i];var a="<div id='"+this.id+"' class='timeline-focus'></div>";e.append(a),this.$focus=e.find("#"+this.id)}return e.prototype.refresh=function(){_.each(this.markers,function(e){e.refresh()}),this.$focus.css({left:this.markers[0].left-this.markers[0].width/2+"px",width:this.markers[1].left-this.markers[0].left+this.markers[0].width+"px"})},e.prototype.remove=function(){this.$focus.remove(),_.each(this.markers,function(e){e.remove()})},e.prototype.overlaps=function(e){return this.streamId===e.targetId&&e.relativeEditorEnd>this.markers[0].containerRelativeTime&&e.relativeEditorStart<this.markers[1].containerRelativeTime},e.prototype.contains=function(e){return this.streamId===e.targetId&&e.relativeEditorStart>=this.markers[0].containerRelativeTime&&e.relativeEditorEnd<=this.markers[1].containerRelativeTime},e.prototype.contained=function(e){return this.streamId===e.targetId&&e.relativeEditorStart<this.markers[0].containerRelativeTime&&e.relativeEditorEnd>this.markers[1].containerRelativeTime},e.prototype.clipCutAtEdge=function(e){e.relativeEditorStart<this.markers[0].containerRelativeTime&&e.relativeEditorEnd>this.markers[0].containerRelativeTime?e.relativeEditorEnd=this.markers[0].containerRelativeTime:e.relativeEditorStart<this.markers[1].containerRelativeTime&&e.relativeEditorEnd>this.markers[1].containerRelativeTime&&(e.relativeEditorStart=this.markers[1].containerRelativeTime)},Object.defineProperty(e.prototype,"relativeEditorStart",{get:function(){return this.markers[0].containerRelativeTime},set:function(e){this.markers[0].containerRelativeTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeEditorEnd",{get:function(){return this.markers[1].containerRelativeTime},set:function(e){this.markers[1].containerRelativeTime=e},enumerable:!0,configurable:!0}),e.prototype.setContainerTime=function(e,t){this.markers[0].setContainerTime(e,t),this.markers[1].setContainerTime(e,t)},e}(),s.FocusView=r}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=function(){function e(e,t,o,n){var r=void 0===n?{}:n,i=r.accented,a=void 0!==i&&i,s=r.expandsLeft,c=void 0!==s&&s,l=r.isPlayhead,d=void 0!==l&&l;this.container=e,this.ruler=t,this.resources=o,this.timestampVisible=!0,this.id=_.uniqueId("marker");var u=a?"accented":"";this.line=$('<div id="line'+this.id+'" class="marker-line '+u+'"></div>').appendTo(e),this.timestamp=$('<div id="markerTimestamp'+this.id+'" class="marker-timestamp '+u+'"></div>').appendTo(t),Panopto.Core.ElementHelpers.removePointerEvents(this.line.add(this.timestamp),["mousemove","mousedown"]),d&&this.line.add(this.timestamp).addClass("playhead"),this.expandsLeft=c}return e.prototype.refresh=function(){var e=this.container.width()*this._containerRelativeTime/this.duration,t=e+this.targetStart*this.container.width()/this.duration,o=this.width;this.line.css("left",Math.clamp(e,o/2,this.container.width()-o/2)),this.timestampVisible&&(this.timestamp.text(Panopto.Core.TimeHelpers.formatDuration(this.sessionRelativeTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.timeSeparator,!1,this.resources.millisecondPrecision)),this.timestamp.css({left:Math.clamp(this.expandsLeft?t-this.timestamp.outerWidth()+o/2:t-o/2,0,this.ruler.width()-this.timestamp.outerWidth())}))},e.prototype.remove=function(){this.line.remove(),this.timestamp.remove()},e.prototype.toggle=function(e){this.line.toggle(e),this.timestamp.toggle(this.timestampVisible&&e),this.line.is(":visible")&&this.refresh()},e.prototype.toggleTimestamp=function(e){this.timestampVisible=e,this.timestamp.toggle(this.timestampVisible)},Object.defineProperty(e.prototype,"containerRelativeTime",{get:function(){return this._containerRelativeTime},set:function(e){this._containerRelativeTime=Math.clamp(Math.round(e),0,this.duration),this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return parseFloat(this.line.css("left"))},set:function(e){this.containerRelativeTime=e/this.container.width()*this.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.line.outerWidth()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionRelativeTime",{get:function(){return this.containerRelativeTime+this.targetStart},set:function(e){this.containerRelativeTime=e-this.targetStart},enumerable:!0,configurable:!0}),e.prototype.setContainerTime=function(e,t){this.targetStart=e,this.duration=t},e}(),r.Marker=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,d,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),d=r.Events||(r.Events={}),i=e.Models.TypedCallback,a=function(){function t(e){this.resources=e,this._onStackMouseover=new i,this._onStackClicked=new i,this.events=[],this.thumbRatios={},this.$thumbnailContainer=$(t.thumbnailContainerTemplate)}return t.prototype.getElement=function(){return this.$thumbnailContainer},Object.defineProperty(t.prototype,"onStackMouseover",{get:function(){return this._onStackMouseover},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStackClicked",{get:function(){return this._onStackClicked},enumerable:!0,configurable:!0}),t.prototype.applyState=function(e){this.containerDuration=this.getEventsViewDuration(e),this.events=this.getEvents(e),this.refresh()},t.prototype.refresh=function(){var n=this;this.getThumbRatios().then(function(){var e=n.$thumbnailContainer.width()/n.containerDuration,t=n.$thumbnailContainer.height(),o=n.getStackedEvents(n.events,n.thumbRatios,e,t);n.$thumbnailContainer.empty(),_.each(o,function(t){var e=n.renderEventStack(t);e.on("mousedown",function(e){e.stopPropagation(),n._onStackClicked.fire(t)}),e.on("mousemove",function(e){e.stopPropagation(),n._onStackMouseover.fire(t)}),n.$thumbnailContainer.append(e)})})},t.prototype.getStackedEvents=function(e,t,o,n){var r,i,a,s,c=this,l=[];return _.each(e,function(e){i=r?r.left:-1/0,a=r?r.width():0,(s=c.getLeftPixelsFromEvent(e,o))<i+a?r.events.push(e):(r=new d.EventStack([e],s,t[e.thumbnailUrl||c.resources.noThumbnailUrl]*n),l.push(r))}),l},t.prototype.getThumbRatios=function(){var n=this,r=[];return _.each(this.events,function(e){var t=e.thumbnailUrl||n.resources.noThumbnailUrl;if(!n.thumbRatios[t]){n.thumbRatios[t]=1;var o=$.Deferred();r.push(o),Panopto.Core.ImageHelpers.getAspectRatio(t,function(e){n.thumbRatios[t]=e,o.resolve()})}}),$.when.apply($,r)},t.prototype.getLeftPixelsFromEvent=function(e,t){return e.streamRelativeEditorTime*t},t.thumbnailContainerTemplate="<div class='"+(t.thumbnailContainerClass="stream-thumbnail-container")+"'></div>",t}(),d.BaseEventsView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Events||(r.Events={}),a=function(t){function o(e){return t.call(this,e)||this}return __extends(o,t),o.prototype.getEventsViewDuration=function(e){return e.duration()},o.prototype.getEvents=function(n){return _.chain(n.events()).filter(function(e){return e.type===Panopto.Core.EventType.SlideChange&&!e.isDefaultThumbnail}).map(function(e){var t=n.calculateEditorTimeTicksFromAbsolute(e.timelineTime),o=n.calculateEditorTimeFromAbsolute(e.timelineTime);return{id:e.id,thumbnailUrl:e.thumbnailUrl,streamRelativeEditorTime:t,editorTime:o,type:Panopto.Core.EventTargetType.PowerPoint,isSlide:!0}}).value()},o.prototype.renderEventStack=function(e){var t=1===e.events.length?o.eventTemplate:o.stackTemplate;return $(t({id:e.id,left:e.left,src:e.events[0].thumbnailUrl||this.resources.noThumbnailUrl}))},o.eventTemplate=_.template("<img id='<@= id @>' src='<@= src @>' class='event-view' style='left:<@= left @>px;' />"),o.stackTemplate=_.template("<div id='<@= id @>' class='event-stack' style='left:<@= left @>px;'>\n            <div class='event-stack-image-row'>\n                <img src='<@= src @>' class='event-stack-image' />\n                <div class='event-stack-border-side'>\n                    <div class='event-stack-border-side-top'></div>\n                </div>\n            </div>\n            <div class='event-stack-border-row'>\n                <div class='event-stack-border-left'></div>\n                <div class='event-stack-border-middle'></div>\n                <div class='event-stack-border-right'></div>\n            </div>\n        </div>"),o}(i.BaseEventsView),i.PresentationEventsView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a,s;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=e.Core.UI.Components.Editor.Events.PresentationEventsView,a=function(){function t(e){this.presentationRow=$(t.presentationRowTemplate),this.eventsView=new i(e),this.presentationRow.append(this.eventsView.getElement())}return t.prototype.getElement=function(){return this.presentationRow},Object.defineProperty(t.prototype,"onStackMouseover",{get:function(){return this.eventsView.onStackMouseover},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStackClicked",{get:function(){return this.eventsView.onStackClicked},enumerable:!0,configurable:!0}),t.prototype.applyState=function(e){this.eventsView.applyState(e)},t.prototype.toggle=function(e){this.presentationRow.toggle(e)},t.prototype.refresh=function(){this.presentationRow.is(":visible")&&this.eventsView.refresh()},t.presentationRowTemplate="<div class='timeline-row presentation-row'></div>",t}(),s=function(r){function e(e,t,o){var n=r.call(this,o)||this;return n.$iconPane=e,n.$streamPane=t,n.resources=o,n.iconId="presentationIcon",n.iconTemplate="<div id='"+n.iconId+"' class='timeline-label' title='"+n.resources.presentationName+"'><span>SL</span></div>",n.$icon=$(n.iconTemplate),n.$streamPane.append(n.presentationRow),n}return __extends(e,r),e.prototype.toggle=function(e){r.prototype.toggle.call(this,e),this.$icon.toggle(e),this.$iconPane.append(this.$icon)},e}(r.SimplePresentationView=a),r.PresentationView=s}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=Panopto.Core.UI.Components||{},Panopto.Core.UI.Components.Editor=Panopto.Core.UI.Components.Editor||{},Panopto.Core.UI.Components.Editor.Ruler=function(e,t,p){var o,n,f,m,h=Panopto.Core.Constants,v=_.map([1,5,10,30,60,300,600,1800,3600],function(e){return e*h.TimelineChunkMultiplier}),r=function(e){var t,o,n,r,i=e.getVisualWidth()/p,a=e.getDrawnWidth()/i,s=_.min(v,function(e){return Math.abs(Math.log(a/e)/Math.log(6)-1)}),c=v[v.indexOf(s)-1]||s,l=v[v.indexOf(s)-2]||c;f.height=f.offsetHeight,m.clearRect(0,0,f.width,f.height),m.beginPath();for(var d=e.getDrawnLeftPosition()/i,u=l*Math.ceil(d/l);u<d+e.getDrawnWidth()/i;u+=l)t=(u-d)*i,o=(r=u%s==0)?12:u%c==0?6:3,t=Math.floor(t)+.5,o=Math.floor(o)+.5,m.moveTo(t,f.height),m.lineTo(t,f.height-o),m.strokeStyle=h.CanvasRulerTickColor,m.stroke(),m.fillStyle=h.CanvasFontColor,r&&(n=Panopto.Core.TimeHelpers.formatDuration(u/h.TimelineChunkMultiplier,":"),m.fillText(n,t+4,f.height-6))};t.html(_.template("<canvas></canvas>")),o=t.find("canvas"),(f=o[0]).width=e.width(),(m=f.getContext("2d")).font=h.CanvasFont,m.fillStyle=h.CanvasFontColor,n=new PanoptoTS.Data.VisualViewport(0,1,0,e.width(),e.width(),{expandFactor:2,positionChanged:function(e){f.style.left=e+"px"},widthChanged:function(e){f.width=e},draw:function(e){return r(e)}});return{duration:function(e){p=e,r(n)},updateViewport:function(e,t,o){n.updateViewport(e,t,o)}}},function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=function(){function e(){}return e.prototype.computeSnapTargets=function(e){var t=[];return _.each(e.sessionReferences,function(e){t.push(new r.SnapRange(e.editorStartTime,e.editorStartTime+e.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier))}),t},e}(),r.SessionAndStreamSnapTargetsGenerator=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=function(){function e(){}return Object.defineProperty(e.prototype,"sessionReferenceId",{set:function(e){this._sessionReferenceId=e},enumerable:!0,configurable:!0}),e.prototype.computeSnapTargets=function(t){var o=this,n=[],e=_.find(t.sessionReferences,function(e){return e.id===o._sessionReferenceId});return n.push(new r.SnapMinimum(e.editorStartTime)),n.push(new r.SnapMaximum(e.editorStartTime+e.getTimelineDuration())),_.chain(t.cuts()).filter(function(e){return e.targetId===o._sessionReferenceId}).each(function(e){n.push(new r.SnapPoint(t.calculateEditorTimeForCutInClip(e.start,e.targetId)),new r.SnapPoint(t.calculateEditorTimeForCutInClip(e.end(),e.targetId)))}),n},e}(),r.SessionReferenceSnapTargetsGenerator=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=function(){function e(e,t,o){this.streamPane=e,this.playhead=t,this.snapTargetsGenerator=o,this.snapTargets=[]}return e.prototype.applyState=function(e){this.snapTargets=this.snapTargetsGenerator.computeSnapTargets(e),this.timelineDuration=e.duration(),this.refresh()},e.prototype.refresh=function(){this.tolerance=Panopto.Core.Constants.SnapTolerance*this.timelineDuration/this.streamPane.width()},e.prototype.getSnapTargets=function(){return this.snapTargets.concat([new r.SnapPoint(this.playhead.sessionRelativeTime)])},e.prototype.snap=function(t){var o=this,n=t;return _.find(this.getSnapTargets(),function(e){if((n=e.snap(t,o.tolerance))!==t)return!0}),n},e}(),r.SnapService=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),function(e){var t=function(){function e(e){this.ticks=e}return e.prototype.snap=function(e,t){return Math.abs(e-this.ticks)<=t?this.ticks:e},e}();e.SnapPoint=t;var o=function(){function e(e,t){this.startTicks=e,this.endTicks=t}return e.prototype.snap=function(e,t){var o=this.startTicks-t,n=this.endTicks+t,r=Math.abs(e-o),i=Math.abs(e-n);return o<=e&&e<=n?r<i?this.startTicks:this.endTicks:e},e}();e.SnapRange=o;var n=function(){function e(e){this.ticks=e}return e.prototype.snap=function(e,t){return e>=this.ticks-t?this.ticks:e},e}();e.SnapMaximum=n;var r=function(){function e(e){this.ticks=e}return e.prototype.snap=function(e,t){return e<=this.ticks+t?this.ticks:e},e}();e.SnapMinimum=r}((n=o.Components||(o.Components={})).Editor||(n.Editor={}))}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Events||(r.Events={}),a=function(r){function e(e,t,o){var n=r.call(this,o)||this;return n.streamId=e,n.cutsVisible=t,n}return __extends(e,r),e.prototype.getEventsViewDuration=function(t){var o=this;if(this.stream=_.find(t.streams(),function(e){return e.id===o.streamId}),void 0===this.stream)throw new Error("Couldn't find stream with ID "+this.streamId+" in timeline state");var n=t.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);return this.cutsVisible||_.chain(t.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).each(function(e){e.start+t.absoluteStart()>o.stream.absoluteStart&&e.start+t.absoluteStart()<=o.stream.absoluteStart+o.stream.duration&&(n-=e.duration)}),n},e}(i.BaseEventsView),i.StreamEventsView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Events||(r.Events={}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getEvents=function(){return[]},t.prototype.renderEventStack=function(){throw new Error("Method not implemented.")},t}(i.StreamEventsView),i.AudioOnlyPrimaryEventsView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Events||(r.Events={}),a=function(o){function t(e,t){return o.call(this,e,!1,t)||this}return __extends(t,o),t.prototype.getEvents=function(n){for(var r=this,e=[],i=0,a=0,t=function(){var t=a*s.stream.thumbnailInterval;if(!_.chain(n.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).some(function(e){if(e.start<=t&&e.start+e.duration>t)return!0}).value()){var o=t;_.chain(n.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).each(function(e){e.start+n.absoluteStart()>=r.stream.absoluteStart&&e.start<=t&&(o-=e.duration)}),e.push({id:void 0,thumbnailUrl:s.stream.thumbnailUrlBase.format(a),streamRelativeEditorTime:o})}i+=s.stream.thumbnailInterval,a++},s=this;i<this.stream.duration;)t();return e},t.prototype.renderEventStack=function(e){return $(t.thumbnailTemplate({left:e.left,src:e.events[0].thumbnailUrl}))},t.thumbnailClass="stream-thumbnail",t.thumbnailTemplate=_.template("<img src='<@= src @>' class='"+t.thumbnailClass+"' style='left:<@= left @>px;' />"),t}(i.StreamEventsView),i.ClipPrimaryEventsView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Streams||(r.Streams={}),a=function(){function o(e,t){this.streamId=e,this.cutsVisible=t,this.$icon=$(o.iconTemplate),this.$row=$(o.streamTemplate),this.$stream=this.$row.find("."+o.timelineStreamClass),this.$markerContainer=this.$row.find("."+o.markerContainerClass)}return o.prototype.getElement=function(){return this.$row},o.prototype.applyState=function(e){var t=this.getStream(e),o=this.getElementPosition(e,t),n={left:100*o.leftPositionTimelineRatio+"%",width:100*o.widthTimelineRatio+"%"};this.$stream.css(n),this.$markerContainer.css(n),this.eventsView.applyState(e)},o.prototype.updateViewport=function(e,t,o){this.eventsView.refresh()},o.prototype.getStream=function(e){var t=this,o=_.find(e.streams(),function(e){return e.id===t.streamId});if(void 0===o)throw new Error("Couldn't find stream with ID "+this.streamId+" in timeline state");return o},o.prototype.getElementPosition=function(e,t){var n=e.calculateEditorTimeTicksFromAbsolute(t.absoluteStart),o=e.calculatePaddedDuration(t.duration,t.absoluteStart),r=n+o,i=e.duration();if(!this.cutsVisible){var a=0,s=0;_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).sortBy(function(e){return-e.start}).each(function(e){if(e.start<n&&(a-=e.duration),e.start<r&&e.end()>n){var t=Math.max(e.start,n),o=Math.min(e.end(),r)-t;s-=Math.max(0,o)}i-=e.duration}),n+=a,o+=s}return{leftPositionTimelineRatio:n/i,widthTimelineRatio:o/i}},o.timelineStreamClass="timeline-stream",o.markerContainerClass="stream-marker-container",o.streamIconClass="stream-icon",o.streamRowClass="stream-row",o.iconTemplate="\n            <div class='timeline-label "+o.streamIconClass+"'></div>",o.streamTemplate="\n            <div class='timeline-row "+o.streamRowClass+"'>\n                <div class='"+o.timelineStreamClass+"'></div>\n                <div class='"+o.markerContainerClass+"'></div>\n            </div>",o}(),i.BaseStreamView=a}(PanoptoTS||(PanoptoTS={})),function(c){var e,t,o,n,r,l,d,i;e=c.Core||(c.Core={}),t=e.UI||(e.UI={}),o=t.Components||(t.Components={}),n=o.Editor||(o.Editor={}),r=n.Streams||(n.Streams={}),l=c.Core.UI.Components.Editor.Events.AudioOnlyPrimaryEventsView,d=c.Core.UI.Components.Editor.Events.ClipPrimaryEventsView,i=function(a){function s(e,t,o,n,r){var i=a.call(this,e,o)||this;return i.histogramDataLoadedPromise=$.Deferred(),i.eventsView=t?new l(e,!0,r):new d(e,r),i.$stream.append(i.eventsView.getElement()),i.$histogram=$(s.histogramTemplate),i.$stream.append(i.$histogram),i.$icon.add(i.$row).addClass(s.primaryClass),n.getHistogram(e,function(e){i.streamHistogramData=e,i.histogramDataLoadedPromise.resolve()},function(){i.histogramDataLoadedPromise.reject()}),i}return __extends(s,a),s.prototype.applyState=function(o){var n=this;a.prototype.applyState.call(this,o),this.histogramDataLoadedPromise.then(function(){var e=n.getStream(o),t=n.generateHistogramDataToRender(o,e);n.renderHistogram(o,t,e)})},s.prototype.updateViewport=function(e,t,o){var n=this;a.prototype.updateViewport.call(this,e,t,o),this.histogramDataLoadedPromise.then(function(){n.waveform.getViewport().updateViewport(e,t,o)})},s.prototype.generateHistogramDataToRender=function(e,t){var o=this.$histogram.height(),n=_.max(this.streamHistogramData)||1,r=[];return _.each(this.streamHistogramData,function(e){r.push(Math.max(e/n,1/o))}),this.modifyHistogramData(e,r,t),r},s.prototype.renderHistogram=function(e,t,o){var n=this.getElementPosition(e,o);this.$histogram.empty();var r=new Waveform({container:this.$histogram[0],interpolate:!1,innerColor:Panopto.Core.Constants.CanvasFontColor}),i=e.calculatePaddedDuration(o.duration,o.absoluteStart);this.waveform=new c.UI.Components.WaveformViewport(t,0,i,r,n.leftPositionTimelineRatio,n.widthTimelineRatio,0)},s.primaryClass="primary",s.histogramTemplate="<div class='"+(s.histogramClass="stream-histogram")+"'></div>",s}(r.BaseStreamView),r.PrimaryStreamView=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Streams||(r.Streams={}),a=function(r){function e(e,t,o,n){return r.call(this,e,t,!1,o,n)||this}return __extends(e,r),e.prototype.modifyHistogramData=function(e,r,t){var i=e.calculateEditorTimeTicksFromAbsolute(t.absoluteStart),a=e.calculatePaddedDuration(t.duration,t.absoluteStart)+i,s=t.duration/r.length;_.chain(e.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).sortBy(function(e){return-e.start}).each(function(e){if(e.start<a&&e.end()>i){var t=Math.max(e.start,i),o=Math.floor((Math.min(e.end(),a)-t)/s),n=Math.floor(t/s);r.splice(n,Math.max(0,o))}})},e}(i.PrimaryStreamView),i.ClipPrimaryStreamView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Events||(r.Events={}),a=function(n){function t(e,t,o){return n.call(this,e,t,o)||this}return __extends(t,n),t.prototype.getEvents=function(n){var r=this;return _.chain(n.events()).filter(function(e){return e.streamId===r.streamId}).filter(function(e){return!e.isDefaultThumbnail&&!e.link}).map(function(t){var o=n.calculateEditorTimeTicksFromAbsolute(t.timelineTime);r.cutsVisible||_.chain(n.cuts()).filter(function(e){return e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session}).each(function(e){e.start+n.absoluteStart()>=r.stream.absoluteStart&&e.start+n.absoluteStart()<=t.timelineTime&&(o-=e.duration)});var e=o/Panopto.Core.Constants.TimelineChunkMultiplier;return{id:t.id,thumbnailUrl:t.thumbnailUrl,streamRelativeEditorTime:n.calculateRelativeEditorTimeFromEditorTime(o,r.streamId),editorTime:e,type:t.type,isSlide:!1}}).value()},t.prototype.renderEventStack=function(e){return $((1===e.events.length?t.eventTemplate:t.stackTemplate)({id:e.id,left:e.left,src:e.events[0].thumbnailUrl||this.resources.noThumbnailUrl}))},t.eventTemplate=_.template("<img id='<@= id @>' src='<@= src @>' class='event-view' style='left:<@= left @>px;' />"),t.stackTemplate=_.template("<div id='<@= id @>' class='event-stack' style='left:<@= left @>px;'>\n                <div class='event-stack-image-row'>\n                    <img src='<@= src @>' class='event-stack-image' />\n                    <div class='event-stack-border-side'>\n                        <div class='event-stack-border-side-top'></div>\n                    </div>\n                </div>\n                <div class='event-stack-border-row'>\n                    <div class='event-stack-border-left'></div>\n                    <div class='event-stack-border-middle'></div>\n                    <div class='event-stack-border-right'></div>\n                </div>\n            </div>"),t}(i.StreamEventsView),i.SecondaryEventsView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a,s;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Streams||(r.Streams={}),a=e.Core.UI.Components.Editor.Events.SecondaryEventsView,s=function(n){function e(e,t){var o=n.call(this,e,!1)||this;return o.eventsView=new a(e,!1,t),o.$stream.append(o.eventsView.getElement()),o}return __extends(e,n),e}(i.BaseStreamView),i.ClipSecondaryStreamView=s}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,s,c,l,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),s=n.Editor||(n.Editor={}),c=e.Models.TypedCallback,l=e.Models.VoidCallback,r=e.Core.UI.Components.Editor.Streams.ClipPrimaryStreamView,i=e.Core.UI.Components.Editor.Streams.ClipSecondaryStreamView,a=function(){function a(e,t,o,n,r){var i=this;this.timelineView=e,this.ruler=t,this.streamPane=o,this.playhead=n,this.resources=r,this.streamViews=[],this.cutViews=[],this._onExecuting=new c,this._onExecuted=new l,this.element=$(a.template()),this.elementContents=this.element.find(".splice-view-contents"),this.titleBar=this.element.find(".splice-view-title-bar"),this.elementMarkerContainer=this.element.find(".splice-view-marker-container"),this.snapTargetsGenerator=new s.SessionReferenceSnapTargetsGenerator,this.snapService=new s.SnapService(this.streamPane,this.playhead,this.snapTargetsGenerator),this.presentationView=new s.SimplePresentationView(this.resources),this.presentationView.onStackMouseover.add(function(){i.timelineView.removeTemporaryMarker()}),this.presentationView.onStackClicked.add(function(e){i.timelineView.setPosition(e.events[0].streamRelativeEditorTime)}),this.topCut=new s.TopCutView(this.elementMarkerContainer,this.ruler,this.timelineView,this.snapService,this.resources,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference),this.tailCut=new s.TailCutView(this.elementMarkerContainer,this.ruler,this.timelineView,this.snapService,this.resources,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference),this.topCut.toggle(!1),this.tailCut.toggle(!1),this.cutViewResizeController=new s.CutViewResizeController(this.topCut,this.tailCut,this.cutViews),this.cutViewResizeController.onCutControlExecuting.add(function(e){i._onExecuting.fire(e)}),this.cutViewResizeController.onCutControlExecuted.add(function(){i._onExecuted.fire()})}return Object.defineProperty(a.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),a.prototype.getElement=function(){return this.element},a.prototype.render=function(o,e){var n=this;this.sessionReference=o,this.timelineState=e,this.snapTargetsGenerator.sessionReferenceId=o.id,this.titleBar.text(this.sessionReference.name),this.streamViews.length=0,this.elementContents.empty(),_.chain(this.sessionReference.streams).sortBy(function(e){return e.absoluteStart}).sortBy(function(e){return e.isPrimary?0:1}).each(function(e){var t;(t=e.isPrimary?new r(e.id,e.type===Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Audio,Panopto.Core.ServiceInterface.Rest.Streams,n.resources):new i(e.id,n.resources)).applyState(o.timelineState),n.streamViews.push(t),n.elementContents.append(t.getElement())}),this.elementContents.append(this.presentationView.getElement()),this.sessionReference.slideEvents.length?(this.presentationView.toggle(!0),this.presentationView.applyState(this.sessionReference.timelineState)):this.presentationView.toggle(!1),this.topCut.targetId=this.sessionReference.id,this.topCut.setContainerTime(this.sessionReference.editorStartTime,this.sessionReference.getTimelineDuration()),this.tailCut.targetId=this.sessionReference.id,this.tailCut.setContainerTime(this.sessionReference.editorStartTime,this.sessionReference.getTimelineDuration()),this.cutViewResizeController.applyState(this.sessionReference.getTimelineDuration(),this.sessionReference.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference),this.applyState(e),this.refresh()},a.prototype.applyState=function(e){this.snapService.applyState(e)},a.prototype.refresh=function(){var e=this.sessionReference.editorStartTime/this.timelineState.duration()*100,t=this.sessionReference.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier/this.timelineState.duration()*100;this.element.css("left",e+"%"),this.element.width(t+"%"),this.presentationView.refresh(),this.snapService.refresh(),this.topCut.refresh(),this.tailCut.refresh()},a.prototype.activateCutControl=function(){this.cutViewResizeController.activateCutControl()},a.prototype.deactivateCutControl=function(e){this.cutViewResizeController.deactivateCutControl(e)},a.prototype.updateViewport=function(){var t=this;_.each(this.streamViews,function(e){return e.updateViewport(0,t.element.width(),t.element.width())})},a.prototype.getHeight=function(){return _.reduce(this.streamViews,function(e,t){return e+t.getElement().outerHeight()},0)+(0<this.sessionReference.slideEvents.length?this.presentationView.getElement().outerHeight():0)},a.prototype.addCut=function(e,t){var o=new s.CutView(this.elementMarkerContainer,this.ruler,this.timelineView,this.snapService,this.resources,this.sessionReference.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference);return o.setContainerTime(this.sessionReference.editorStartTime,this.sessionReference.getTimelineDuration()),o.relativeEditorStart=e,o.relativeEditorEnd=t,o.refresh(),this.cutViews.push(o),o},a.prototype.isVirtualCutView=function(e){return e===this.topCut||e===this.tailCut},a.prototype.removeCut=function(e){this.cutViews.splice(this.cutViews.indexOf(e),1)},a.template=_.template('\n        <div class="splice-view">\n            <div class="splice-view-overlay-container">\n                <div class="splice-view-contents" />\n            </div>\n            <div class="splice-view-overlay-container">\n                <div class="splice-view-marker-container" />\n            </div>\n            <div class="splice-view-border" />\n            <div class="splice-view-title-bar" />\n        </div>'),a}(),s.SpliceView=a}(PanoptoTS||(PanoptoTS={})),function(n){var e,t,o,d,u,p,f,r;e=n.Core||(n.Core={}),t=e.UI||(e.UI={}),o=t.Components||(t.Components={}),d=o.Editor||(o.Editor={}),u=n.Models.TypedCallback,p=n.Models.VoidCallback,f=n.Core.UI.Components.Editor.Events.SecondaryEventsView,r=function(){function l(e,t,o,n,r,i,a,s){var c=this;this.timelineView=e,this.$ruler=t,this.streamPane=o,this.playhead=n,this.stream=r,this.timelineDuration=i,this.resources=a,this.timelineState=s,this.cutViews=[],this._onExecuting=new u,this._onExecuted=new p,this.serverHistogramData=[],this.normalizedData=[],this.isAudio=this.stream.type===Panopto.Core.ServiceInterface.Rest.Objects.StreamContentType.Audio,this.histogramDataLoadedPromise=$.Deferred(),this.isPrimary=this.stream.isPrimary,this.id=this.stream.id,this.$icon=$(l.iconTemplate),this.$row=$(l.streamTemplate),this.$stream=this.$row.find("."+l.timelineStreamClass),this.$thumbnailContainer=this.$stream.find("."+l.thumbnailContainerClass),this.$histogram=this.$stream.find("."+l.histogramClass),this.$markerContainer=this.$row.find("."+l.markerContainerClass),r.isPrimary?(this.$icon.add(this.$row).addClass(l.primaryClass),this.isAudio&&this.$icon.add(this.$row).addClass("audio"),Panopto.Core.ServiceInterface.Rest.Streams.getHistogram(r.id,function(e){c.serverHistogramData=e,c.initializeHistogram(e),c.histogramDataLoadedPromise.resolve()},function(){})):(this.eventsView=new f(this.stream.id,!0,a),this.$thumbnailContainer.append(this.eventsView.getElement()),this.temporaryMarker=this.addMarker(0),this.temporaryMarker.toggle(!1),this.temporaryCutView=this.addCut(0,0),this.temporaryCutView.toggle(!1),this.snapTargetsGenerator=new d.SessionAndStreamSnapTargetsGenerator,this.snapService=new d.SnapService(this.streamPane,this.playhead,this.snapTargetsGenerator),this.cutViewCreateController=new d.CutViewCreateController(this.$markerContainer,this.snapService,this.temporaryMarker,this.temporaryCutView),this.cutViewCreateController.onCutControlExecuting.add(function(e){c._onExecuting.fire(e)}),this.cutViewCreateController.onCutControlExecuted.add(function(){c._onExecuted.fire()}),this.cutViewCreateController.cutCreated.add(function(e){c.timelineView.addCut(!0,e.relativeEditorStart,e.relativeEditorEnd,e.cutTargetId,e.cutTargetType,!1)}),this.cutViewResizeController=new d.CutViewResizeController(void 0,void 0,this.cutViews),this.cutViewResizeController.onCutControlExecuting.add(function(e){c._onExecuting.fire(e)}),this.cutViewResizeController.onCutControlExecuted.add(function(){c._onExecuted.fire()})),this.updateTimelineState(s),this.updateStream(r),this.refresh()}return Object.defineProperty(l.prototype,"onCutControlExecuting",{get:function(){return this._onExecuting},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onCutControlExecuted",{get:function(){return this._onExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"groupSortOrder",{set:function(e){var t=this.stream.isPrimary?Panopto.GlobalResources.ViewerPlus_Edit_Primary_Label.format(e):Panopto.GlobalResources.ViewerPlus_Edit_Secondary_Label.format(e);this.$icon.attr("title",this.resources.getStreamName(this.stream,e)),this.$icon.html("<span>"+t+"</span>")},enumerable:!0,configurable:!0}),l.prototype.getStreamRelativeLeftPercent=function(e){return e/this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart)*100},l.prototype.refreshThumbnails=function(){var i=this,t=function(){var e=Math.floor(i.stream.duration/i.stream.thumbnailInterval)+1,t=i.$stream.width()/i.thumbnailWidth,o=Math.ceil(e/t);i.thumbnailSpacing,i.thumbnailSpacing=o,i.$thumbnailContainer.find("."+l.thumbnailClass).remove();for(var n=0;n<e;n+=i.thumbnailSpacing){var r=i.timelineState.calculateRelativeEditorTime(n*i.stream.thumbnailInterval,i.stream.id);i.$thumbnailContainer.append(l.thumbnailTemplate({src:i.stream.thumbnailUrlBase.format(n),left:i.getStreamRelativeLeftPercent(r)+"%"}))}};this.eventsView?this.eventsView.refresh():!this.isAudio&&this.stream.thumbnailUrlBase&&(this.thumbnailWidth?t():Panopto.Core.ImageHelpers.getAspectRatio(this.stream.thumbnailUrlBase.format(0),function(e){0<i.$thumbnailContainer.height()&&(i.thumbnailWidth=e*i.$thumbnailContainer.height(),t())}))},l.prototype.refresh=function(){this.refreshThumbnails(),this.snapService&&this.snapService.refresh()},l.prototype.updateTimelineState=function(e){var t=this;this.timelineState=e,this.timelineDuration=this.timelineState.duration(),this.normalizedData=_.clone(this.serverHistogramData),_.chain(this.timelineState.sessionReferences).sortBy(function(e){return e.order}).sortBy(function(e){return e.start}).each(function(e){t.addSessionReference(e)}),this.stream.isPrimary&&this.histogramDataLoadedPromise.done(function(){t.initializeHistogram(_.clone(t.normalizedData))}),this.eventsView&&this.eventsView.applyState(e),this.updateTimelineStateWhenChangeIsTimelineViewTriggered(e)},l.prototype.updateTimelineStateWhenChangeIsTimelineViewTriggered=function(e){this.snapService&&this.snapService.applyState(e)},l.prototype.activateCutControl=function(){this.isPrimary||(this.cutViewCreateController.activateCutControl(),this.cutViewResizeController.activateCutControl())},l.prototype.deactivateCutControl=function(e){this.isPrimary||(this.cutViewCreateController.deactivateCutControl(e),this.cutViewResizeController.deactivateCutControl(e))},l.prototype.updateStream=function(e){this.stream=e,this.isPrimary=this.stream.isPrimary,this.id=this.stream.id,this.$icon.attr("title",this.resources.getStreamName(this.stream));var t=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),o=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);this.leftPositionTimelineRatio=t/this.timelineDuration,this.widthTimelineRatio=o/this.timelineDuration,this.$stream.add(this.$markerContainer).css({left:100*this.leftPositionTimelineRatio+"%",width:100*this.widthTimelineRatio+"%"}),this.isPrimary||(this.temporaryMarker.setContainerTime(t,o),this.temporaryCutView.setContainerTime(t,o),this.cutViewCreateController.applyState(t,o,this.stream.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream),this.cutViewResizeController.applyState(o,this.stream.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream)),this.waveform&&this.waveform.getViewport().updateVisualRatios(this.leftPositionTimelineRatio,this.widthTimelineRatio)},l.prototype.remove=function(){this.$icon.remove(),this.$row.remove()},l.prototype.initializeHistogram=function(e){this.normalizeHistogramData(e,this.$histogram.height()),this.$histogram.empty();var t=new Waveform({container:this.$histogram[0],interpolate:!1,innerColor:Panopto.Core.Constants.CanvasFontColor}),o=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);this.waveform=new n.UI.Components.WaveformViewport(this.normalizedData,0,o,t,this.leftPositionTimelineRatio,this.widthTimelineRatio,this.timelineView.width())},l.prototype.normalizeHistogramData=function(e,t){for(var o=this,n=e[0],r=e[0],i=0,a=e;i<a.length;i++){var s=a[i];n<s?n=s:s<r&&(r=s)}return this.normalizedData.length=0,n===r?_.each(e,function(){o.normalizedData.push(1/t)}):_.each(e,function(e){o.normalizedData.push(Math.max(e/n,1/t))}),this.normalizedData},l.prototype.addMarker=function(e){var t=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),o=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart),n=new d.Marker(this.$markerContainer,this.$ruler,this.resources);return n.setContainerTime(t,o),n.containerRelativeTime=e,n},l.prototype.addCut=function(e,t){var o=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),n=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart),r=new d.CutView(this.$markerContainer,this.$ruler,this.timelineView,this.snapService,this.resources,this.stream.id,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream);return r.setContainerTime(o,n),r.relativeEditorStart=e,r.relativeEditorEnd=t,r.refresh(),this.cutViews.push(r),r},l.prototype.addFocus=function(e,t){var o=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),n=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart),r=new d.FocusView(this.$markerContainer,this.$ruler,this.resources,this.stream.id);return r.setContainerTime(o,n),r.relativeEditorStart=e,r.relativeEditorEnd=t,r.refresh(),r},l.prototype.addSessionReference=function(a){var s=this,e=this.timelineState.calculateEditorTimeTicksFromAbsolute(this.stream.absoluteStart),t=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart)+e;if(this.isPrimary&&a.start>e&&a.start<t){var c=this.timelineState.calculateSessionReferenceEditorStartTime(a)-e;this.histogramDataLoadedPromise.done(function(){for(var e,t=s.stream.duration/s.serverHistogramData.length,o=Math.floor(c/t),n=Math.floor(a.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier/t),r=[],i=0;i<n;i++)r.push(0);(e=s.normalizedData).splice.apply(e,[o,0].concat(r))})}},l.prototype.containsPoint=function(e,t){var o=this.$stream.offset();return e>=o.left&&e<=o.left+this.$stream.outerWidth()&&t>=o.top&&t<=o.top+this.$stream.outerHeight()},l.prototype.boundedTime=function(e){var t=this.timelineState.calculatePaddedDuration(this.stream.duration,this.stream.absoluteStart);return Panopto.Core.Math.clamp(e,0,t)},l.prototype.updateViewport=function(e,t,o){this.waveform&&this.waveform.getViewport().updateViewport(e,t,o)},Object.defineProperty(l.prototype,"iconElement",{get:function(){return this.$icon},enumerable:!0,configurable:!0}),l.prototype.getElement=function(){return this.$row},Object.defineProperty(l.prototype,"onStackMouseover",{get:function(){return void 0!==this.eventsView?this.eventsView.onStackMouseover:new u},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onStackClicked",{get:function(){return void 0!==this.eventsView?this.eventsView.onStackClicked:new u},enumerable:!0,configurable:!0}),l.timelineStreamClass="timeline-stream",l.thumbnailContainerClass="stream-thumbnail-container",l.histogramClass="stream-histogram",l.markerContainerClass="stream-marker-container",l.primaryClass="primary",l.streamIconClass="stream-icon",l.streamRowClass="stream-row",l.iconTemplate="\n            <div class='timeline-label "+l.streamIconClass+"'></div>",l.streamTemplate="\n            <div class='timeline-row "+l.streamRowClass+"'>\n                <div class='"+l.timelineStreamClass+"'>\n                    <div class='"+l.thumbnailContainerClass+"'></div>\n                    <div class='"+l.histogramClass+"'></div>\n                </div>\n                <div class='"+l.markerContainerClass+"'></div>\n            </div>",l.thumbnailClass="stream-thumbnail",l.thumbnailTemplate=_.template("<img src='<@= src @>' class='"+l.thumbnailClass+"' style='left:<@= left @>;' />"),l}(),d.SimpleStreamView=r}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=Panopto.Core.UI.Components||{},Panopto.Core.UI.Components.Editor=Panopto.Core.UI.Components.Editor||{},Panopto.Core.UI.Components.Editor.ThumbnailChooser=function(e,r,t){var i,a,o,n,s,c="chooser-popup",l="chooser-triangle",d="chooser-option",u="chooser-primary",p="chooser-secondary",f="chooser-upload",m='\n        <div class="'+c+'" style="display:none;">\n            <div class="'+u+" "+d+'" tabindex="0">'+t.setPrimaryAsDefaultThumbnail+'</div>\n            <div class="'+p+" "+d+'" tabindex="0">'+t.setSecondaryAsDefaultThumbnail+'</div>\n            <div class="'+f+" "+d+'" tabindex="0">'+t.uploadCustomDefaultThumbnail+'</div>\n        </div>\n        <div class="'+l+'" style="display:none;">▲</div>',h=function(){i.hide(),a.hide()};e.append(m),i=e.find("."+c),a=e.find("."+l),o=i.find("."+u),n=i.find("."+p),s=i.find("."+f),Panopto.Core.UI.Components.popup(i,r,function(){if(!r.hasClass(Panopto.Core.Constants.DisabledClass)){var e=r.offsetParent().offset(),t=r.offset(),o=t.left-e.left+r.outerWidth()/2,n=t.top-e.top+r.outerHeight();a.show().css({left:o,top:n}),i.show().css({left:Math.clamp(o-i.outerWidth()/2,0,$(window).width()-i.outerWidth()),top:n+14})}},h),Panopto.Core.UI.Handlers.button(o,function(){h(),v.fire(!0)}),Panopto.Core.UI.Handlers.button(n,function(){h(),v.fire(!1)}),Panopto.Core.UI.Handlers.button(s,function(){h(),C.fire()});var v=new PanoptoTS.Models.TypedCallback,C=new PanoptoTS.Models.VoidCallback;return{synchronize:function(e){var t=!e.playing&&e.canAddContent;o.toggle(!e.primaryAudioOnly),n.toggle(!!e.secondaryAvailable),r.toggleClass(Panopto.Core.Constants.DisabledClass,!t),t||h()},onChooseThumbnail:v,onUploadThumbnail:C}},function(r){var e,t,o,n,i;e=r.Core||(r.Core={}),t=e.UI||(e.UI={}),o=t.Components||(t.Components={}),n=o.Editor||(o.Editor={}),i=function(){function n(e,t,o,n,r,i,a){void 0===i&&(i=[]),this.inputStreams=e,this.inputCuts=t,this.inputEvents=o,this.inputSlideDecksToDelete=n,this.inputQuestionLists=r,this.sessionReferences=i,this.addedStreams=a,this.sessionReferences=i||[],this.addedStreams=a||[],this.refreshTimeline()}return n.prototype.streams=function(){return this.inputStreams},n.prototype.cuts=function(){return this.inputCuts},n.prototype.events=function(){return this.inputEvents},n.prototype.slideDecksToDelete=function(){return this.inputSlideDecksToDelete},n.prototype.questionLists=function(){return this.inputQuestionLists},n.prototype.timeline=function(){return this.inputTimeline},n.prototype.copy=function(){var e=_.map(this.inputStreams,function(e){return e.copy()}),t=_.map(this.inputCuts,function(e){return e.copy()}),o=_.map(this.inputSlideDecksToDelete,function(e){return e.copy()});return new n(e,t,_.map(this.inputEvents,function(e){var t=e.copy();return t.edited=e.edited,t}),o,_.map(this.inputQuestionLists,function(e){var t=new r.Models.Editor.EditableQuestionList;return t.copyFromEditableQuestionList(e),t}),_.map(this.sessionReferences,function(e){return e.copy()}),this.addedStreams)},n.prototype.absoluteStart=function(){return this.primaryStart},n.prototype.duration=function(){return this.primaryDuration},n.prototype.hostDuration=function(){return this.hostPrimaryDuration},n.prototype.firstPrimaryOffset=function(){return this.primaryStart-this.sessionStart},n.prototype.createTimeline=function(e){var o=Panopto.Core.Logic.Timeline.Timeline(this.inputStreams,e?this.inputCuts:[]);return _.chain(this.sessionReferences).sortBy(function(e){return e.order}).sortBy(function(e){return e.start}).reverse().each(function(e){var t=Panopto.Core.Logic.Timeline.Timeline(e.streams,e.cuts,!0);o.insertReference(e,t)}),o},n.prototype.calculatePrimaryOffsetAndDuration=function(e){var o=e.firstPrimaryIndex(),n=e.lastPrimaryIndex(),r=0,i=0;return _.each(e.elements(),function(e,t){t<o?r+=e.length():o<=t&&t<=n&&(i+=e.length())}),{primaryOffset:r,primaryDuration:i}},n.prototype.refreshTimeline=function(){var t=this;this.inputTimeline=this.createTimeline(!1);var e=Panopto.Core.Logic.Timeline.Timeline(this.inputStreams,[]);this.hostPrimaryDuration=this.calculatePrimaryOffsetAndDuration(e).primaryDuration;var o=this.calculatePrimaryOffsetAndDuration(this.inputTimeline),n=o.primaryOffset,r=o.primaryDuration;this.sessionStart=_.min(_.pluck(this.inputStreams,"absoluteStart")),this.primaryStart=this.sessionStart+n,this.primaryDuration=r,_.each(this.inputEvents,function(e){e.editorTime=t.calculateEditorTimeFromAbsolute(e.timelineTime),e.viewerTime=e.editorTime}),_.each(this.sessionReferences,function(e){e.editorStartTime=t.calculateSessionReferenceEditorStartTime(e),e.calculateViewerTimes()})},n.prototype.filterEvents=function(t){return _.filter(this.inputEvents,function(e){return e.type===t})},n.prototype.activeStreams=function(e){var t=this.calculateEditorTimeTicksFromAbsolute(e),o=0,n=_.find(this.inputTimeline.elements(),function(e){return o+=e.length(),t<o});return _.map(n.streams(),function(e){return e.stream})},n.prototype.calculateEditorTimeFromAbsolute=function(e){return this.calculateEditorTime(e-this.absoluteStart())/Panopto.Core.Constants.TimelineChunkMultiplier},n.prototype.calculateEditorTimeTicksFromAbsolute=function(e){return this.calculateEditorTime(e-this.absoluteStart())},n.prototype.calculateEditorTime=function(e,t){var o=t?_.find(this.inputStreams,function(e){return e.id===t}):void 0,n=o?e+(o.absoluteStart-this.absoluteStart()):e,r=0;return _.chain(this.sessionReferences).filter(function(e){return e.start<=n}).each(function(e){return r+=e.referencedSessionDuration}),n+r*Panopto.Core.Constants.TimelineChunkMultiplier},n.prototype.calculateEditorTimeForCut=function(e,t){return(t?_.find(this.inputStreams,function(e){return e.id===t}):void 0)?this.calculateEditorTime(e,t):this.calculateEditorTime(e-this.firstPrimaryOffset())},n.prototype.calculateEditorTimeForCutInClip=function(e,t){var o=_.find(this.sessionReferences,function(e){return e.id===t});return e+this.calculateSessionReferenceEditorStartTime(o)},n.prototype.calculateRelativeEditorTime=function(e,t){var o=_.find(this.inputStreams,function(e){return e.id===t});return this.calculateEditorTime(e,t)-(o?this.calculateEditorTimeTicksFromAbsolute(o.absoluteStart):0)},n.prototype.calculateRelativeEditorTimeForCut=function(e,t){return _.find(this.inputStreams,function(e){return e.id===t})?this.calculateRelativeEditorTime(e,t):this.calculateRelativeEditorTime(e-this.firstPrimaryOffset(),t)},n.prototype.calculateRelativeTimeFromRelativeEditorTime=function(e,t){var o=this.calculateEditorTimeFromRelativeEditorTime(e,t);return this.calculateRelativeTimeForCut(o,t)},n.prototype.calculateEditorTimeFromRelativeEditorTime=function(e,t){var o=_.find(this.inputStreams,function(e){return e.id===t});return e+(o?this.calculateEditorTimeTicksFromAbsolute(o.absoluteStart):0)},n.prototype.calculateRelativeEditorTimeFromEditorTime=function(e,t){var o=_.find(this.inputStreams,function(e){return e.id===t});return e-(o?this.calculateEditorTimeTicksFromAbsolute(o.absoluteStart):0)},n.prototype.calculateRelativeTime=function(t,o){var e=o?_.find(this.inputStreams,function(e){return e.id===o}):void 0;return _.chain(this.sessionReferences).filter(function(e){return e.editorStartTime<t}).each(function(e){return t-=e.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier}),e?t+(this.absoluteStart()-e.absoluteStart):t},n.prototype.calculateRelativeTimeForCut=function(e,t){var o=t?_.find(this.inputStreams,function(e){return e.id===t}):void 0,n=this.calculateRelativeTime(e,t);return o?n:n+this.firstPrimaryOffset()},n.prototype.calculateSessionReferenceEditorStartTime=function(t){var o=0;return _.chain(this.sessionReferences).filter(function(e){return e.start<t.start||e.start===t.start&&e.order<t.order}).each(function(e){o+=e.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier}),o+t.start},n.prototype.calculatePaddedDuration=function(e,t){var o=t-this.absoluteStart(),n=o+e,r=0;return _.chain(this.sessionReferences).filter(function(e){return e.start>o&&e.start<n}).each(function(e){return r+=e.referencedSessionDuration}),e+r*Panopto.Core.Constants.TimelineChunkMultiplier},n.prototype.getExpandedEvents=function(){var t=[];return t.push.apply(t,this.inputEvents),_.each(this.sessionReferences,function(e){t.push.apply(t,(e.events||[]).concat(e.slideEvents||[],e.captions||[]))}),t.sort(function(e,t){return e.viewerTime-t.viewerTime}),t},n.prototype.isTimeInSessionReference=function(r){return _.any(this.sessionReferences,function(e){var t=r*Panopto.Core.Constants.TimelineChunkMultiplier,o=e.editorStartTime,n=e.getTimelineDuration()+o;if(o<=t&&t<n)return!0})},n.prototype.findNextTimeNotInSessionReference=function(e){var n=e*Panopto.Core.Constants.TimelineChunkMultiplier;return _.chain(this.sessionReferences).sortBy(function(e){var t=e.editorStartTime;return e.getTimelineDuration()+t}).each(function(e){var t=e.editorStartTime,o=e.getTimelineDuration()+t;t<=n&&n<o&&(n=o+Panopto.Core.Constants.TimelineChunkMultiplier/1e3)}),n},n}(),n.TimelineState=i}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=e.Models.TypedCallback,a=function(){function n(t){var o=this;this._onTimelineExpansionToggled=new i,this._onTogglePointerMode=new i,this._onToggleCutMode=new i,this._onToggleFocusMode=new i,this._onAddContentExpansionControlToggled=new i,this._onPreviewCutsToggled=new i,this._element=$(n.template({resources:t})),this.toolToggles=this._element.find("."+n.toolToggleClass),this.expandTimelineButton=this._element.find("#"+n.expandTimelineButtonId),this.addContentButton=this._element.find("#"+n.addContentButtonId),this.previewCuts=this._element.find("#"+n.previewCutsCheckboxId),this.setThumbnailButton=this._element.find("#"+n.setThumbnailButtonId),Panopto.Core.UI.Handlers.button(this.toolToggles,function(e){switch(e.id){case n.pointerToolId:o.setMode(r.EditorMode.Pointer);break;case n.cutToolId:o.setMode(r.EditorMode.Cut);break;case n.focusToolId:o.setMode(r.EditorMode.Focus)}}),Panopto.Core.UI.Handlers.button(this.expandTimelineButton,function(){o.expandTimelineButton.toggleClass(Panopto.Core.Constants.ExpandedClass);var e=o.expandTimelineButton.hasClass(Panopto.Core.Constants.ExpandedClass);o.expandTimelineButton.attr("title",e?t.ViewerPlus_Edit_Collapse:t.ViewerPlus_Edit_Expand),o._onTimelineExpansionToggled.fire(e)}),this.addContentExpansionControl=new r.AddContentExpansionControl(Panopto.GlobalResources),this.addContentExpansionControl.toggle(!1),this.addContentButton.find(".add-content-expansion-container").append(this.addContentExpansionControl.element),Panopto.Core.UI.Components.popup(this.addContentButton.find(".add-content-expansion-container"),this.addContentButton.find(".material-icons"),function(){o.addContentExpansionControl.isVisible||(o._onAddContentExpansionControlToggled.fire(!0),o.addContentExpansionControl.toggle(!0))},function(){o.addContentExpansionControl.isVisible&&(o._onAddContentExpansionControlToggled.fire(!1),o.addContentExpansionControl.toggle(!1))}),$(document).keydown(function(e){switch(e.keyCode){case Panopto.Core.Key.One:o.setMode(r.EditorMode.Pointer);break;case Panopto.Core.Key.Two:o.setMode(r.EditorMode.Cut);break;case Panopto.Core.Key.Three:o.setMode(r.EditorMode.Focus);break;case Panopto.Core.Key.Ctrl:o.mainMode||(o.mainMode=o.currentMode,o.setMode(r.EditorMode.Cut))}}),$(document).keyup(function(e){e.keyCode===Panopto.Core.Key.Ctrl&&o.mainMode&&(o.setMode(o.mainMode),o.mainMode=void 0)}),this.previewCuts.click(function(){o.setPreviewCuts(!o.previewCutsEnabled)}),this.thumbnailChooser=Panopto.Core.UI.Components.Editor.ThumbnailChooser($("#timelineViewContainer"),this.setThumbnailButton,t),this.timelineZoom=new r.TimelineZoom(t),this._element.append(this.timelineZoom.element),this.setMode(r.EditorMode.Pointer),this.setPreviewCuts(!0)}return Object.defineProperty(n.prototype,"addStreamClicked",{get:function(){return this.addContentExpansionControl.addStreamClicked},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addClipClicked",{get:function(){return this.addContentExpansionControl.addClipClicked},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addQuizClicked",{get:function(){return this.addContentExpansionControl.addQuizClicked},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addYouTubeClicked",{get:function(){return this.addContentExpansionControl.addYouTubeClicked},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"addWebpageClicked",{get:function(){return this.addContentExpansionControl.addWebpageClicked},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onZoomLevelChanged",{get:function(){return this.timelineZoom.onZoomLevelChanged},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTimelineExpansionToggled",{get:function(){return this._onTimelineExpansionToggled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onTogglePointerMode",{get:function(){return this._onTogglePointerMode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onToggleCutMode",{get:function(){return this._onToggleCutMode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onToggleFocusMode",{get:function(){return this._onToggleFocusMode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAddContentExpansionControlToggled",{get:function(){return this._onAddContentExpansionControlToggled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onPreviewCutsToggled",{get:function(){return this._onPreviewCutsToggled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onChooseThumbnail",{get:function(){return this.thumbnailChooser.onChooseThumbnail},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onUploadThumbnail",{get:function(){return this.thumbnailChooser.onUploadThumbnail},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canAddClip",{set:function(e){this.addContentExpansionControl.canAddClip=e},enumerable:!0,configurable:!0}),n.prototype.attachMouseWheelEvent=function(e){this.timelineZoom.attachMouseWheelEvent(e)},n.prototype.applyState=function(e){var t=1<_.filter(e.streams(),function(e){return e.isPrimary}).length||1<_.filter(e.streams(),function(e){return!e.isPrimary}).length;$("#"+n.focusToolId).toggle(t)},n.prototype.resize=function(e,t){this.timelineZoom.resize(e,t)},n.prototype.synchronize=function(e){this.thumbnailChooser.synchronize(e),this.addContentExpansionControl.canAddContent=e.canAddContent,this.addContentExpansionControl.canAddEmbedEvent=e.canAddEmbedEvent},n.prototype.setMode=function(e){var t;if(e!==this.currentMode){switch(this._onTogglePointerMode.fire(!1),this._onToggleCutMode.fire(!1),this._onToggleFocusMode.fire(!1),this.currentMode=e,this.currentMode){case r.EditorMode.Pointer:this._onTogglePointerMode.fire(!0),t=n.pointerToolId;break;case r.EditorMode.Cut:this._onToggleCutMode.fire(!0),t=n.cutToolId;break;case r.EditorMode.Focus:this._onToggleFocusMode.fire(!0),t=n.focusToolId;break;case r.EditorMode.Default:}this.toolToggles.removeClass(Panopto.Core.Constants.SelectedClass),$("#"+t).addClass(Panopto.Core.Constants.SelectedClass)}},n.prototype.setPreviewCuts=function(e){this.previewCutsEnabled=e,this.previewCuts.find("."+n.previewCutsEnabledClass).toggle(this.previewCutsEnabled),this.previewCuts.find("."+n.previewCutsDisabledClass).toggle(!this.previewCutsEnabled),this._onPreviewCutsToggled.fire(this.previewCutsEnabled)},n.expandTimelineButtonId=_.uniqueId("expandTimeline"),n.pointerToolId=_.uniqueId("pointer"),n.cutToolId=_.uniqueId("cut"),n.focusToolId=_.uniqueId("focus"),n.addContentButtonId=_.uniqueId("addContent"),n.previewCutsCheckboxId=_.uniqueId("previewCuts"),n.setThumbnailButtonId=_.uniqueId("setThumbnail"),n.toolToggleClass="tool-toggle",n.previewCutsEnabledClass="preview-cuts-enabled",n.previewCutsDisabledClass="preview-cuts-disabled",n.template=_.template("\n            <div class='timeline-tools'>\n                <div id='"+n.expandTimelineButtonId+"' class='expand-timeline' title='<@- resources.ViewerPlus_Edit_Expand @>' tabindex='0'>\n                    <i class='material-icons expand'>&#xE314;</i>\n                    <i class='material-icons collapse'>&#xE315;</i>\n                </div>\n                <div class='divider'></div>\n                <div id='"+n.pointerToolId+"' class='"+n.toolToggleClass+" accented-tab' title='<@- resources.pointerTool @>' tabindex='0'>\n                    <i class='material-icons'>&#xE55D;</i>\n                </div>\n                <div id='"+n.cutToolId+"' class='"+n.toolToggleClass+" accented-tab' title='<@- resources.cutTool @>' tabindex='0'>\n                    <i class='material-icons'>&#xE14E;</i>\n                </div>\n                <div id='"+n.focusToolId+"' class='"+n.toolToggleClass+" accented-tab' title='<@- resources.focusTool @>' tabindex='0'>\n                    <i class='material-icons'>&#xE3B4;</i>\n                </div>\n                <div id='"+n.addContentButtonId+"' class='add-content' title='<@- resources.addContentButton @>' tabindex='0'>\n                    <i class='material-icons'>&#xE145;</i>\n                    <div class='add-content-expansion-container' />\n                </div>\n                <div id='"+n.setThumbnailButtonId+"' class='thumbnail-button' title='<@- resources.thumbnailButton @>' tabindex='0'>\n                    <i class='material-icons'>more_horiz</i>\n                </div>\n                <div id='"+n.previewCutsCheckboxId+"' class='preview-cuts'>\n                    <div class='"+n.previewCutsEnabledClass+"' style='display: flex'>\n                        <i class=' material-icons'>check_box</i>\n                    </div>\n                    <div class='"+n.previewCutsDisabledClass+"' style='display: flex'>\n                        <i class='material-icons'>check_box_outline_blank</i>\n                    </div>\n                    <div class='preview-cuts-label'>\n                        <@- resources.previewCuts @>\n                    </div>\n                </div>\n            </div>\n        "),n}(),r.TimelineTools=a}(PanoptoTS||(PanoptoTS={})),(Panopto=Panopto||{}).Core=Panopto.Core||{},Panopto.Core.Constants=Panopto.Core.Constants||{},Panopto.Core.UI=Panopto.Core.UI||{},Panopto.Core.UI.Components=Panopto.Core.UI.Components||{},Panopto.Core.UI.Components.Editor=Panopto.Core.UI.Components.Editor||{},Panopto.Core.UI.Components.Editor.TimelineView=function(e,o,p,u){var n,f,m,h,v,C,P,S,g,t,y,I,r,i,b,T,R,w,A,a,s,c,l,E,M,k,D,U,x,d,O,F,N=Panopto.Core.Constants,j={},B="ruler-wrapper",V="icon-wrapper",H="stream-wrapper",L="stream-pane",G="stream-pane-primary",Q="stream-pane-secondary",W="vertical-scroll",z="horizontal-scroll",K=$("#timelineViewContainer"),q=0,Z=[],Y=[],J={},X=K.width(),ee=0,te=function(){_.each(Z,function(e){e.refresh()}),w.refresh(),_.each(Y,function(e){e.refresh()}),_.each(J,function(e){e.refresh()}),k.refresh(),D.refresh(),A.refresh(),a.resize(),s.resize(),T.refresh()},oe=function(e){var t;t=e-m.outerWidth()-g.outerWidth(),K.width(e),v.css({width:t,"max-width":t}),n.css({width:t,"max-width":t}),O=t,F=Math.max(t*q/Panopto.Core.Constants.MaxTimelineZoom,t),b.resize(O,F),pe(ee,t,X),te()},ne=function(e){ee=e,C.css("left",-ee),f.css("left",-ee)},re=function(e,t,o,n,r,i,a){var s;switch(void 0===i&&(i=!1),void 0===a&&(a=!0),r){case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session:(s=new PanoptoTS.Core.UI.Components.Editor.CutView(C,f,j,T,u,void 0,r)).setContainerTime(0,q),s.relativeEditorStart=t,s.relativeEditorEnd=o,s.refresh();break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream:var c=_.find(Z,function(e){return e.id===n});c&&(s=c.addCut(t,o));break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference:var l=J[n];void 0!==l&&(s=l.addCut(t,o))}return Y.push(s),e&&p.cutAdded&&p.cutAdded(s,a),i||ae(s,a),s},ie=function(e,t){t.remove();var o=Y.indexOf(t);0<=o&&Y.splice(o,1),t.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference&&J[t.targetId].removeCut(t),e&&p.cutRemoved&&p.cutRemoved(t)},ae=function(e,t){var o=d.resolveOverlappingCuts(Y,e,t);_.each(o.toRemove,function(e){ie(!1,e)}),_.each(o.toAdd,function(e){re(!1,e.relativeEditorStart,e.relativeEditorEnd,e.targetId,e.targetType,!0)}),Y.sort(function(e,t){return e.relativeEditorStart-t.relativeEditorStart})},se=function(e){p.positionChanged&&p.positionChanged(e)},ce=function(e,t){return Math.round((t.pageX-e.offset().left)/C.width()*q)},le=function(){c&&(c.remove(),c=void 0)},de=function(e,o,n){var t="mousemove."+o[0].id;e?$(document).on(t,function(t){!_.any(o,function(e){return e.containsPoint(t.pageX,t.pageY)})&&c&&c.container===n&&le()}):$(document).off(t)},ue=function(t){T.applyState(t);for(var e=0,o=Z;e<o.length;e++){o[e].updateTimelineStateWhenChangeIsTimelineViewTriggered(t)}_.each(J,function(e){e.applyState(t)}),b.applyState(t)},pe=function(t,o,n){_.each(Z,function(e){e.updateViewport(t,o,n)}),_.each(J,function(e){e.updateViewport()}),R.updateViewport(t,o,n)},fe=function(){U.activateCutControl(),x.activateCutControl();for(var e=0,t=Z;e<t.length;e++){t[e].activateCutControl()}_.each(J,function(e){e.activateCutControl()})},me=function(t){U.deactivateCutControl(t),x.deactivateCutControl(t);for(var e=0,o=Z;e<o.length;e++){o[e].deactivateCutControl(t)}_.each(J,function(e){e.deactivateCutControl(t)})};K.addClass("timeline-view"),K.html(_.template("<div class='ruler-pane'><div class='left-ruler-spacer'></div><div class='ruler-wrapper'><div class='ruler'></div></div><div class='ruler-spacer'></div></div><div class='timeline-pane'><div class='icon-cell'><div class='icon-wrapper'><div class='icon-pane'></div></div></div><div class='stream-cell'><div class='stream-wrapper'><div class='stream-pane'><div class='stream-pane-primary'></div><div class='stream-pane-secondary'></div></div></div></div><div class='vertical-scroll'></div></div><div class='scroll-pane'><div class='horizontal-scroll'></div></div>")),n=K.find("."+B),f=K.find(".ruler"),m=K.find("."+V),h=K.find(".icon-pane"),v=K.find("."+H),C=K.find("."+L),P=K.find("."+G),S=K.find("."+Q),g=K.find("."+W),t=K.find("."+z),(b=new PanoptoTS.Core.UI.Components.Editor.TimelineTools(u)).attachMouseWheelEvent(C),b.onZoomLevelChanged.add(function(e){var t,o,n;t=e.zoomLevel,o=e.point,X=Math.round(Math.clamp(O*Math.pow(N.TimelineZoomFactor,t),O,F)),C.width()!==X&&O<=X&&("number"!=typeof o&&(o=A.left),n=o*X/C.width()-v.width()/2,n=Math.clamp(n,0,X-v.width()),ne(n),C.width(X),f.width(X),pe(n,K.width(),X),te())}),b.onTogglePointerMode.add(function(e){I=PanoptoTS.Core.UI.Components.Editor.EditorMode.Pointer,e?(C.mousemove(function(e){var t=ce(C,e);c||(c=new PanoptoTS.Core.UI.Components.Editor.Marker(C,f,u)).setContainerTime(0,q),c.containerRelativeTime=t}),C.mouseleave(le),C.mousedown(function(e){se(ce(C,e))}),_.each(Z,function(e){Panopto.Core.ElementHelpers.removePointerEvents(e.$markerContainer,["mousemove","mousedown"])})):(C.off("mousemove mousedown mouseleave"),_.each(Z,function(e){Panopto.Core.ElementHelpers.reattachPointerEvents(e.$markerContainer)}))}),b.onToggleCutMode.add(function(e){I=PanoptoTS.Core.UI.Components.Editor.EditorMode.Cut,le(),e?fe():me()}),b.onToggleFocusMode.add(function(e){var o;I=PanoptoTS.Core.UI.Components.Editor.EditorMode.Focus,le(),o=e,_.each(Z,function(l){var t,r,i,d,u=[],a=[];o?(l.$markerContainer.mousedown(function(e){t=ce(l.$markerContainer,e),r=ce(C,e),d=l.addFocus(t,t),le(),$(document).on("mouseup."+l.id,function(e){d.relativeEditorStart!==d.relativeEditorEnd&&(_.each(a,function(e){ie(!1,e)}),_.each(u,function(e){re(!1,e.relativeEditorStart,e.relativeEditorEnd,e.targetId,e.targetType,!1,!1)}),p.focusAdded&&(a.length||u.length)&&p.focusAdded(a,u)),d.remove(),d=void 0,_.each(u,function(e){e.remove()}),u.length=0,$(document).off("mouseup."+l.id)})}),l.$markerContainer.mousemove(function(e){if(i=ce(l.$markerContainer,e),d){var t=T.snap(ce(C,e)),o=Math.min(r,t),n=Math.max(r,t);d.markers[0].sessionRelativeTime=o,d.markers[1].sessionRelativeTime=n,d.refresh(),_.each(u,function(e){e.remove()}),u.length=0,a.length=0,_.each(Y,function(e){var t;d.contains(e)?(e.toggle(!1),a.push(e)):d.contained(e)?(u.push(l.addCut(e.relativeEditorStart,d.relativeEditorStart)),u.push(l.addCut(d.relativeEditorEnd,e.relativeEditorEnd)),e.toggle(!1),a.push(e)):d.overlaps(e)?(t=l.addCut(e.relativeEditorStart,e.relativeEditorEnd),d.clipCutAtEdge(t),t.refresh(),u.push(t),e.toggle(!1),a.push(e)):(e.toggle(!0),e.toggleMarkers(!1))}),_.each(Z,function(e){if(l.isPrimary===e.isPrimary&&l.id!==e.id){var t=d.relativeEditorStart,o=y.calculateEditorTimeFromRelativeEditorTime(t,d.streamId),n=y.calculateRelativeEditorTimeFromEditorTime(o,e.id),r=e.boundedTime(n),i=d.relativeEditorEnd,a=y.calculateEditorTimeFromRelativeEditorTime(i,d.streamId),s=y.calculateRelativeEditorTimeFromEditorTime(a,e.id),c=e.boundedTime(s);r!==c&&u.push(e.addCut(r,c))}})}else c?c.containerRelativeTime=i:c=l.addMarker(i)})):l.$markerContainer.off("mousedown mousemove"),de(o,[l],l.$markerContainer)})}),b.addStreamClicked.add(function(){p.streamAddClicked()}),b.addClipClicked.add(function(){var t;(t=new PanoptoTS.Viewer.Dialogs.SessionReferenceInsertDialog(e,o,Panopto.GlobalResources,Panopto.ModalPopup.defaultInstance)).showDialog(),t.saveCallbacks.add(function(){var e=t.getSelectedSessionId();p.sessionReferenceAdded(e)})}),b.addQuizClicked.add(function(){p.questionListAddClicked()}),b.addYouTubeClicked.add(function(){p.youTubeAddClicked()}),b.addWebpageClicked.add(function(){p.webpageAddClicked()}),b.onTimelineExpansionToggled.add(function(e){p.timelineExpansionToggled(e)}),b.onAddContentExpansionControlToggled.add(function(e){p.addContentExpansionControlToggled(e)}),b.onPreviewCutsToggled.add(function(e){p.previewChanged(e)}),b.onChooseThumbnail.add(function(e){p.thumbnailChosen(e)}),b.onUploadThumbnail.add(function(){p.uploadChosen()}),K.prepend(b.element),I=PanoptoTS.Core.UI.Components.Editor.EditorMode.Pointer,R=Panopto.Core.UI.Components.Editor.Ruler(n,f,q),f.on("mousemove",function(e){var t=ce(f,e);l||(l=new PanoptoTS.Core.UI.Components.Editor.Marker(f,f,u,{isPlayhead:!0})).setContainerTime(0,q),l.containerRelativeTime=t}),f.on("mousedown",function(e){l&&se(l.containerRelativeTime)}),f.on("mouseleave",function(){l&&(l.remove(),l=void 0)}),(w=new PanoptoTS.Core.UI.Components.Editor.PresentationView(h,C,u)).onStackMouseover.add(function(){le()}),w.onStackClicked.add(function(e){if(p.stackExpanded){var t=$("#"+e.id);p.stackExpanded(e.events,t)}se(e.events[0].streamRelativeEditorTime)}),a=Panopto.Core.UI.Components.externalScrollbar(g,m.add(v),h.add(C),!1,function(){I===PanoptoTS.Core.UI.Components.Editor.EditorMode.Cut&&(_.each(Y,function(e){e.refresh()}),k.refresh(),D.refresh())}),s=Panopto.Core.UI.Components.externalScrollbar(t,n.add(v),f.add(C),!0,function(e){ne(e.left),pe(e.left,K.width(),X)}),v.add(t).mousemove(function(){clearTimeout(i),r=!0,i=setTimeout(function(){r=!1},N.ActiveUserTimeout)}),(A=new PanoptoTS.Core.UI.Components.Editor.Marker(C,f,u,{isPlayhead:!0})).setContainerTime(0,q),A.containerRelativeTime=0;var he=new PanoptoTS.Core.UI.Components.Editor.SessionAndStreamSnapTargetsGenerator;return T=new PanoptoTS.Core.UI.Components.Editor.SnapService(C,A,he),k=new PanoptoTS.Core.UI.Components.Editor.TopCutView(C,f,j,T,u,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),D=new PanoptoTS.Core.UI.Components.Editor.TailCutView(C,f,j,T,u,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),k.toggle(!1),D.toggle(!1),(E=new PanoptoTS.Core.UI.Components.Editor.Marker(C,f,u)).setContainerTime(0,q),E.toggle(!1),(M=new PanoptoTS.Core.UI.Components.Editor.CutView(C,f,j,T,u,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session)).setContainerTime(0,q),M.toggle(!1),(U=new PanoptoTS.Core.UI.Components.Editor.CutViewCreateController(P,T,E,M)).onCutControlExecuting.add(function(e){return me(e)}),U.onCutControlExecuted.add(function(){return fe()}),U.cutCreated.add(function(e){re(!0,e.relativeEditorStart,e.relativeEditorEnd,e.cutTargetId,e.cutTargetType,!1)}),(x=new PanoptoTS.Core.UI.Components.Editor.CutViewResizeController(k,D,Y)).onCutControlExecuting.add(function(e){return me(e)}),x.onCutControlExecuted.add(function(){return fe()}),d=new PanoptoTS.Core.UI.Components.Editor.CutViewOperationController,j.resize=oe,j.synchronize=function(e,t){var o=Math.clamp(e/q*C.width()-v.width()/2,0,C.width()-v.width());A.containerRelativeTime=e,t.playing&&!r&&(ne(o),s.resize()),b.synchronize(t)},j.addCut=re,j.resizeCut=function(e,t){if(r=!1,(n=e).targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session&&(r=n===k||n===D),n.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference&&(r=J[n.targetId].isVirtualCutView(n)),r)e.relativeEditorStart!==e.relativeEditorEnd&&re(!0,e.relativeEditorStart,e.relativeEditorEnd,e.targetId,e.targetType);else if(e.relativeEditorStart===e.relativeEditorEnd)e.relativeEditorStart=t,ie(!0,e);else{if(p.cutResized){var o=y.calculateEditorTime(t,e.targetId);p.cutResized(o,e)}ae(e,!0)}var n,r},j.applyState=function(o){y=o;var e=_.filter(o.streams(),function(t){return!_.find(Z,function(e){return e.id===t.id})}),n=[],t=(o.firstPrimaryOffset(),_.filter(o.events(),function(e){return e.type===Panopto.Core.EventType.SlideChange&&!e.isDefaultThumbnail})),r=I;b.setMode(PanoptoTS.Core.UI.Components.Editor.EditorMode.Default),_.each(_.toArray(Y),function(e){ie(!1,e)}),q=o.duration(),R.duration(q),A.setContainerTime(0,q),k.setContainerTime(0,q),D.setContainerTime(0,q),E.setContainerTime(0,q),M.setContainerTime(0,q),U.applyState(0,q,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),x.applyState(q,void 0,Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session),_.each(Z,function(t){var e=_.find(o.streams(),function(e){return e.id===t.id});e?(t.updateTimelineState(o),t.updateStream(e),t.refresh()):n.push(t)}),_.each(n,function(e){e.remove(),Z.splice(Z.indexOf(e),1)}),_.each(e,function(n){var e=new PanoptoTS.Core.UI.Components.Editor.SimpleStreamView(j,f,C,A,n,q,u,o);e.onCutControlExecuting.add(function(e){me(e)}),e.onCutControlExecuted.add(function(){return fe()}),e.onStackMouseover.add(function(){le()}),e.onStackClicked.add(function(e){if(p.stackExpanded){var t=$("#"+e.id);p.stackExpanded(e.events,t)}var o=y.calculateEditorTimeFromRelativeEditorTime(e.events[0].streamRelativeEditorTime,n.id);se(o)}),Z.push(e)});var i=0,a=0;P.empty(),S.empty(),_.chain(o.streams()).sortBy(function(e){return e.absoluteStart}).sortBy(function(e){return e.isPrimary?0:1}).each(function(t){var e=_.find(Z,function(e){return e.id===t.id});e.groupSortOrder=t.isPrimary?++i:++a,e.getElement().appendTo(t.isPrimary?P:S),h.append(e.iconElement)}),t.length?(w.toggle(!0),w.applyState(o)):w.toggle(!1),_.each(o.sessionReferences,function(e){if(!J.hasOwnProperty(e.id)){var t=new PanoptoTS.Core.UI.Components.Editor.SpliceView(j,f,C,A,u);t.onCutControlExecuting.add(function(e){me(e)}),t.onCutControlExecuted.add(function(){return fe()}),C.append(t.getElement()),J[e.id]=t}J[e.id].render(e,o)}),_.each(Object.keys(J),function(t){_.some(o.sessionReferences,function(e){return e.id===t})||(J[t].getElement().remove(),delete J[t])});var s=[],c=_.reduce(Z,function(e,t){return e+t.getElement().outerHeight()},0),l=t.length?w.getElement().outerHeight():0;s.push(c+l),_.each(J,function(e){s.push(e.getHeight())});var d=Math.max.apply(Math,s);m.add(v).add(h).add(C).add(g.find(".external-scroll-frame")).height(d),_.each(o.cuts(),function(e){var t,o,n;switch(e.targetType){case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session:case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Stream:t=e.targetType===Panopto.Core.ServiceInterface.Rest.Objects.TypeName.Session?void 0:e.targetId,o=y.calculateRelativeEditorTimeForCut(e.start,t),n=y.calculateRelativeEditorTimeForCut(e.end(),t);break;case Panopto.Core.ServiceInterface.Rest.Objects.TypeName.SessionReference:t=e.targetId,o=e.start,n=e.end()}re(!1,o,n,t,e.targetType)}),b.setMode(r),oe(K.width()),ue(o)},j.applyStateWhenChangeIsTimelineViewTriggered=ue,j.setPosition=se,j.removeTemporaryMarker=le,j.width=function(){return X},j.setCanAddClip=function(e){b.canAddClip=e},j},function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=e.Models.TypedCallback,a=function(){function t(e){var o=this;this._zoomLevel=0,this._zoomLevelCount=0,this._onZoomLevelChanged=new i,this._element=$(t.template({resources:e})),this._zoomOut=this._element.find("."+t.zoomOutClass),this.zoomSlider=this._element.find("."+t.zoomSliderClass),this._zoomIn=this._element.find("."+t.zoomInClass),Panopto.Core.UI.Handlers.button(this._zoomOut,function(){o._zoomOut.hasClass(Panopto.Core.Constants.DisabledClass)||(o.adjustZoomLevel(-1),o._onZoomLevelChanged.fire({zoomLevel:o._zoomLevel}))}),Panopto.Core.UI.Handlers.button(this._zoomIn,function(){o._zoomIn.hasClass(Panopto.Core.Constants.DisabledClass)||(o.adjustZoomLevel(1),o._onZoomLevelChanged.fire({zoomLevel:o._zoomLevel}))}),this.zoomSlider.slider({min:0,max:0,value:0,slide:function(e,t){o._zoomLevel=t.value,o._onZoomLevelChanged.fire({zoomLevel:o._zoomLevel}),o.toggleZoomButtons(o._zoomLevel)}})}return Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onZoomLevelChanged",{get:function(){return this._onZoomLevelChanged},enumerable:!0,configurable:!0}),t.prototype.attachMouseWheelEvent=function(o){var n=this;o.on("wheel",function(e){if(1<n._zoomLevelCount){var t=e.originalEvent;e.ctrlKey&&Math.abs(t.deltaY)&&(n.adjustZoomLevel(-Math.sign(t.deltaY)),n._onZoomLevelChanged.fire({zoomLevel:n._zoomLevel,point:t.pageX-o.offset().left}),e.stopPropagation(),e.preventDefault())}})},t.prototype.resize=function(e,t){this._zoomLevelCount=Math.ceil(Math.log(t/e)/Math.log(Panopto.Core.Constants.TimelineZoomFactor))+1,this.zoomSlider.slider("option","max",Math.max(this._zoomLevelCount-1,0)),this.adjustZoomLevel(0),this._element.toggle(1<this._zoomLevelCount),this._onZoomLevelChanged.fire({zoomLevel:this._zoomLevel})},t.prototype.toggleZoomButtons=function(e){0===e?this._zoomOut.addClass(Panopto.Core.Constants.DisabledClass):e===this._zoomLevelCount-1?this._zoomIn.addClass(Panopto.Core.Constants.DisabledClass):(this._zoomOut.removeClass(Panopto.Core.Constants.DisabledClass),this._zoomIn.removeClass(Panopto.Core.Constants.DisabledClass))},t.prototype.adjustZoomLevel=function(e){this._zoomLevel+=e,this._zoomLevel=Math.clamp(this._zoomLevel,0,this._zoomLevelCount-1),this.zoomSlider.slider("option","value",this._zoomLevel),this.toggleZoomButtons(this._zoomLevel)},t.zoomControlClass="zoom-control",t.zoomSliderClass="zoom-slider",t.zoomOutClass="zoom-out",t.zoomInClass="zoom-in",t.template=_.template("\n        <div class='"+t.zoomControlClass+"'>\n            <div class='zoom-wrapper'>\n                <i class='material-icons "+t.zoomOutClass+"'\n                    title='<@- resources.zoomOut @>'\n                    tabindex='0'>&#xE900;</i>\n                <div class='zoom-slider-wrapper'>\n                    <div class='"+t.zoomSliderClass+"'></div>\n                </div>\n                <i class='material-icons "+t.zoomInClass+"'\n                    title='<@- resources.zoomIn @>'\n                    tabindex='0'>&#xE8FF;</i>\n            </div>\n        </div>\n        "),t}(),r.TimelineZoom=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Events||(r.Events={}),a=function(){function e(e,t,o){this._events=e,this._left=t,this._width=o,this._id=_.uniqueId("stack")}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.width=function(){return this._width+(1<this._events.length?e.extraStackWidth:0)},e.extraStackWidth=10,e}(),i.EventStack=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n,r,i,a;t=e.Core||(e.Core={}),o=t.UI||(t.UI={}),n=o.Components||(o.Components={}),r=n.Editor||(n.Editor={}),i=r.Streams||(r.Streams={}),a=function(r){function e(e,t,o,n){return r.call(this,e,t,!0,o,n)||this}return __extends(e,r),e.prototype.modifyHistogramData=function(a,s,e){var c=a.calculateEditorTimeTicksFromAbsolute(e.absoluteStart),l=a.calculatePaddedDuration(e.duration,e.absoluteStart)+c,d=e.duration/s.length;_.chain(a.sessionReferences).sortBy(function(e){return-e.editorStartTime}).each(function(e){if(e.start>c&&e.start<l){for(var t=a.calculateSessionReferenceEditorStartTime(e)-c,o=Math.floor(t/d),n=Math.floor(e.referencedSessionDuration*Panopto.Core.Constants.TimelineChunkMultiplier/d),r=[],i=0;i<n;i++)r.push(0);s.splice.apply(s,[o,0].concat(r))}})},e}(i.PrimaryStreamView),i.HostPrimaryStreamView=a}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,i,n;t=e.Viewer||(e.Viewer={}),o=t.Dialogs||(t.Dialogs={}),i=e.Models.VoidCallback,n=function(){function r(e,t,o){var n=this;this.defaultTitle=e,this.resources=t,this.modalPopupInstance=o,this._saveCallbacks=new i,this._cancelCallbacks=new i,this.elementId=_.uniqueId("contentEditorDialog"),this.element=$(r.template({resources:this.resources})),this.element.attr("id",this.elementId),this.container=this.element.find(".editor-dialog-content"),Panopto.Core.UI.Handlers.button(this.element.find(".editor-dialog-save"),function(){n.validate()&&(n.hasChanges()&&n._saveCallbacks.fire(),n.modalPopupInstance.closeCriteria.length=0,n.closeDialog())}),Panopto.Core.UI.Handlers.button(this.element.find(".editor-dialog-cancel"),function(){n.closeDialog()}),this.modalPopupInstance.closeCriteria.push(function(){return!n.hasChanges()||confirm(n.resources.ViewerPlus_Edit_Modal_Confirm)}),this.element.keydown(function(e){e.stopPropagation()})}return Object.defineProperty(r.prototype,"saveCallbacks",{get:function(){return this._saveCallbacks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cancelCallbacks",{get:function(){return this._cancelCallbacks},enumerable:!0,configurable:!0}),r.prototype.showDialog=function(e,t){this.content=e,this.element.appendTo($(document.body)),this.modalPopupInstance.show("#"+this.elementId,t||this.defaultTitle,""),this.populateDialogContent(e),this.container.find(":focusable").first().focus()},r.prototype.closeDialog=function(){this.modalPopupInstance.close()&&(this._cancelCallbacks.fire(),this.element.detach())},r.prototype.valueChanged=function(e){var t=e.val(),o=e.val(e.data("initial-value")).val();return e.val(t),t!==o},r.template=_.template('\n            <div class="content-editor-dialog modal-tab">\n                <div class="editor-dialog-content">\x3c!-- Templates get loaded into here --\x3e</div>\n                <div class="modal-setting">\n                    <div class="modal-subtitle">\x3c!-- Empty modal-subtitle spacer to align with modal styles --\x3e</div>\n                    <div class="editor-dialog-buttons modal-setting-value">\n                        <div class="editor-dialog-save standard-button branded-button submit"\n                            tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Save @></div>\n                        <div class="editor-dialog-cancel standard-button cancel"\n                            tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Cancel @></div>\n                    </div>\n                </div>\n            </div>'),r}(),o.ContentEditorDialog=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,n;t=e.Viewer||(e.Viewer={}),o=t.Dialogs||(t.Dialogs={}),n=function(i){function a(e,t,o,n){var r=i.call(this,o.ViewerPlus_Edit_Modal_SessionReference_Edit_Title,o,n)||this;return r.minimumStartTime=e,r.maximumStartTime=t,r.contentElement=$(a.contentTemplate({resources:r.resources})),r.orderInput=r.contentElement.find(".edit-session-reference-order"),r.startTimeInput=r.contentElement.find(".edit-session-reference-start-time"),r.startTimeError=r.contentElement.find(".edit-session-reference-start-time-error"),r.startTimeInput.focus(function(){r.contentElement.find("#start-time-type-custom").prop("checked",!0)}),r.container.append(r.contentElement),r}return __extends(a,i),a.prototype.populateDialogContent=function(e){this.contentElement.find(".edit-session-reference-name").text(e.name),this.contentElement.find(".edit-session-reference-length").text(Panopto.Core.TimeHelpers.formatDuration(e.referencedSessionDuration,this.resources.TimeSeparator)),this.orderInput.val(e.order).data("initial-value",e.order);var t=Panopto.Core.TimeHelpers.formatDuration(e.editorStartTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.TimeSeparator,!0,Panopto.Viewer.Constants.DisplayTimeMillisecondPrecision);this.startTimeInput.val(t).data("initial-value",t)},a.prototype.validate=function(){if(this.startTimeError.empty(),this.contentElement.find("#start-time-type-custom").is(":checked")){if(!Panopto.Core.TimeHelpers.validateFormattedDuration(this.startTimeInput.val(),this.resources.TimeSeparator,Panopto.Viewer.Constants.DisplayTimeMillisecondPrecision))return this.startTimeError.text(this.resources.ViewerPlus_Edit_Modal_Error_InvalidTime),!1;var e=Panopto.Core.TimeHelpers.durationFromFormattedString(this.startTimeInput.val(),this.resources.TimeSeparator)*Panopto.Core.Constants.TimelineChunkMultiplier;if(e<this.minimumStartTime||e>this.maximumStartTime){var t=Panopto.Core.TimeHelpers.formatDuration(this.minimumStartTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.TimeSeparator,!0,Panopto.Viewer.Constants.DisplayTimeMillisecondPrecision),o=Panopto.Core.TimeHelpers.formatDuration(this.maximumStartTime/Panopto.Core.Constants.TimelineChunkMultiplier,this.resources.TimeSeparator,!0,Panopto.Viewer.Constants.DisplayTimeMillisecondPrecision),n=this.resources.ViewerPlus_Edit_Modal_Error_OutOfBounds.format(t,o);return this.startTimeError.text(n),!1}}return!0},a.prototype.hasChanges=function(){var e=!1;return e=(e=(e=e||this.valueChanged(this.orderInput))||this.valueChanged(this.startTimeInput))||!this.contentElement.find("#start-time-type-custom").is(":checked")},a.prototype.createModifiedContent=function(){var e,t;return e=parseInt(this.orderInput.val()),t=this.contentElement.find("#start-time-type-custom").is(":checked")?Panopto.Core.TimeHelpers.durationFromFormattedString(this.startTimeInput.val(),this.resources.TimeSeparator)*Panopto.Core.Constants.TimelineChunkMultiplier:this.contentElement.find("#start-time-type-start").is(":checked")?-1/0:1/0,this.content.copy(!0,{order:e,start:t})},a.contentTemplate=_.template('\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_SessionName @></div>\n                <div class="modal-setting-value edit-session-reference-name"></div>\n            </div>\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_Length @></div>\n                <div class="modal-setting-value edit-session-reference-length"></div>\n            </div>\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_Order @></div>\n                <div class="modal-setting-value">\n                    <input class="edit-session-reference-order" type="text" />\n                    <div class="edit-session-reference-order-error modal-instructions error"></div>\n                </div>\n            </div>\n            <div class="modal-setting">\n                <div class="modal-subtitle"><@= resources.ViewerPlus_Edit_Modal_StartTime @></div>\n                <div class="modal-setting-value">\n                    <div class="radio-option">\n                        <div class="radio-input">\n                            <input type="radio"\n                                name="start-time-type"\n                                value="head"\n                                id="start-time-type-custom"\n                                checked="checked" />\n                        </div>\n                        <div class="radio-custom-input">\n                            <input class="edit-session-reference-start-time" type="text" />\n                            <div class="edit-session-reference-start-time-error modal-instructions error"></div>\n                        </div>\n                    </div>\n                    <div class="radio-option">\n                        <div class="radio-input">\n                            <input type="radio" name="start-time-type" value="start" id="start-time-type-start" />\n                        </div>\n                        <div class="radio-label">\n                            <label for="start-time-type-start">\n                                <@= resources.ViewerPlus_Edit_Modal_StartAtBeginning @>\n                            </label>\n                        </div>\n                    </div>\n                    <div class="radio-option">\n                        <div class="radio-input">\n                            <input type="radio" name="start-time-type" value="end" id="start-time-type-end" />\n                        </div>\n                        <div class="radio-label">\n                            <label for="start-time-type-end">\n                                <@= resources.ViewerPlus_Edit_Modal_StartAtEnd @>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>'),a}(o.ContentEditorDialog),o.SessionReferenceEditorDialog=n}(PanoptoTS||(PanoptoTS={})),function(e){var t,o,s,n;t=e.Viewer||(e.Viewer={}),o=t.Dialogs||(t.Dialogs={}),s=e.Models.VoidCallback,n=function(){function a(e,t,o,n){var r=this;this.resources=o,this.modalPopupInstance=n,this._saveCallbacks=new s,this._cancelCallbacks=new s;var i=Panopto.Core.StringHelpers.addQueryParameter(Panopto.appRoot+"/Pages/Sessions/EmbeddedUpload.aspx",{homePageEdit:!0,singleEmbedOnly:!0,excludeDeliveriesWithDeliveryReferences:!0,excludedDeliveryId:e,folderID:t});this.elementId=_.uniqueId("contentEditorDialog"),this.element=$(a.contentTemplate({embeddedUploadUrl:i,resources:this.resources})),this.element.attr("id",this.elementId),this.embeddedUploadIframe=this.element.find("iframe")[0],this.insertButton=this.element.find(".editor-dialog-save"),this.insertButton.toggleClass(Panopto.Core.Constants.DisabledClass,!0),Panopto.Core.UI.Handlers.button(this.insertButton,function(){r.hasChanges()&&(r._saveCallbacks.fire(),r.modalPopupInstance.closeCriteria.length=0,r.closeDialog())}),Panopto.Core.UI.Handlers.button(this.element.find(".editor-dialog-cancel"),function(){r.closeDialog()}),this.modalPopupInstance.closeCriteria.push(function(){return!r.hasChanges()||confirm(r.resources.ViewerPlus_Edit_Modal_Confirm)}),this.element.keydown(function(e){e.stopPropagation()}),$(window).on("message onmessage",function(e){try{var t=e.originalEvent;if(t.source===r.embeddedUploadIframe.contentWindow){var o=JSON.parse(t.data);r.hasSessionSelected="ready"===o.cmd,r.insertButton.toggleClass(Panopto.Core.Constants.DisabledClass,!r.hasSessionSelected)}}catch(e){}})}return Object.defineProperty(a.prototype,"saveCallbacks",{get:function(){return this._saveCallbacks},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cancelCallbacks",{get:function(){return this._cancelCallbacks},enumerable:!0,configurable:!0}),a.prototype.showDialog=function(){this.element.appendTo($(document.body)),this.modalPopupInstance.show("#"+this.elementId,this.resources.ViewerPlus_Edit_Modal_SessionReference_Insert_Title)},a.prototype.closeDialog=function(){this.modalPopupInstance.close()&&(this._cancelCallbacks.fire(),this.element.detach())},a.prototype.hasChanges=function(){return this.hasSessionSelected},a.prototype.getSelectedSessionId=function(){return this.embeddedUploadIframe.contentWindow.Panopto.BatchUpload.EmbeddedView.getSelectedSessions()[0].deliveryId},a.contentTemplate=_.template('\n            <div class="content-editor-dialog modal-tab session-reference-insert-dialog">\n                <div class="modal-title">\n                    <@= resources.ViewerPlus_Edit_Modal_SessionReference_Insert_Subtitle @>\n                </div>\n                <div>\n                    <iframe src="<@= embeddedUploadUrl @>"></iframe>\n                </div>\n                <div class="editor-dialog-buttons">\n                    <div class="editor-dialog-save standard-button branded-button submit"\n                         role="button"\n                         tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Insert @></div>\n                    <div class="editor-dialog-cancel standard-button cancel"\n                         role="button"\n                         tabindex="0"><@= resources.ViewerPlus_Edit_Modal_Cancel @></div>\n                </div>\n            <div>'),a}(),o.SessionReferenceInsertDialog=n}(PanoptoTS||(PanoptoTS={}));